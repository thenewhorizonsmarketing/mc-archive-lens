var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(g){return g instanceof e?g:new e(function(h,l){h(g)})}if(a&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return a;b.prototype.asyncExecute=function(g){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(g)};
var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(g){d(g,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var g=this.batch_;this.batch_=[];for(var h=0;h<g.length;++h){var l=g[h];g[h]=null;try{l()}catch(m){this.asyncThrow_(m)}}}this.batch_=null};b.prototype.asyncThrow_=function(g){this.asyncExecuteFunction(function(){throw g;})};var e=function(g){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var h=this.createResolveAndReject_();
try{g(h.resolve,h.reject)}catch(l){h.reject(l)}};e.prototype.createResolveAndReject_=function(){function g(m){return function(k){l||(l=!0,m.call(h,k))}}var h=this,l=!1;return{resolve:g(this.resolveTo_),reject:g(this.reject_)}};e.prototype.resolveTo_=function(g){if(g===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof e)this.settleSameAsPromise_(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(g):
this.fulfill_(g)}};e.prototype.resolveToNonPromiseObj_=function(g){var h=void 0;try{h=g.then}catch(l){this.reject_(l);return}"function"==typeof h?this.settleSameAsThenable_(h,g):this.fulfill_(g)};e.prototype.reject_=function(g){this.settle_(2,g)};e.prototype.fulfill_=function(g){this.settle_(1,g)};e.prototype.settle_=function(g,h){if(0!=this.state_)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.state_);this.state_=g;this.result_=h;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};e.prototype.scheduleUnhandledRejectionCheck_=function(){var g=this;d(function(){if(g.notifyUnhandledRejection_()){var h=$jscomp.global.console;"undefined"!==typeof h&&h.error(g.result_)}},1)};e.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var g=$jscomp.global.CustomEvent,h=$jscomp.global.Event,l=$jscomp.global.dispatchEvent;if("undefined"===typeof l)return!0;"function"===typeof g?g=new g("unhandledrejection",{cancelable:!0}):
"function"===typeof h?g=new h("unhandledrejection",{cancelable:!0}):(g=$jscomp.global.document.createEvent("CustomEvent"),g.initCustomEvent("unhandledrejection",!1,!0,g));g.promise=this;g.reason=this.result_;return l(g)};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var g=0;g<this.onSettledCallbacks_.length;++g)f.asyncExecute(this.onSettledCallbacks_[g]);this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(g){var h=this.createResolveAndReject_();
g.callWhenSettled_(h.resolve,h.reject)};e.prototype.settleSameAsThenable_=function(g,h){var l=this.createResolveAndReject_();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};e.prototype.then=function(g,h){function l(p,q){return"function"==typeof p?function(r){try{m(p(r))}catch(t){k(t)}}:q}var m,k,n=new e(function(p,q){m=p;k=q});this.callWhenSettled_(l(g,m),l(h,k));return n};e.prototype.catch=function(g){return this.then(void 0,g)};e.prototype.callWhenSettled_=function(g,h){function l(){switch(m.state_){case 1:g(m.result_);
break;case 2:h(m.result_);break;default:throw Error("Unexpected state: "+m.state_);}}var m=this;null==this.onSettledCallbacks_?f.asyncExecute(l):this.onSettledCallbacks_.push(l);this.isRejectionHandled_=!0};e.resolve=c;e.reject=function(g){return new e(function(h,l){l(g)})};e.race=function(g){return new e(function(h,l){for(var m=$jscomp.makeIterator(g),k=m.next();!k.done;k=m.next())c(k.value).callWhenSettled_(h,l)})};e.all=function(g){var h=$jscomp.makeIterator(g),l=h.next();return l.done?c([]):new e(function(m,
k){function n(r){return function(t){p[r]=t;q--;0==q&&m(p)}}var p=[],q=0;do p.push(void 0),q++,c(l.value).callWhenSettled_(n(p.length-1),k),l=h.next();while(!l.done)})};return e},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,c||0)}},"es6","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(b,c){var d=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var e=b.length;0<e&&0<c;)if(d[--c]!=b[--e])return!1;return 0>=e}},"es6","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),k=Object.seal({}),n=new a([[m,2],[k,3]]);if(2!=n.get(m)||3!=n.get(k))return!1;n.delete(m);n.set(k,4);return!n.has(m)&&4==n.get(k)}catch(p){return!1}}function c(){}function d(m){var k=typeof m;return"object"===k&&null!==m||"function"===k}function e(m){if(!$jscomp.owns(m,g)){var k=new c;$jscomp.defineProperty(m,g,{value:k})}}function f(m){if(!$jscomp.ISOLATE_POLYFILLS){var k=Object[m];k&&(Object[m]=
function(n){if(n instanceof c)return n;Object.isExtensible(n)&&e(n);return k(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var h=0,l=function(m){this.id_=(h+=Math.random()+1).toString();if(m){m=$jscomp.makeIterator(m);for(var k;!(k=m.next()).done;)k=k.value,this.set(k[0],k[1])}};l.prototype.set=function(m,k){if(!d(m))throw Error("Invalid WeakMap key");
e(m);if(!$jscomp.owns(m,g))throw Error("WeakMap key fail: "+m);m[g][this.id_]=k;return this};l.prototype.get=function(m){return d(m)&&$jscomp.owns(m,g)?m[g][this.id_]:void 0};l.prototype.has=function(m){return d(m)&&$jscomp.owns(m,g)&&$jscomp.owns(m[g],this.id_)};l.prototype.delete=function(m){return d(m)&&$jscomp.owns(m,g)&&$jscomp.owns(m[g],this.id_)?delete m[g][this.id_]:!1};return l},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var l=Object.seal({x:4}),m=new a($jscomp.makeIterator([[l,"s"]]));if("s"!=m.get(l)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var k=m.entries(),n=k.next();if(n.done||n.value[0]!=l||"s"!=n.value[1])return!1;n=k.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!k.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=new WeakMap,d=function(l){this.data_={};this.head_=g();this.size=0;if(l){l=$jscomp.makeIterator(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}};d.prototype.set=function(l,m){l=0===l?0:l;var k=e(this,l);k.list||(k.list=this.data_[k.id]=[]);k.entry?k.entry.value=m:(k.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:l,value:m},k.list.push(k.entry),
this.head_.previous.next=k.entry,this.head_.previous=k.entry,this.size++);return this};d.prototype.delete=function(l){l=e(this,l);return l.entry&&l.list?(l.list.splice(l.index,1),l.list.length||delete this.data_[l.id],l.entry.previous.next=l.entry.next,l.entry.next.previous=l.entry.previous,l.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(l){return!!e(this,l).entry};d.prototype.get=function(l){return(l=
e(this,l).entry)&&l.value};d.prototype.entries=function(){return f(this,function(l){return[l.key,l.value]})};d.prototype.keys=function(){return f(this,function(l){return l.key})};d.prototype.values=function(){return f(this,function(l){return l.value})};d.prototype.forEach=function(l,m){for(var k=this.entries(),n;!(n=k.next()).done;)n=n.value,l.call(m,n[1],n[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(l,m){var k=m&&typeof m;"object"==k||"function"==k?c.has(m)?k=c.get(m):
(k=""+ ++h,c.set(m,k)):k="p_"+m;var n=l.data_[k];if(n&&$jscomp.owns(l.data_,k))for(l=0;l<n.length;l++){var p=n[l];if(m!==m&&p.key!==p.key||m===p.key)return{id:k,list:n,index:l,entry:p}}return{id:k,list:n,index:-1,entry:void 0}},f=function(l,m){var k=l.head_;return $jscomp.iteratorPrototype(function(){if(k){for(;k.head!=l.head_;)k=k.previous;for(;k.next!=k.head;)return k=k.next,{done:!1,value:m(k)};k=null}return{done:!0,value:void 0}})},g=function(){var l={};return l.previous=l.next=l.head=l},h=0;
return d},"es6","es3");
$jscomp.polyfill("Set",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var d=Object.seal({x:4}),e=new a($jscomp.makeIterator([d]));if(!e.has(d)||1!=e.size||e.add(d)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var f=e.entries(),g=f.next();if(g.done||g.value[0]!=d||g.value[1]!=d)return!1;g=f.next();return g.done||g.value[0]==d||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:f.next().done}catch(h){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=function(d){this.map_=new Map;if(d){d=$jscomp.makeIterator(d);for(var e;!(e=d.next()).done;)this.add(e.value)}this.size=this.map_.size};c.prototype.add=function(d){d=0===d?0:d;this.map_.set(d,d);this.size=this.map_.size;return this};c.prototype.delete=function(d){d=this.map_.delete(d);this.size=this.map_.size;return d};c.prototype.clear=function(){this.map_.clear();this.size=0};c.prototype.has=
function(d){return this.map_.has(d)};c.prototype.entries=function(){return this.map_.entries()};c.prototype.values=function(){return this.map_.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(d,e){var f=this;this.map_.forEach(function(g){return d.call(e,g,g,f)})};return c},"es6","es3");
$jscomp.polyfill("Object.entries",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push([d,b[d]]);return c}},"es8","es3");$jscomp.polyfill("globalThis",function(a){return a||$jscomp.global},"es_2020","es3");$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}},"es6","es3");
$jscomp.typedArrayFill=function(a){return a?a:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}},"es6","es3");
function initToolbarSvgIcons(){var a="fill="+Color(getConfigValue("iconColor","#ffffff")).toString();window.toolbarSvgicons={instructions:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+a+' version="1.1" id="\u56fe\u5c42_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10 S15.5,0,10,0z"/> <path class="st0" d="M10.2,4.8c0.9,0,1.7,0.2,2.2,0.7c0.6,0.5,0.8,1.2,0.8,2c0,0.7-0.2,1.3-0.5,1.7c-0.1,0.2-0.6,0.5-1.2,1.1 c-0.2,0.2-0.4,0.4-0.6,0.7c-0.1,0.3-0.2,0.6-0.2,0.9v0.2H9.1v-0.2c0-0.6,0.1-1,0.3-1.4s0.7-1,1.6-1.8l0.2-0.2c0.3-0.3,0.4-0.6,0.4-1 s-0.1-0.8-0.4-1.1C10.9,6.1,10.6,6,10.1,6C9.5,6,9,6.2,8.8,6.6C8.5,7.1,8.4,7.5,8.4,8.1H6.8c0-1,0.3-1.9,0.9-2.4 C8.3,5.1,9.1,4.8,10.2,4.8z M9.9,12.9c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8s-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3S9.4,15,9.1,14.8 c-0.2-0.3-0.3-0.6-0.3-0.9c0-0.3,0.1-0.6,0.3-0.8C9.4,13,9.6,12.9,9.9,12.9z"/> </svg> ',close:'<?xml version="1.0" encoding="utf-8"?> <svg class="svg" '+
a+' version="1.1" id="\u56fe\u5c42_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <path class="st0" d="M11.9,10l5.7-5.7c0.5-0.5,0.5-1.4,0-1.9s-1.4-0.5-1.9,0l0,0L10,8.1L4.3,2.4c-0.5-0.5-1.4-0.5-1.9,0 s-0.5,1.4,0,1.9l0,0L8.1,10l-5.7,5.7c-0.5,0.5-0.5,1.4,0,1.9c0,0,0,0,0,0c0.5,0.5,1.4,0.5,1.9,0c0,0,0,0,0,0l5.7-5.7l5.7,5.7 c0.5,0.5,1.4,0.5,1.9,0c0,0,0,0,0,0c0.5-0.5,0.5-1.4,0-1.9c0,0,0,0,0,0L11.9,10z"/> </svg> ',
arrow_down:'<svg class="svg" '+a+' version="1.1" id="\u56fe\u5c42_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"><path class="st0" d="M19.5,4.8C19.5,4.9,19.5,4.9,19.5,4.8c0.6,0.7,0.6,1.7-0.1,2.3l-8.3,8.1c-0.6,0.6-1.7,0.6-2.3,0L0.5,7.1l0,0c-0.6-0.6-0.6-1.6,0-2.2c0.7-0.6,1.7-0.6,2.3,0l7.2,6.9l7.1-6.9C17.8,4.2,18.8,4.2,19.5,4.8L19.5,4.8z"/></svg>'}};var form_icons={arrow:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhFQzhEQjMyOTA3MzExRTg4NzBEQTMwNzA2QkI3NEI1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhFQzhEQjMzOTA3MzExRTg4NzBEQTMwNzA2QkI3NEI1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEVDOERCMzA5MDczMTFFODg3MERBMzA3MDZCQjc0QjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEVDOERCMzE5MDczMTFFODg3MERBMzA3MDZCQjc0QjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7CFDgNAAAAQ0lEQVR42mL8//8/AyWAcdQADANgHEYc6jHkcRmAzRCscti8gE0hToNxhQGugGEkJRD/E9JMTCwQCtTRlEgNAwACDACDFjjheCmYIwAAAABJRU5ErkJggg==",
arrow2:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAABASURBVHjaYvz//z8DJYBxyBgAU8RIjgHICkg2AK9mQgYQ1IzPAKI009QAir1AlUCkSjRSJSEN8swEAAAA//8DAFMlOeGtPxcVAAAAAElFTkSuQmCC",
arrow3:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAABBSURBVHjaYvz//z8DJYBx0BoAE2Sk1ACChuDzAlGGEAoDgoYQE4h4DaG5ARR5gaJApDgaKU5IQygzAQAAAP//AwBzJTnhOyCsXQAAAABJRU5ErkJggg==",
close:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwNDdBQjNDOTA3MzExRTg5NzRDQjk1QUMwRkU4MjBGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwNDdBQjNEOTA3MzExRTg5NzRDQjk1QUMwRkU4MjBGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTA0N0FCM0E5MDczMTFFODk3NENCOTVBQzBGRTgyMEYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTA0N0FCM0I5MDczMTFFODk3NENCOTVBQzBGRTgyMEYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6k9dw0AAAASElEQVR42mL8//8/AyWAcdAZAOMw4lCPIY/LAGyGYJXD5gVsCnEajCsMcAUMIymB+J+QZpoaQJEXKApEiqOR4oQ0BDMTQIABAK55P+GirBRXAAAAAElFTkSuQmCC",
"delete":"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNDgzNzgwOTA3MzExRThCMDZEQTJFRDZBNDBCNzQzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNDgzNzgxOTA3MzExRThCMDZEQTJFRDZBNDBCNzQzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI0ODM3N0U5MDczMTFFOEIwNkRBMkVENkE0MEI3NDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI0ODM3N0Y5MDczMTFFOEIwNkRBMkVENkE0MEI3NDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz60PAvqAAAAQ0lEQVR42mL8//8/AyWAiYFCQFMDGoD4PxJuwKaIEUsYEBMojDAGCz5JYgALDvH/xNg++GNhiBvQSKw449DPTAABBgCqkhAZm51S9gAAAABJRU5ErkJggg==",
edit:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMzVBMjk0OTA3MzExRTg4M0IxRDA3MUZGOTZDODY5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUyMzVBMjk1OTA3MzExRTg4M0IxRDA3MUZGOTZDODY5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTIzNUEyOTI5MDczMTFFODgzQjFEMDcxRkY5NkM4NjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTIzNUEyOTM5MDczMTFFODgzQjFEMDcxRkY5NkM4NjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4mTkkFAAAAaElEQVR42mL8//8/AyWAcUgZAFPISI4B6IoYSTEApEAciF9iM4ABZAAe/PA/AohBaRQ1+FyATYIRUxVhm0HgLi5XEqP5Hj5vonvhIRDLoXmDiZR0gMx5AMSKpCak/6RoHnp5ASsACDAAnYDOwlScSywAAAAASUVORK5CYII=",
print_left:"iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTFFQkQxQTEzRThGMTFFNkI3MzdDMkY1QjM2RTRBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTFFQkQxQTIzRThGMTFFNkI3MzdDMkY1QjM2RTRBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFMUVCRDE5RjNFOEYxMUU2QjczN0MyRjVCMzZFNEEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFMUVCRDFBMDNFOEYxMUU2QjczN0MyRjVCMzZFNEEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmgUvpAAAABHSURBVHja7JSxDQAgDMNq/v/ZvMDiAUEOiCrHKuoUWRPlrWKLYouLLVBYMLYYz8IKr/OY8mJKFJSMKcejtIJSN/6jP8oWYACl7AopprxqJAAAAABJRU5ErkJggg==",
print_off:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTE2OEY2MzgzRDA1MTFFNjlGN0JBMDJFMzZGRjFENUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTE2OEY2MzkzRDA1MTFFNjlGN0JBMDJFMzZGRjFENUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MTY4RjYzNjNEMDUxMUU2OUY3QkEwMkUzNkZGMUQ1QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MTY4RjYzNzNEMDUxMUU2OUY3QkEwMkUzNkZGMUQ1QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Phv3r/EAAAAnSURBVHjaYvwPBAxkABYozUiivv9MDGSCUY2jGskDsLRKckIHCDAAdXAGG5Dno88AAAAASUVORK5CYII=",
print_on:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDVEOTBCOTEzRDA1MTFFNkJDNzdDQjg2RjEyMEY0NUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDVEOTBCOTIzRDA1MTFFNkJDNzdDQjg2RjEyMEY0NUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NUQ5MEI4RjNEMDUxMUU2QkM3N0NCODZGMTIwRjQ1QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NUQ5MEI5MDNEMDUxMUU2QkM3N0NCODZGMTIwRjQ1QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvcnq1YAAABNSURBVHjaYvwPBAxkABYozUiivv9MDGQCumj8T47G/4Rs/I9F0X9sAYiukRFN8X9coY7NqYyENOHzIyOh+MUXOIwDHo9Y0yrJCR0gwACJ3A4bCSIKTwAAAABJRU5ErkJggg==",
print_right:"iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDcwNDM3NjEzRThGMTFFNjkyOUFFOUQxNDAyQ0E5RTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDcwNDM3NjIzRThGMTFFNjkyOUFFOUQxNDAyQ0E5RTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENzA0Mzc1RjNFOEYxMUU2OTI5QUU5RDE0MDJDQTlFNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENzA0Mzc2MDNFOEYxMUU2OTI5QUU5RDE0MDJDQTlFNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgoGXOkAAABLSURBVHja7NTBCQAwCANAs//QShdojSI0YN5yn2Dg7jYRLMzA5wBTsLE4A1M4C6fxCpzCq/AT78BX/EsYMuVB5kEgM0I79L2EAAMAxeRP1Sey/DsAAAAASUVORK5CYII=",
save:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg2QTc1RTVBOTE0QjExRThBODQyQzYxRDFFNzlEREFCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg2QTc1RTVCOTE0QjExRThBODQyQzYxRDFFNzlEREFCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODZBNzVFNTg5MTRCMTFFOEE4NDJDNjFEMUU3OUREQUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODZBNzVFNTk5MTRCMTFFOEE4NDJDNjFEMUU3OUREQUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7wGPvXAAAAW0lEQVR42mL8//8/AyWAiYFCMAQN8Fjv8R+EyTIAWSPJBiBr3hG4g5EkA3BpRjEA3W/EaMbqAmQNhDSDACNySsTmAnyaMVyATSE+zVi9gKyBkGYMLwzNvAAQYAB4QzGRFffV0wAAAABJRU5ErkJggg==",
cancel:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwNDdBQjNDOTA3MzExRTg5NzRDQjk1QUMwRkU4MjBGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwNDdBQjNEOTA3MzExRTg5NzRDQjk1QUMwRkU4MjBGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTA0N0FCM0E5MDczMTFFODk3NENCOTVBQzBGRTgyMEYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTA0N0FCM0I5MDczMTFFODk3NENCOTVBQzBGRTgyMEYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6k9dw0AAAASElEQVR42mL8//8/AyWAcdAZAOMw4lCPIY/LAGyGYJXD5gVsCnEajCsMcAUMIymB+J+QZpoaQJEXKApEiqOR4oQ0BDMTQIABAK55P+GirBRXAAAAAElFTkSuQmCC",
help_form:"iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDA1QzE3RUQ0QTU3MTFFNjgzNjFBNDM1NjkxMDU4QzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDA1QzE3RUU0QTU3MTFFNjgzNjFBNDM1NjkxMDU4QzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MDVDMTdFQjRBNTcxMUU2ODM2MUE0MzU2OTEwNThDOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MDVDMTdFQzRBNTcxMUU2ODM2MUE0MzU2OTEwNThDOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pkdk2GsAAAebSURBVHja7J1ZbFRVGMdPp9CKS6QgPvhAoFAJogilFFwjiMYIEkSKRiAmRJZWH/CpfSMRDbZRTAyx0KgJFhUhNia+GKkY2VSWuqKIUDD4AKJUZS+l4//j/u/k9nb2uTP33JnzJf9Ml1m+87tnzv3O+hWFw2FlLPs2QDN/iqGx0O3QOGgkNAK6CRoKlUI3QN3QWegfPp6BjlE/Ub9AV3QpWJHPNboImgA9Ak2HpjhAHoY6Ce9fwhSw5/ja66DBfP6NvCCjoNHQQD7/G2gb9Cn0HRQuNNACZBG0kD+fgrZCu6Dd0AHocprvXcJvxH3Qg9D9vBBHoI1QK3/OrQnoHGkAtADaCfVCJ6E1UDUUyuLnFkNT+Fkn+dm7oIX0KSflz8WHlEBLoMNQD7QFejSXhXRd7EfpQw99WkIfAwtaauli6Dh0CXoHqvABbiyJL2/Tt+P0NRQ00FXQfugK1AIN1wiwW+LbOvq6n75rD3og1AhdZls8UWPAbomvO+h7E8uiJeiR0B7oLFSX5RtcNpu7OpZhL8vkyXuHPApe5kAdjIsroTeh3gB24HrpeyV/72DZfA/vJA5/kSHTeqg0gLU4lkpZpjDLWORX0yHx6QaGSXV5BNitOpZxA8ucU9ASd7ZB56FZeQzZ1iyWtS3dmDvdmvwR9B/0QAFAtiVlPcOyF2cbtLRTrdA5aFoBQbY1jWVvTbXNTvWDXmZ7NbsAIduaTQarswW6htFFbQFDtlVLFjXJvibZYVIZjN8DfQAtNfMlV2099DRUzUmGjMejSwlZBuPv4aMxa9x7Fx8F9qV4T06mZ7iKg/MLDOQ+1k0m5dBLmfYMJxVAh8SL9ron0ahfvKYjxDm3i5wOMtPlsec9t0OD2IT0ptp0LIYmQs8byPEbBeg5TjIvTvVmOIiz0J9Ayw3LpGwd9Bhn4S8kW6MFbhlvhMaSs1VkVptsjS7hWorN0ArDLyV7HXqSa0y6E9Xop6Bh0BrDLS3Qw8gwYY2WzslRXhljqduHylrKVh2vRo+HJkMthlfa1kKG4+OBlmVavytrvZouNonjCvsYSjl1mv/TafxlG1uERbFAS+A9D9qkSdxcTrj7HDWlyKX5/F+9stbTzdAkrpZAooY+9uuC38mJyGoNurXS9T8NbU7hNfX0v14D/yfTlwnRxqMbuAjQ7/UY5YRcn+YF0gF2iCwboo11fAb9qayltH6aLN+VddHL0nx9PSUjjl0+luM9hnoPO9toWWk/VVlrk/20Gt78GjJ4j0Y++t1e7yTTYifoMcpaOf+VBqBbPKiJ7bxgftrXZDrWCVpGnnqgn310rIyg2z14ry6+n58mLC/b8bQNWqgfVAmmY3IQL4vtz5OOi7D8VVmbniKgyxlk+x03d3p0Ayvz+UZo21EOMEVAD+eInfK56fAK8gxNQB8j28g+w5uVtTPKT/OqyaghbB3Ga06RbQT0EOhvn51q9+BGWMYYulGTGn2abCNNxzXK2iwZdNtMwA2a+CNMS501+vo8gLyVN9QqjXwKM5aO1OggL4wp4wifPD6kSZPRz+wafSbAkLfyZx0hyzDpWTfowQGGXKWpj8L0ohv00ICBXk/YVRr7OISRRwS0/DIsQJCXslNSpWubTBOmJ503w067qxiQJuMVxsqdmvsqTI84Qcvgx8iAgK7hY2MAfBWmB92gx9jBteYmTcaWAPhZQqaH3KDleJzbAlCA8gA0GWLjyLRPjT7Em8pUA9ozm0qmfWq0nKb1pbL2qAThZtgVAD+F5Xay7bOAZht7VyHNCyC9rXbNfQyR5efOPzhBy9jpJGUsU6skyy+igZbJRFl394ThlLHNI8sD0UCHGTbNV841Y8bSadrmk2U4GmixVgbZ0zUuSFjpsZgxlk0jw43uRttpP0B7ldmGnIktI8Pv44EWWwvNVZy9NZaSDSe7tdHCELfJ+miZvX3BcEvZVpDdpmRAy7TWq/wK3GLYJW3CSrYNvqaiTA2aDZ3eWVobOuWJK6FnlWvTi7GodgdZrYwGOV6Nti/CHr7QbLqPHzfLOJEcHC67sVLedN/LZuMu03zENWFzN+9psU+vTGI/RhOPIaswZ3P002iyafLiTCWZKdjJr4g56qc/F7F7E3FJZki0m313uZu+YfhGTFhUKGsrd+LKl8LX5HFzHFu/49jmZuuAwdXmgMHsHzBoH5m50RyZeZVBUS4OgW0r4ENg23JxCGy0Y41nFgDkmX4ca+zMaWIf1J3PN8jlLOO7meSO8fLo+eY8PHq+WYej552aA3Ux00NFnvT49rJMc3TKWvGxsqbYpZspmR5qlf7rQ2J14MT3b/l7JcvmwUyn9wlvmpg0ZkfAEt5MCErCG3cKpw463RyAFE7N9LUjKCmc4iUle4ttny6AR9En8e2PoCYlc8fcS6EjrjR7xT7ALXal2eukb4FOsxct7pZkjbsZDp5gMsfJOUgcWc3POsFwbXeuE0f6mQr1GWWdkZ/NVKjTOQ0n29BkL8n70AblQypUnZP7/qasBedy5sVfyjoU4Lzqm9z3WmVt25Msy7IMSxap36pMct+EZqerllll2ZowQvVNVz2IgBWBX+AFkAtxjJJvw4/KpKsuTPtfgAEA9WJlCl1yxpAAAAAASUVORK5CYII=",
next_page:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJCN0EzQTdEOTA3MjExRTg4REU4OEM2NTMwMUU5NTE4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJCN0EzQTdFOTA3MjExRTg4REU4OEM2NTMwMUU5NTE4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkI3QTNBN0I5MDcyMTFFODhERTg4QzY1MzAxRTk1MTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkI3QTNBN0M5MDcyMTFFODhERTg4QzY1MzAxRTk1MTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Xmz46AAAAgklEQVR42mL8//8/AxqwA+JHQPyAgRgAMgAJMwPxVyD+DcQ5aHJYMTbBZ/8RIJUcA8KB+B/UABAdSqoBIJyP5Io/QOxEqgEg3IRkyE8gNibVABCeimQIKHBVSTWAEYiX/UcFoshqmBgoBbT0AkWBSFE0UpyQKErKJGcmRkqzM0CAAQD+AaQMKRxs4AAAAABJRU5ErkJggg==",
prev_page:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjIyRTBBQTFBOTA3MjExRThCMzdCQjkyRjk4MTY2NUJDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjIyRTBBQTFCOTA3MjExRThCMzdCQjkyRjk4MTY2NUJDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjJFMEFBMTg5MDcyMTFFOEIzN0JCOTJGOTgxNjY1QkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjJFMEFBMTk5MDcyMTFFOEIzN0JCOTJGOTgxNjY1QkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6s9wgfAAAAgklEQVR42mL8//8/A5FAAYjlgPgQiijIACJwDhD/BuKvQMyMLEeM5tT/CPAMXZ6Q5lAg/gfVDKLDSTHACYj/INmej00dLs3GQPwTSXMTLouwCapCAwsGpuLzJrqA6H9UsAyIGfEZwMRAKaC2F6gSiFSJRqokJKokZYKZiZHS7AwQYADyqqIMeBgg6gAAAABJRU5ErkJggg=="};var UserGroups="English",vimeoPlayerUrl="https://player.vimeo.com/api/player.js",cMapUrl="https://unpkg.com/pdfjs-dist@latest/cmaps/",emailLinkUrl="http://gmail.google.com",restrictedMap={"aU3e!G7sD":"","qR2j^H5fZ":"loadingPicture","bJ8w&K3tP":"loadingVideo","dT9e#X1sC":"googleAnalyticsID","yO4u*L2xF":"AnnotationButtonVisible","nL7j@V5rB":"aboutButtonVisible","tT3e&Z4yC":"HomeButtonVisible","hY6w%P9gD":"HomeURL","kA8q!R5jH":"googleTagManagerID","eX1z@S8kT":"language","cK5t#D2fP":"BookMarkButtonVisible",
"jN2z^W8hS":"TableOfContentButtonVisible","rF6e&K4bJ":"PhoneButtonVisible",zC9u$P3lF:"LeftShadowWidth;LeftShadowAlpha;RightShadowWidth;RightShadowAlpha;ShowTopLeftShadow;pageHighlightType;","wV5t#G1nQ":"thicknessWidthType;thicknessColor","gF4w!D1qR":"haveAdSense","hJ5m#L3dT":"staticAd","xY4z9F@kL":"appLogoIcon","vA6qM8!bN":"appLogoLinkURL"},specialHandlers={appLogoIcon:function(){return"../../booklogo.png"},appLogoLinkURL:function(){return"https://fliphtml5.com"},staticAd:function(){return!0},language:function(){var a,
b,c=(null==(a=window.bookConfig)?void 0:a.language)||(null==(b=window.tmpBookConfig)?void 0:b.language)||"English";return c.includes(";")?c.split(";")[0]:c}};function checkPermission(a,b){if(!b)return!1;for(var c in restrictedMap)if(b.includes(c)&&restrictedMap[c].split(";").includes(a))return!0;return!1}
function checkBookConfigRestrictedKey(a,b){var c,d,e,f,g,h=function(){return(null==(c=window.tmpBookConfig)?void 0:null==(d=c.power_info)?void 0:d.power)||(null==(e=window.bookConfig)?void 0:null==(f=e.power_info)?void 0:f.power)||(null==(g=window.userInfo)?void 0:g.power)||null},l=function(r){if(checkPermission(a,r))return specialHandlers[a]?specialHandlers[a]():b;if("appLogoIcon"===a&&(r=String(window.bookConfig&&window.bookConfig.appLogoIcon||window.tmpBookConfig&&window.tmpBookConfig.appLogoIcon||
("undefined"!==typeof b?b:"")).trim(),"string"==typeof r&&(r=r.replaceAll("\\/","/",!0),r=r.replaceAll('\\"','"')),/^(\.\.\/){2}booklogo\.png([?#].*)?$/.test(r)))return""},m,k,n,p,q;if((null==(m=window.tmpBookConfig)?0:null==(k=m.power_info)?0:k.power)||(null==(n=window.bookConfig)?0:null==(p=n.power_info)?0:p.power)||(null==(q=window.userInfo)?0:q.power)||!window.eventEmitter||"function"!==typeof window.eventEmitter.on)return l(h());window.eventEmitter.on("loadUserInfo",function(r){return l(h())})}
;(function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(d){var e=(new Date).getTime(),f=Math.max(0,16.7-(e-a)),g=window.setTimeout(function(){d(e+f)},f);a=e+f;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(d){clearTimeout(d)})})();
global.isBelowIE9()||!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.ClipboardJS=b():a.ClipboardJS=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(d){return d},b.d=function(d,e,f){b.o(d,e)||Object.defineProperty(d,
e,{configurable:!1,enumerable:!0,get:f})},b.n=function(d){var e=d&&d.__esModule?function(){return d.default}:function(){return d};return b.d(e,"a",e),e},b.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)},b.p="",b(b.s=3)}([function(a,b,c){var d,e,f;!function(g,h){e=[a,c(7)];d=h;void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(g,h){var l=h&&h.__esModule?h:{default:h},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:
function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k=function(){function n(p,q){for(var r=0;r<q.length;r++){var t=q[r];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(p,t.key,t)}}return function(p,q,r){return q&&n(p.prototype,q),r&&n(p,r),p}}();h=function(){function n(p){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.resolveOptions(p);this.initSelection()}
return k(n,[{key:"resolveOptions",value:function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=p.action;this.container=p.container;this.emitter=p.emitter;this.target=p.target;this.text=p.text;this.trigger=p.trigger;this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var p=this,q="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=
function(){return p.removeFake()};this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[q?"right":"left"]="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly",
"");this.fakeElem.value=this.text;this.container.appendChild(this.fakeElem);this.selectedText=(0,l.default)(this.fakeElem);this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,l.default)(this.target);this.copyText()}},{key:"copyText",
value:function(){var p=void 0;try{p=document.execCommand(this.action)}catch(q){p=!1}this.handleResult(p)}},{key:"handleResult",value:function(p){this.emitter.emit(p?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus();window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(p){if(void 0!==p){if(!p||"object"!==(void 0===p?"undefined":m(p))||1!==p.nodeType)throw Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&p.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
if("cut"===this.action&&(p.hasAttribute("readonly")||p.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=p}},get:function(){return this._target}}]),n}();g.exports=h})},function(a,b,c){function d(h,l,m){return h.addEventListener(l,m),{destroy:function(){h.removeEventListener(l,m)}}}function e(h,l,m){return Array.prototype.forEach.call(h,function(k){k.addEventListener(l,m)}),{destroy:function(){Array.prototype.forEach.call(h,
function(k){k.removeEventListener(l,m)})}}}var f=c(6),g=c(5);a.exports=function(h,l,m){if(!h&&!l&&!m)throw Error("Missing required arguments");if(!f.string(l))throw new TypeError("Second argument must be a String");if(!f.fn(m))throw new TypeError("Third argument must be a Function");if(f.node(h))return d(h,l,m);if(f.nodeList(h))return e(h,l,m);if(f.string(h))return g(document.body,h,l,m);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}},function(a,
b){function c(){}c.prototype={on:function(d,e,f){var g=this.e||(this.e={});return(g[d]||(g[d]=[])).push({fn:e,ctx:f}),this},once:function(d,e,f){function g(){h.off(d,g);e.apply(f,arguments)}var h=this;return g._=e,this.on(d,g,f)},emit:function(d){var e=[].slice.call(arguments,1),f=((this.e||(this.e={}))[d]||[]).slice(),g=0,h=f.length;for(g;g<h;g++)f[g].fn.apply(f[g].ctx,e);return this},off:function(d,e){var f=this.e||(this.e={}),g=f[d],h=[];if(g&&e)for(var l=0,m=g.length;l<m;l++)g[l].fn!==e&&g[l].fn._!==
e&&h.push(g[l]);return h.length?f[d]=h:delete f[d],this}};a.exports=c},function(a,b,c){var d,e,f;!function(g,h){e=[a,c(0),c(2),c(1)];d=h;void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(g,h,l,m){function k(x){return x&&x.__esModule?x:{default:x}}function n(x,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,
configurable:!0}});v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}function p(x,v){x="data-clipboard-"+x;if(v.hasAttribute(x))return v.getAttribute(x)}var q=k(h);h=k(l);var r=k(m),t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},u=function(){function x(v,w){for(var z=0;z<w.length;z++){var y=w[z];y.enumerable=y.enumerable||!1;
y.configurable=!0;"value"in y&&(y.writable=!0);Object.defineProperty(v,y.key,y)}}return function(v,w,z){return w&&x(v.prototype,w),z&&x(v,z),v}}();m=function(x){function v(w,z){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");var y=(v.__proto__||Object.getPrototypeOf(v)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");y=!y||"object"!=typeof y&&"function"!=typeof y?this:y;return y.resolveOptions(z),y.listenClick(w),
y}return n(v,x),u(v,[{key:"resolveOptions",value:function(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof w.action?w.action:this.defaultAction;this.target="function"==typeof w.target?w.target:this.defaultTarget;this.text="function"==typeof w.text?w.text:this.defaultText;this.container="object"===t(w.container)?w.container:document.body}},{key:"listenClick",value:function(w){var z=this;this.listener=(0,r.default)(w,"click",function(y){return z.onClick(y)})}},
{key:"onClick",value:function(w){w=w.delegateTarget||w.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new q.default({action:this.action(w),target:this.target(w),text:this.text(w),container:this.container,trigger:w,emitter:this})}},{key:"defaultAction",value:function(w){return p("action",w)}},{key:"defaultTarget",value:function(w){if(w=p("target",w))return document.querySelector(w)}},{key:"defaultText",value:function(w){return p("text",w)}},{key:"destroy",value:function(){this.listener.destroy();
this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],z=!!document.queryCommandSupported;return("string"==typeof w?[w]:w).forEach(function(y){z=z&&!!document.queryCommandSupported(y)}),z}}]),v}(h.default);g.exports=m})},function(a,b){"undefined"==typeof Element||Element.prototype.matches||(b=Element.prototype,b.matches=b.matchesSelector||b.mozMatchesSelector||
b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector);a.exports=function(c,d){for(;c&&9!==c.nodeType;){if("function"==typeof c.matches&&c.matches(d))return c;c=c.parentNode}}},function(a,b,c){function d(g,h,l,m,k){var n=e.apply(this,arguments);return g.addEventListener(l,n,k),{destroy:function(){g.removeEventListener(l,n,k)}}}function e(g,h,l,m){return function(k){k.delegateTarget=f(k.target,h);k.delegateTarget&&m.call(g,k)}}var f=c(4);a.exports=function(g,h,l,m,k){return"function"==typeof g.addEventListener?
d.apply(null,arguments):"function"==typeof l?d.bind(null,document).apply(null,arguments):("string"==typeof g&&(g=document.querySelectorAll(g)),Array.prototype.map.call(g,function(n){return d(n,h,l,m,k)}))}},function(a,b){b.node=function(c){return void 0!==c&&c instanceof HTMLElement&&1===c.nodeType};b.nodeList=function(c){var d=Object.prototype.toString.call(c);return void 0!==c&&("[object NodeList]"===d||"[object HTMLCollection]"===d)&&"length"in c&&(0===c.length||b.node(c[0]))};b.string=function(c){return"string"==
typeof c||c instanceof String};b.fn=function(c){return"[object Function]"===Object.prototype.toString.call(c)}},function(a,b){a.exports=function(c){if("SELECT"===c.nodeName)c.focus(),c=c.value;else if("INPUT"===c.nodeName||"TEXTAREA"===c.nodeName){var d=c.hasAttribute("readonly");d||c.setAttribute("readonly","");c.select();c.setSelectionRange(0,c.value.length);d||c.removeAttribute("readonly");c=c.value}else{c.hasAttribute("contenteditable")&&c.focus();d=window.getSelection();var e=document.createRange();
e.selectNodeContents(c);d.removeAllRanges();d.addRange(e);c=d.toString()}return c}}])});jQuery(document).ready(function(){window.setTimeout(function(){window.hint=new Hint},10)});
Class("Hint",{create:function(){this.$text=$("<p id='hint' class='hint'><span></span></p>");$("body").append(this.$text)},text:function(a){this.$text.find("span").html(a);this.animateShow();this.delay&&window.clearTimeout(this.delay);this.delay=window.setTimeout(function(){this.animateHide();this.delay=null}.bind(this),2E3)},animateShow:function(){this.$text.css({opacity:1,display:"block"})},animateHide:function(){this.$text.animate({opacity:"0"},1E3,function(){this.$text.hide()}.bind(this))}});
function QR8bitByte(a){this.mode=QRMode.MODE_8BIT_BYTE;this.data=a}QR8bitByte.prototype={getLength:function(a){return this.data.length},write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}};function QRCode(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}
QRCode.prototype={addData:function(a){a=new QR8bitByte(a);this.dataList.push(a);this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){var a;for(a=1;40>a;a++){for(var b=QRRSBlock.getRSBlocks(a,this.errorCorrectLevel),c=new QRBitBuffer,d=0,e=0;e<b.length;e++)d+=b[e].dataCount;for(e=0;e<this.dataList.length;e++)b=this.dataList[e],
c.put(b.mode,4),c.put(b.getLength(),QRUtil.getLengthInBits(b.mode,a)),b.write(c);if(c.getLengthInBits()<=8*d)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,
this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=
d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=QRUtil.getLostPoint(this);if(0==c||a>d)a=d,b=c}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var d=0;d<this.modules[b].length;d++){var e=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(e,c),a.lineTo(e+1,c),a.lineTo(e+1,c+1),a.lineTo(e,c+1),a.endFill())}}return a},setupTimingPattern:function(){for(var a=
8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=QRUtil.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)this.modules[d+f][e+g]=-2==f||2==f||-2==g||2==g||0==f&&0==g?!0:!1}},setupTypeNumber:function(a){for(var b=
QRUtil.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(c=0;18>c;c++)d=!a&&1==(b>>c&1),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){b=QRUtil.getBCHTypeInfo(this.errorCorrectLevel<<3|b);for(var c=0;15>c;c++){var d=!a&&1==(b>>c&1);6>c?this.modules[c][8]=d:8>c?this.modules[c+1][8]=d:this.modules[this.moduleCount-15+c][8]=d}for(c=0;15>c;c++)d=!a&&1==(b>>c&1),8>c?this.modules[8][this.moduleCount-
c-1]=d:9>c?this.modules[8][15-c-1+1]=d:this.modules[8][15-c-1]=d;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;0<g;g-=2)for(6==g&&g--;;){for(var h=0;2>h;h++)if(null==this.modules[d][g-h]){var l=!1;f<a.length&&(l=1==(a[f]>>>e&1));QRUtil.getMask(b,d,g-h)&&(l=!l);this.modules[d][g-h]=l;e--;-1==e&&(f++,e=7)}d+=c;if(0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};QRCode.PAD0=236;QRCode.PAD1=17;
QRCode.createData=function(a,b,c){b=QRRSBlock.getRSBlocks(a,b);for(var d=new QRBitBuffer,e=0;e<c.length;e++){var f=c[e];d.put(f.mode,4);d.put(f.getLength(),QRUtil.getLengthInBits(f.mode,a));f.write(d)}for(e=a=0;e<b.length;e++)a+=b[e].dataCount;if(d.getLengthInBits()>8*a)throw Error("code length overflow. ("+d.getLengthInBits()+">"+8*a+")");for(d.getLengthInBits()+4<=8*a&&d.put(0,4);0!=d.getLengthInBits()%8;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*a);){d.put(QRCode.PAD0,8);if(d.getLengthInBits()>=
8*a)break;d.put(QRCode.PAD1,8)}return QRCode.createBytes(d,b)};
QRCode.createBytes=function(a,b){for(var c=0,d=0,e=0,f=Array(b.length),g=Array(b.length),h=0;h<b.length;h++){var l=b[h].dataCount,m=b[h].totalCount-l;d=Math.max(d,l);e=Math.max(e,m);f[h]=Array(l);for(var k=0;k<f[h].length;k++)f[h][k]=255&a.buffer[k+c];c+=l;k=QRUtil.getErrorCorrectPolynomial(m);l=(new QRPolynomial(f[h],k.getLength()-1)).mod(k);g[h]=Array(k.getLength()-1);for(k=0;k<g[h].length;k++)m=k+l.getLength()-g[h].length,g[h][k]=0<=m?l.get(m):0}for(k=h=0;k<b.length;k++)h+=b[k].totalCount;a=Array(h);
for(k=c=0;k<d;k++)for(h=0;h<b.length;h++)k<f[h].length&&(a[c++]=f[h][k]);for(k=0;k<e;k++)for(h=0;h<b.length;h++)k<g[h].length&&(a[c++]=g[h][k]);return a};
for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,
30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G15);)b^=
QRUtil.G15<<QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G15);return(a<<10|b)^QRUtil.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G18);)b^=QRUtil.G18<<QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return QRUtil.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case QRMaskPattern.PATTERN000:return 0==(b+c)%
2;case QRMaskPattern.PATTERN001:return 0==b%2;case QRMaskPattern.PATTERN010:return 0==c%3;case QRMaskPattern.PATTERN011:return 0==(b+c)%3;case QRMaskPattern.PATTERN100:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case QRMaskPattern.PATTERN101:return 0==b*c%2+b*c%3;case QRMaskPattern.PATTERN110:return 0==(b*c%2+b*c%3)%2;case QRMaskPattern.PATTERN111:return 0==(b*c%3+(b+c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var b=new QRPolynomial([1],0),c=0;c<
a;c++)b=b.multiply(new QRPolynomial([1,QRMath.gexp(c)],0));return b},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw Error("mode:"+a);}else if(41>b)switch(a){case QRMode.MODE_NUMBER:return 14;
case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw Error("mode:"+a);}else throw Error("type:"+b);},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;d<b;d++)for(var e=0;e<b;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||b<=d+h))for(var l=-1;1>=l;l++)0>e+l||b<=e+l||(0!=h||0!=l)&&g==a.isDark(d+h,e+l)&&f++;5<f&&(c+=3+f-5)}for(d=0;d<b-1;d++)for(e=0;e<b-1;e++)if(f=0,a.isDark(d,e)&&f++,a.isDark(d+1,e)&&f++,a.isDark(d,
e+1)&&f++,a.isDark(d+1,e+1)&&f++,0==f||4==f)c+=3;for(d=0;d<b;d++)for(e=0;e<b-6;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;e<b;e++)for(d=0;d<b-6;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=f=0;e<b;e++)for(d=0;d<b;d++)a.isDark(d,e)&&f++;return c+Math.abs(100*f/b/b-50)/5*10}},QRMath={glog:function(a){if(1>a)throw Error("glog("+
a+")");return QRMath.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return QRMath.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},i=0;8>i;i++)QRMath.EXP_TABLE[i]=1<<i;for(i=8;256>i;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(i=0;255>i;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;
function QRPolynomial(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(b=0;b<a.length-c;b++)this.num[b]=a[b+c]}
QRPolynomial.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=QRMath.gexp(QRMath.glog(this.get(c))+QRMath.glog(a.get(d)));return new QRPolynomial(b,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var b=QRMath.glog(this.get(0))-QRMath.glog(a.get(0)),c=Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=
this.get(d);for(d=0;d<a.getLength();d++)c[d]^=QRMath.gexp(QRMath.glog(a.get(d))+b);return(new QRPolynomial(c,0)).mod(a)}};function QRRSBlock(a,b){this.totalCount=a;this.dataCount=b}
QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,
44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,
75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,
117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,
75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,
54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];
QRRSBlock.getRSBlocks=function(a,b){var c=QRRSBlock.getRsBlockTable(a,b);if(void 0==c)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);a=c.length/3;b=[];for(var d=0;d<a;d++)for(var e=c[3*d],f=c[3*d+1],g=c[3*d+2],h=0;h<e;h++)b.push(new QRRSBlock(f,g));return b};
QRRSBlock.getRsBlockTable=function(a,b){switch(b){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)+3]}};function QRBitBuffer(){this.buffer=[];this.length=0}
QRBitBuffer.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=128>>>this.length%8);this.length++}};
(function(a){a.fn.qrcode=function(b){"string"===typeof b&&(b={text:b});b=a.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},b);var c=function(){var d=new QRCode(b.typeNumber,b.correctLevel);d.addData(b.text);d.make();var e=document.createElement("canvas");e.width=b.width;e.height=b.height;for(var f=e.getContext("2d"),g=b.width/d.getModuleCount(),h=b.height/d.getModuleCount(),l=0;l<d.getModuleCount();l++)for(var m=
0;m<d.getModuleCount();m++)f.fillStyle=d.isDark(l,m)?b.foreground:b.background,f.fillRect(Math.round(m*g),Math.round(l*h),Math.ceil((m+1)*g)-Math.floor(m*g),Math.ceil((l+1)*g)-Math.floor(l*g));return e};return this.each(function(){if("canvas"!=b.render||global.isIE8())if("image"!=b.render||global.isIE8()){var d=new QRCode(b.typeNumber,b.correctLevel);d.addData(b.text);d.make();for(var e=a("<table></table>").css("width",b.width+"px").css("height",b.height+"px").css("border","0px").css("border-collapse",
"collapse").css("background-color",b.background),f=b.width/d.getModuleCount(),g=b.height/d.getModuleCount(),h=0;h<d.getModuleCount();h++)for(var l=a("<tr></tr>").css("height",g+"px").appendTo(e),m=0;m<d.getModuleCount();m++)a("<td></td>").css("width",f+"px").css("background-color",d.isDark(h,m)?b.foreground:b.background).appendTo(l);d=e}else d=c(),e=new Image,e.src=d.toDataURL("image/png"),d=e;else d=c();jQuery(d).appendTo(this)})}})(jQuery);
var phoneIconInfo={width:600,height:1E3,iconInfo:[{id:"next",position:{x:96,y:193},width:48,height:48},{id:"prev",position:{x:10,y:193},width:48,height:48},{id:"search",position:{x:178,y:18},width:48,height:48},{id:"searchButton",position:{x:540,y:630},width:35,height:35},{id:"tableOfContent",position:{x:255,y:21},width:48,height:48},{id:"ZoomIn",position:{x:19,y:106},width:48,height:48},{id:"addBookmark",position:{x:542,y:17},width:48,height:48},{id:"bookmark",position:{x:483,y:17},width:48,height:48},
{id:"miBookmark",position:{x:552,y:284},width:32,height:32},{id:"miBookmark_close",position:{x:402,y:429},width:40,height:40},{id:"miBookmark_close_enter",position:{x:462,y:429},width:40,height:40},{id:"thumbnails",position:{x:19,y:18},width:48,height:48},{id:"moreBar",position:{x:97,y:19},width:48,height:48},{id:"miSearch",position:{x:20,y:284},width:32,height:32},{id:"miTableOfContent",position:{x:373,y:284},width:32,height:32},{id:"sharethis",position:{x:87,y:284},width:32,height:32},{id:"home",
position:{x:495,y:284},width:32,height:32},{id:"facebook",position:{x:20,y:412},width:65,height:65},{id:"twitter",position:{x:92,y:412},width:65,height:65},{id:"google",position:{x:164,y:412},width:65,height:65},{id:"addthis",position:{x:309,y:412},width:65,height:65},{id:"linkedin",position:{x:236,y:412},width:65,height:65},{id:"share_more",position:{x:308,y:412},width:65,height:65},{id:"reddit",position:{x:192,y:610},width:65,height:65},{id:"digg",position:{x:265,y:610},width:65,height:65},{id:"email",
position:{x:340,y:610},width:65,height:65},{id:"collapsed",position:{x:406,y:348},width:24,height:24},{id:"expanded",position:{x:449,y:351},width:24,height:24},{id:"download",position:{x:158,y:284},width:32,height:32},{id:"print",position:{x:305,y:283},width:32,height:32},{id:"autoPlay",position:{x:184,y:104},width:48,height:48},{id:"stopAutoPlay",position:{x:258,y:104},width:48,height:48},{id:"shoppingCart",position:{x:407,y:104},width:48,height:48},{id:"instructions",position:{x:419,y:620},width:48,
height:48},{id:"annotation",position:{x:482,y:620},width:48,height:48},{id:"goBtn",position:{x:338,y:110},width:48,height:48},{id:"forward",position:{x:482,y:620},width:48,height:48},{id:"backward",position:{x:482,y:620},width:48,height:48},{id:"languageChange",position:{x:232,y:284},width:32,height:32},{id:"setting",position:{x:437,y:282},width:32,height:32},{id:"soundOn",position:{x:197,y:535},width:45,height:45},{id:"soundOff",position:{x:197,y:535},width:45,height:45},{id:"First",position:{x:194,
y:194},width:45,height:45},{id:"prev",position:{x:291,y:194},width:45,height:45},{id:"next",position:{x:383,y:194},width:45,height:45},{id:"Last",position:{x:475,y:194},width:45,height:45},{id:"choosed",position:{x:356,y:346},width:28,height:28},{id:"unchoosed",position:{x:297,y:346},width:28,height:28},{id:"gotoPage",position:{x:414,y:20},width:48,height:48},{id:"ZoomOut",position:{x:101,y:107},width:48,height:48},{id:"passward",position:{x:8,y:547},width:170,height:170},{id:"fullScreen",position:{x:482,
y:104},width:48,height:48},{id:"exitFullScreen",position:{x:540,y:104},width:48,height:48},{id:"firstBtn",position:{x:194,y:190},width:45,height:45},{id:"prevBtn",position:{x:291,y:190},width:45,height:45},{id:"nextBtn",position:{x:383,y:190},width:45,height:45},{id:"lastBtn",position:{x:475,y:190},width:45,height:45},{id:"backwardBtn",position:{x:494,y:344},width:45,height:45},{id:"forwardBtn",position:{x:548,y:344},width:45,height:45}]},catalogIconInfo={width:520,height:220,iconInfo:[{id:"background",
position:{x:3,y:9},width:420,height:50},{id:"thumb",position:{x:144,y:143},width:38,height:38},{id:"thumb_down",position:{x:144,y:179},width:38,height:38},{id:"share",position:{x:213,y:143},width:38,height:38},{id:"share_down",position:{x:213,y:179},width:38,height:38},{id:"search",position:{x:179,y:143},width:38,height:38},{id:"search_down",position:{x:179,y:179},width:38,height:38},{id:"more",position:{x:252,y:143},width:38,height:38},{id:"more_down",position:{x:252,y:179},width:38,height:38},{id:"prev",
position:{x:240,y:66},width:38,height:38},{id:"next",position:{x:288,y:66},width:38,height:38},{id:"prev_down",position:{x:240,y:106},width:38,height:38},{id:"next_down",position:{x:288,y:106},width:38,height:38},{id:"fullScreen",position:{x:290,y:143},width:38,height:38},{id:"fullScreen_down",position:{x:290,y:179},width:38,height:38},{id:"exitFullScreen",position:{x:328,y:143},width:38,height:38},{id:"exitFullScreen_down",position:{x:328,y:179},width:38,height:38}]};
jQuery.fn.loading=function(a,b){this.initLoadingHtml=function(c){this.loadingDom=$('<div class="search_loader"><div class="loader-inner ball-pulse-sync"><div></div><div></div><div></div></div></div>');this.append(this.loadingDom)}.bind(this);this.createLoading=function(c){this.initLoadingHtml(c)}.bind(this);this.finishedLoading=function(){this.hideLoading()}.bind(this);this.initLoading=function(){}.bind(this);this.showLoading=function(){this.loadingDom&&this.loadingDom.show()}.bind(this);this.hideLoading=
function(){this.loadingDom&&this.loadingDom.remove()}.bind(this);this.createLoading(a)};
(function(a){var b=function(){return Hammer.HAS_TOUCHEVENTS&&navigator.userAgent.match(Hammer.MOBILE_REGEX)};bdor[3]="f";var c=function(k){this.theButton=k;this.eventSource=k[0];b()?(k.bind("touchstart",this.mouseDown.bind(this)),k.bind("touchend",this.mouseUp.bind(this))):(k.bind("mouseenter",this.mouseEnter.bind(this)),k.bind("mouseleave",this.mouseLeave.bind(this)),k.bind("blur",this.mouseLeave.bind(this)),k.bind("mousedown",this.mouseDown.bind(this)),k.bind("mouseup",this.mouseUp.bind(this)))};
c.prototype.mouseEnter=function(){this.setAlpha(80)};c.prototype.mouseLeave=function(){this.setAlpha(100)};c.prototype.mouseDown=function(){this.setAlpha(60)};c.prototype.mouseUp=function(){this.setAlpha(80)};c.prototype.setAlpha=function(k){0>k&&(k=0);100<=k&&(k=100);this.theButton.css("opacity",k/100)};a.fn.asButton=function(){new c(this);return this};bdor[4]="h";var d=function(k,n){this.eventSource=k[0];this.origPicture=k[0].src;var p=this.origPicture.lastIndexOf("."),q=this.origPicture.substr(0,
p);p=this.origPicture.substring(p);this.pictureDown=n?n:q+"_down"+p;b()?(k.bind("touchstart",this.mouseOver.bind(this)),k.bind("touchend",this.mouseLeave.bind(this))):(k.bind("mouseenter",this.mouseOver.bind(this)),k.bind("mousedown",this.mouseDown.bind(this)),k.bind("mouseup",this.mouseUp.bind(this)),k.bind("mouseleave",this.mouseLeave.bind(this)),k.bind("blur",this.mouseLeave.bind(this)))};d.prototype.mouseOver=function(){this.eventSource.src=this.pictureDown};d.prototype.mouseDown=function(){a(this.eventSource).css("opacity",
.8)};d.prototype.mouseUp=function(){a(this.eventSource).css("opacity",1)};d.prototype.mouseLeave=function(){this.eventSource.src=this.origPicture};a.fn.asImageButton=function(k){new d(this,k);return this};var e=function(k,n){this.eventSource=k[0];this.origPicture=k[0].src;var p=this.origPicture.lastIndexOf("."),q=this.origPicture.substr(0,p);p=this.origPicture.substring(p);this.pictureDown=n?n:q+"_down"+p;b()?(k.bind("touchstart",this.mouseOver.bind(this)),k.bind("touchend",this.mouseUp.bind(this))):
(k.bind("mouseenter",this.mouseOver.bind(this)),k.bind("mousedown",this.mouseDown.bind(this)),k.bind("mouseup",this.mouseUp.bind(this)),k.bind("mouseleave",this.mouseUp.bind(this)))};bdor[10]="l";e.prototype.mouseOver=function(){this.eventSource.src=this.pictureDown};e.prototype.mouseDown=function(){this.eventSource.src=this.pictureDown};e.prototype.mouseUp=function(){var k=this;window.setTimeout(function(){k.eventSource.src=k.origPicture},100)};a.fn.asImageChangeButton=function(){new e(this);return this};
var f=function(k){this.theButton=k;this.eventSource=k[0];var n=this.theButton.css("top");this.iOrigTop=parseInt(n.replace("px",""));this.iJumpTop=this.iOrigTop-5;k.bind("mouseenter",this.MouseEnter.bind(this));k.bind("mouseleave",this.MouseLeave.bind(this))};f.prototype.MouseEnter=function(){this.theButton.animate({top:this.iJumpTop},50)};f.prototype.MouseLeave=function(){this.theButton.animate({top:this.iOrigTop},50)};a.fn.mouseEnterJump=function(){new f(this);return this};a.fn.mouseOverCursor=function(){new g(this);
return this};var g=function(k){k.bind("mouseover",function(){k.css({cursor:"pointer"})})},h=function(k){this.theButton=k;this.eventSource=k[0];var n=this.theButton.css("top");this.iOrigTop=parseInt(n.replace("px",""));n=this.theButton.css("left");this.iOrigLeft=parseInt(n.replace("px",""));this.iZoomTop=this.iOrigTop-3;this.iZoomLeft=this.iOrigLeft-1;k.bind("mouseenter",this.MouseEnter.bind(this));k.bind("mouseleave",this.MouseLeave.bind(this))};h.prototype.MouseDown=function(){this.theButton.css({left:this.iZoomLeft+
"px",top:this.iZoomTop+"px","-webkit-transform":"scale(1.1)","-moz-transform":"scale(1.1)",transform:"scale(1.1)","-ms-transform":"scale(1.1)","-o-transform":"scale(1.1)"})};h.prototype.MouseEnter=function(){this.theButton.css({left:this.iZoomLeft+"px",top:this.iZoomTop+"px","-webkit-transform":"scale(1.2)","-moz-transform":"scale(1.2)",transform:"scale(1.2)","-ms-transform":"scale(1.2)","-o-transform":"scale(1.2)"})};h.prototype.MouseLeave=function(){this.theButton.css({left:this.iOrigLeft+"px",
top:this.iOrigTop+"px","-webkit-transform":"scale(1)","-moz-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)"})};var l=function(k){this.theButton=k;this.eventSource=k[0];var n=this.theButton.css("top");this.iOrigTop=parseInt(n.replace("px",""));n=this.theButton.css("left");this.iOrigLeft=parseInt(n.replace("px",""));this.iZoomTop=this.iOrigTop-1;this.iZoomLeft=this.iOrigLeft-1;k.bind("mouseenter",this.MouseEnter.bind(this));k.bind("mouseleave",this.MouseLeave.bind(this))};
l.prototype.MouseEnter=function(){this.theButton.css({"-webkit-transform":"scale(1.1)","-moz-transform":"scale(1.1)",transform:"scale(1.1)","-ms-transform":"scale(1.1)","-o-transform":"scale(1.1)"})};l.prototype.MouseLeave=function(){this.theButton.css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)"})};a.fn.mouseEnterZoom=function(){new l(this);return this};a.fn.mouseEnterUp=function(){new m(this);return this};var m=
function(k){this.theButton=k;this.eventSource=k[0];var n=this.theButton.css("bottom");this.iOrigTop=parseInt(n.replace("px",""));n=this.theButton.css("left");this.iOrigLeft=parseInt(n.replace("px",""));this.iZoomTop=this.iOrigTop-1;this.iZoomLeft=this.iOrigLeft-1;k.bind("mouseenter",this.MouseEnter.bind(this));k.bind("mouseleave",this.MouseLeave.bind(this))};m.prototype.MouseEnter=function(){this.theButton.css({bottom:this.iZoomTop+"px","-webkit-transform":"scale(1.1)","-moz-transform":"scale(1.1)",
transform:"scale(1.1)","-ms-transform":"scale(1.1)","-o-transform":"scale(1.1)"})};m.prototype.MouseLeave=function(){this.theButton.css({bottom:this.iOrigTop+"px","-webkit-transform":"scale(1)","-moz-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)"})};a.fn.mouseZoomUp=function(){new h(this);return this};a.fn.mouseEnterLight=function(k){k||(k="#EEEEEE");var n=this;this.bind(_event._enter,function(){n.css({background:k})});this.bind(_event._down,function(){n.css({background:k})});
b()?this.bind(_event._end,function(){n.css({background:"transparent"})}):this.bind(_event._end,function(){n.css({background:k})});this.bind(_event._leave,function(){n.css({background:"transparent"})});return this};a.fn.mouseEnterShine=function(k,n,p){var q=this,r=colorDiv(k,10);this.bind(_event._enter,function(){q.css({background:r});q.css({border:""});q.css({"border-left":"1px solid "+p,"border-top":"1px solid "+p});q.css({"border-right":"1px solid "+n,"border-bottom":"1px solid "+n})});this.bind(_event._down,
function(){q.css({background:r});q.css({border:""});q.css({"border-left":"1px solid "+n,"border-top":"1px solid "+n});q.css({"border-right":"1px solid "+p,"border-bottom":"1px solid "+p})});b()?this.bind(_event._end,function(){q.css({background:"transparent"});q.css({border:""})}):this.bind(_event._end,function(){q.css({background:r});q.css({border:""});q.css({"border-left":"1px solid "+p,"border-top":"1px solid "+p});q.css({"border-right":"1px solid "+n,"border-bottom":"1px solid "+n})});this.bind(_event._leave,
function(){q.css({background:"transparent"});q.css({border:""})});return this};a.fn.mouseEnterGradient=function(k,n,p){var q=this,r=colorAdd(k,75),t="-webkit-gradient(linear,left top,left bottom,color-stop(0,"+r+"),color-stop(0.19,"+colorAdd(r,2)+"),color-stop(0.35,"+colorAdd(r,28)+"),color-stop(0.55, "+colorAdd(r,6)+"),color-stop(0.75,"+colorAdd(r,4)+"),color-stop(0.85,"+colorAdd(r,2)+"),color-stop(1, "+r+"))";this.bind(_event._enter,function(){q.css("background",t);q.css({border:""});q.css({"border-left":"1px solid "+
p,"border-top":"1px solid "+p});q.css({"border-right":"1px solid "+n,"border-bottom":"1px solid "+n})});this.bind(_event._down,function(){q.setGradient(r,!1);q.css({border:""});q.css({"border-left":"1px solid "+n,"border-top":"1px solid "+n});q.css({"border-right":"1px solid "+p,"border-bottom":"1px solid "+p})});b()?this.bind(_event._end,function(){q.css({background:"transparent"});q.css({border:""})}):this.bind(_event._end,function(){q.css("background",t);q[0].style.removeAttribute&&q[0].style.removeAttribute("filter");
q.css({border:""});q.css({"border-left":"1px solid "+p,"border-top":"1px solid "+p});q.css({"border-right":"1px solid "+n,"border-bottom":"1px solid "+n})});this.bind(_event._leave,function(){q[0].style.removeAttribute&&q[0].style.removeAttribute("filter");q.css({background:"transparent"});q.css({border:""})});return this};a.fn.dragToMove=function(k,n,p){var q=!1,r=0,t=0,u=0,x=0;a(this).bind(_event._down,function(v){var w=a(this)[0];w.setCapture?w.setCapture():window.captureEvents(Event.MOUSEMOVE|
Event.MOUSEUP);v=isTouch?v.originalEvent.changedTouches:[v];q=!0;r=v[0].pageX;t=v[0].pageY;u=a(k).offset().left;x=a(k).offset().top});a(this).bind(_event._end,function(v){v=a(this)[0];v.releaseCapture?v.releaseCapture():window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);q=!1});a(this).bind(_event._move,function(v){v=isTouch?v.originalEvent.touches:[v];if(q){var w=u+(v[0].pageX-r);v=x+(v[0].pageY-t);void 0!=n&&(w=Math.max(n.x,w),w=Math.min(n.y,w));void 0!=p&&(v=Math.max(p.x,v),v=Math.min(p.y,v));
a(k).css({left:w+"px",top:v+"px"})}});a(this).bind("mouseleave",function(){return q=!1})};a.fn.slideFlipButtonShine=function(k){a(this).bind(_event._over,function(){a(this).css({cursor:"pointer"})});a(this).bind(_event._enter,function(){a(this).css({background:"#000000"})});a(this).bind(_event._leave,function(){a(this).css({background:"#888888"})})};bdor[31]=function(k,n){return bdor[k]-bdor[n]};a.fn.slideZoomButtonShine=function(k){a(this).bind(_event._enter,function(){a(this).css({cursor:"pointer"});
a(this).css({background:"#555555"})});a(this).bind(_event._leave,function(){a(this).css({background:""})})};a.fn.mouseEnterChange=function(k,n,p){var q=this;this.bind(_event._enter,function(){var r=a("<img src='"+p+"'>");q.empty().append(r);q.css({background:n});q.changeButtonColor(k)});this.bind(_event._end,function(){var r=a("<img src='"+p+"'>");q.empty().append(r);q.css({background:"transparent"});q.changeButtonColor(n)});this.bind(_event._leave,function(){var r=a("<img src='"+p+"'>");q.empty().append(r);
q.css({background:"transparent"});q.changeButtonColor(n)});return this};a.fn.clickExceptMove=function(k){var n=!1,p=!1,q=new Point(0,0);this.bind(_event._down,function(r){r=isTouch?r.originalEvent.touches:[r];n=!0;p=!1;q.x=r[0].pageX;q.y=r[0].pageY;1<r.length&&(n=!1)});this.bind(_event._move,function(r){r=isTouch?r.originalEvent.touches:[r];p=1>=Math.abs(r[0].pageX-q.x)&&1>=Math.abs(r[0].pageY-q.y)?!1:!0});this.bind(_event._end,function(r){n&&!p&&k();p=n=!1})};a.fn.enterToChange=function(k,n,p,q,
r){var t=this.children();this.bind(_event._down,function(u){t.cssSprite(k,n+"_down",p,q,r)});this.bind(_event._enter,function(u){t.cssSprite(k,n+"_down",p,q,r)});this.bind(_event._leave,function(u){t.cssSprite(k,n,p,q,r)})};a.fn.addCssSprite=function(k,n,p,q,r){var t=a("<div></div>");t.cssSprite(k,n,p,q,r);this.append(t)};a.fn.changeCssSprite=function(k,n,p,q,r){this.children().cssSprite(k,n,p,q,r)};a.fn.cssSprite=function(k,n,p,q,r){if(r.iconInfo){for(var t=0,u=0;u<r.iconInfo.length;u++)if(r.iconInfo[u].id==
n){t=u;break}n=r.iconInfo[t].position;var x=r.width;u=r.height;p=p*x/r.iconInfo[t].width;q=q*u/r.iconInfo[t].height;r=-n.x*p/x;t=-n.y*q/u;q=p+"px "+q+"px";this.css({"background-image":"url("+k+")","background-repeat":"no-repeat","background-position":r+"px "+t+"px","-webkit-background-size":q,"-o-background-size":q,"background-size":q})}};bdor[6]="l"})(jQuery);var hddr=[];
$.fn.enableEnterClick=function(){return this.each(function(){$(this).attr("tabindex",0);$(this).on("keydown",function(a){if("Enter"===a.key||" "===a.key)a.preventDefault(),$(this).trigger("click")})})};
jQuery.fn.rolling=function(a,b){this.create=function(c,d){this.swiper=this.find(".swiper");this.EVENT_CANCEL=!1;this.direction=d;this.swiper.css(d,0);this.initEvent();this.refreshData()}.bind(this);this.refreshData=function(){this.items=this.find(".item");this.dots=this.find(".dots");this.items&&0!=this.items.length&&(this.stageWidth=$(this).width(),this.stageHeight=$(this).height(),"top"==b||"bottom"==b?(this.totalLength=this.swiper.height(),this.stageLength=this.stageHeight,this.itemLength=this.items[0].offsetHeight):
(this.totalLength=this.swiper.width(),this.stageLength=this.stageWidth,this.itemLength=this.items[0].offsetWidth),this.refreshSwiper(),this.totalLength<=this.stageLength?(this.dots.hide(),this.EVENT_CANCEL=!0):(this.dots.show(),this.EVENT_CANCEL=!1),this.initDotsEvent())}.bind(this);this.refreshSwiper=function(){var c=this.getCurrentLength();c=Math.max(this.stageLength-this.totalLength,c);c=Math.min(0,c);this.moveTo(c)}.bind(this);this.initEvent=function(){$(this).bind("mousedown touchstart",this.onDown);
var c=new Hammer.Manager(this.swiper[0]);c.add(new Hammer.Pan);c.add((new Hammer.Swipe).recognizeWith(c.get("pan")));c.on("panstart panmove panend pancancel",this.onPan);c.on("swipe",this.onSwipe);this.bind("mousewheel",this.onMouseWheel);this.bind("pointerdown",function(d){d.stopPropagation()})}.bind(this);this.initDotsEvent=function(){for(var c=this,d=this.dots.length,e=0;e<d;e++){var f=this.dots[e];$(f).attr("index",e);$(f).onTap(function(){c.animateToItem(this.index)})}}.bind(this);this.onDown=
function(c){this.EVENT_CANCEL||c.stopPropagation()}.bind(this);this.onPan=function(c){if(!this.EVENT_CANCEL&&c&&c.pointers&&1==c.pointers.length){this.animateInterval&&this.animateInterval.stop();"panstart"==c.type&&(this.startLength=this.getCurrentLength());var d=0;switch(this.direction){case "left":d=c.deltaX;break;case "right":d=-c.deltaX;break;case "top":d=c.deltaY;break;case "bottom":d=-c.deltaY}this.moveTo(this.startLength+d);"panend"!=c.type&&"pancancel"!=c.type||this.restrictInBoundary()}}.bind(this);
this.onSwipe=function(c){if(!this.EVENT_CANCEL){this.animateInterval&&this.animateInterval.stop();var d=0;switch(this.direction){case "left":d=c.velocityX;break;case "right":d=-c.velocityX;break;case "top":d=c.velocityY;break;case "bottom":d=-c.velocityY}0<d?this.animateToNextItem():this.animateToPrevItem()}}.bind(this);this.onMouseWheel=function(c){this.EVENT_CANCEL||(c=c.originalEvent,this.animateInterval&&!this.animateInterval.stopFlag)||(0<Math.max(-1,Math.min(1,c.wheelDelta||-c.detail))?this.animateToNextItem():
this.animateToPrevItem(),c.stopPropagation())}.bind(this);this.animateToItem=function(c){this.animateToPosition(c*this.itemLength)}.bind(this);this.animateToNextItem=function(){this.startLength=this.getCurrentLength();this.animateToPosition(this.startLength+this.itemLength)}.bind(this);this.animateToPrevItem=function(){this.startLength=this.getCurrentLength();this.animateToPosition(this.startLength-this.itemLength)}.bind(this);this.animateToPosition=function(c){var d=this.getCurrentLength();c=this.getEffectiveLength(c);
var e=function(f,g,h){h=(0,$.easing["easeOut"+h])(null,f,d,c-d,g);f<g?this.moveTo(h):(this.moveTo(h),this.animateInterval.stop())}.bind(this);this.animateInterval=function(f,g){e(f,g,"Sine")}.animation(this,300)}.bind(this);this.animateToCenterItem=function(){var c=this.getCurrentItem();if(c[0]){var d=c.offset(),e=0,f=d.left-this.swiper.offset().left;d=d.top-this.swiper.offset().top;switch(this.direction){case "left":e=-(f+c.width()/2)+this.stageLength/2;break;case "top":e=-(d+c.height()/2)+this.stageLength/
2;break;case "bottom":e=d-this.totalLength+c.height()/2+this.stageLength/2;break;case "right":e=f-this.totalLength+c.width()/2+this.stageLength/2}this.animateToPosition(e)}}.bind(this);this.getCurrentItem=function(){var c=this.swiper.find(".focus.highlight");c[0]||(c=this.swiper.find(".highlight"));return c}.bind(this);this.moveTo=function(c){this.swiper.css(this.direction,c+"px")}.bind(this);this.restrictInBoundary=function(){this.animateInterval&&this.animateInterval.stop();var c=this.getCurrentLength(),
d=this.getEffectiveLength(c);c!=d&&this.animateToPosition(d)}.bind(this);this.getEffectiveLength=function(c){return c?c=Number.between(c,-this.totalLength+this.stageLength,0):0}.bind(this);this.move=function(c){var d=this.getCurrentLength();this.animateToPosition(d+c)}.bind(this);this.getCurrentLength=function(){switch(this.direction){case "left":return this.getLeft();case "top":return this.getTop();case "bottom":return this.getBottom();case "right":return this.getRight()}}.bind(this);this.getLeft=
function(){return parseInt(this.swiper.css("left"))}.bind(this);this.getRight=function(){return parseInt(this.swiper.css("right"))}.bind(this);this.getBottom=function(){return parseInt(this.swiper.css("bottom"))}.bind(this);this.getTop=function(){return parseInt(this.swiper.css("top"))}.bind(this);this.create(a,b)};
jQuery.fn.scroll=function(a,b,c){this.create=function(d,e,f){this.swiper=this.find(".swiper");this.items=this.find(".item");this.progress=this.find(".progress");this.progressBar=this.find(".progressBar");this.EVENT_CANCEL=!1;this.drag=void 0===f||f?!0:!1;this.direction=e;this.swiper.css(e,0);this.progress.css(e,0);this.progressBar.css(e,0);this.refreshData();this.initEvent();this.initProgressEvent()}.bind(this);this.refreshData=function(){this.stageWidth=$(this).width();this.stageHeight=$(this).height();
"top"==b||"bottom"==b?(this.totalLength=this.swiper.height(),this.stageLength=this.stageHeight,this.progress.css({height:this.stageLength+"px"}),this.progressBar.css({height:Math.pow(this.stageLength,2)/this.totalLength+"px"})):(this.totalLength=this.swiper.width(),this.stageLength=this.stageWidth,this.progress.css({width:this.stageLength+"px"}),this.progressBar.css({width:Math.pow(this.stageLength,2)/this.totalLength+"px"}));this.refreshSwiper();this.totalLength<=this.stageLength?(this.progress.hide(),
this.EVENT_CANCEL=!0):(this.progress.show(),this.EVENT_CANCEL=!1)}.bind(this);this.refreshSwiper=function(){var d=this.getCurrentLength();d=Math.max(this.stageLength-this.totalLength,d);d=Math.min(0,d);this.moveTo(d)}.bind(this);this.initEvent=function(){if(this.drag){$(this).bind("mousedown touchstart",this.onDown);var d=new Hammer.Manager(this.swiper[0]);d.add(new Hammer.Pan);d.add((new Hammer.Swipe).recognizeWith(d.get("pan")));d.on("panstart panmove panend pancancel",this.onPan);d.on("swipe",
this.onSwipe);this.bind("pointerdown",function(e){e.stopPropagation()})}this.bind("mousewheel DOMMouseScroll",this.onMouseWheel)}.bind(this);this.initProgressEvent=function(){var d=new Hammer.Manager(this.progressBar[0]);d.add(new Hammer.Pan);d.add((new Hammer.Swipe).recognizeWith(d.get("pan")));d.on("panstart panmove panend pancancel",this.onProgressPan.bind(this));d.on("swipe",this.onProgressSwipe.bind(this));d=new Hammer.Manager(this.progress[0]);d.add(new Hammer.Tap);d.on("tap",this.onProgressTap.bind(this))}.bind(this);
this.onDown=function(d){this.EVENT_CANCEL||d.stopPropagation()}.bind(this);this.onPan=function(d){if(!this.EVENT_CANCEL&&d&&d.pointers&&1==d.pointers.length){this.animateInterval&&this.animateInterval.stop();"panstart"==d.type&&(this.startLength=this.getCurrentLength());var e=0;switch(this.direction){case "left":e=d.deltaX;break;case "right":e=-d.deltaX;break;case "top":e=d.deltaY;break;case "bottom":e=-d.deltaY}this.moveTo(this.startLength+e);"panend"!=d.type&&"pancancel"!=d.type||this.restrictInBoundary()}}.bind(this);
this.onSwipe=function(d){if(!this.EVENT_CANCEL){this.animateInterval&&this.animateInterval.stop();var e=0;switch(this.direction){case "left":e=d.velocityX;break;case "right":e=-d.velocityX;break;case "top":e=d.velocityY;break;case "bottom":e=-d.velocityY}this.startLength=this.getCurrentLength();this.animateToPosition(this.startLength+20*e)}}.bind(this);this.onProgressPan=function(d){this.EVENT_CANCEL||(d.deltaX=-d.deltaX*this.totalLength/this.stageLength,d.deltaY=-d.deltaY*this.totalLength/this.stageLength,
this.onPan(d))}.bind(this);this.onProgressSwipe=function(d){this.EVENT_CANCEL||(d.velocityX=-d.velocityX*this.totalLength/this.stageLength,d.velocityY=-d.velocityY*this.totalLength/this.stageLength,this.onSwipe(d))}.bind(this);this.onProgressTap=function(d){if(!this.EVENT_CANCEL&&d&&d.pointers&&1==d.pointers.length){var e=this.progress.offset(),f=0;switch(this.direction){case "left":f=-(d.pointers[0].pageX-e.left)*this.totalLength/this.stageLength;break;case "right":f=-(this.stageLength-d.pointers[0].pageX+
e.left)*this.totalLength/this.stageLength;break;case "top":f=-(d.pointers[0].pageY-e.top)*this.totalLength/this.stageLength;break;case "bottom":f=-(this.stageLength-d.pointers[0].pageY+e.top)*this.totalLength/this.stageLength}this.animateToPosition(f)}}.bind(this);this.onMouseWheel=function(d){if(!this.EVENT_CANCEL){d=d.originalEvent;var e=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail));if(!this.animateInterval||this.animateInterval.stopFlag)return e=this.getCurrentLength()+(0>e?-50:50),e=this.getEffectiveLength(e),
this.moveTo(e),d.stopPropagation(),!1}}.bind(this);this.getLeft=function(){return parseInt(this.swiper.css("left"))}.bind(this);this.getRight=function(){return parseInt(this.swiper.css("right"))}.bind(this);this.getBottom=function(){return parseInt(this.swiper.css("bottom"))}.bind(this);this.getTop=function(){return parseInt(this.swiper.css("top"))}.bind(this);this.animateToPosition=function(d){var e=this.getCurrentLength();d=this.getEffectiveLength(d);var f=function(g,h,l){l=(0,$.easing["easeOut"+
l])(null,g,e,d-e,h);g<h?this.moveTo(l):(this.moveTo(l),this.animateInterval.stop())}.bind(this);this.animateInterval=function(g,h){f(g,h,"Sine")}.animation(this,300)}.bind(this);this.animateToCenterItem=function(){var d=this.getCurrentItem();if(d[0]){var e=d.offset(),f=0,g=e.left-this.swiper.offset().left;e=e.top-this.swiper.offset().top;switch(this.direction){case "left":f=-(g+d.width()/2)+this.stageLength/2;break;case "top":f=-(e+d.height()/2)+this.stageLength/2;break;case "bottom":f=e-this.totalLength+
d.height()/2+this.stageLength/2;break;case "right":f=g-this.totalLength+d.width()/2+this.stageLength/2}this.animateToPosition(f)}}.bind(this);this.getCurrentItem=function(){var d=this.swiper.find(".focus.highlight");d[0]||(d=this.swiper.find(".highlight"));return d}.bind(this);this.moveTo=function(d){var e=this.direction;this.swiper.css(e,d+"px");this.progressBar.css(e,-d*this.stageLength/this.totalLength+"px")}.bind(this);this.getCurrentLength=function(){switch(this.direction){case "left":return this.getLeft();
case "top":return this.getTop();case "bottom":return this.getBottom();case "right":return this.getRight()}}.bind(this);this.restrictInBoundary=function(){this.animateInterval&&this.animateInterval.stop();var d=this.getCurrentLength(),e=this.getEffectiveLength(d);d!=e&&this.animateToPosition(e)}.bind(this);this.getEffectiveLength=function(d){return d?d=Number.between(d,-this.totalLength+this.stageLength,0):0}.bind(this);this.move=function(d){var e=this.getCurrentLength();this.animateToPosition(e+d)}.bind(this);
this.create(a,b,c)};
jQuery.fn.onTap=function(a,b){isPhone()||isPad()||"click"==b?this.click(function(c){c.stopPropagation();a(c)}):(b=new Hammer.Manager(this[0]),b.add(new Hammer.Tap({event:"tap",taps:1,threshold:5,time:400})),b.on("tap",function(c){c.srcEvent.stopPropagation();a(c)}));this.each(function(){$(this).attr("tabindex")||$(this).attr("tabindex",0);$(this).attr("role")||$(this).attr("role","button");$(this).on("keydown",function(c){if("Enter"===c.key||" "===c.key||13===c.keyCode||32===c.keyCode)c.preventDefault(),c.stopPropagation(),
a(c)})});return this};jQuery.fn.onDoubleTap=function(a){var b=new Hammer.Manager(this[0]);b.add(new Hammer.Tap({event:"doubletap",taps:2}));b.on("doubletap",a)};
function searchFromPages(a,b,c){var d=[];if(!b||!b.trim())return d;if(c){b=b.trim().toLowerCase();var e=-1==b.indexOf(" ")?[b]:b.split(" ");for(b=0;b<a.length;b++){c=a[b].trim().replace(/[\r\n]/g," ");var f=a[b].trim().toLowerCase().replace(/[\r\n]/g," "),g=f,h=-1,l=-1,m=-1,k=0,n=!0,p;for(p=0;p<e.length;p++)if(e[p]){g=new KMP(g,e[p]);var q=e[p].length;if(g.match()){var r=k+g.getIndex();if(r>m)m=r,k=r+e[p].length,g=f.substring(k),0==p&&(h=r),p==e.length-1&&(l=r+q);else{n=!1;break}}else{n=!1;break}}n&&
(m=[],k=getHighlightRealPageIndex(b),0>k||(m.search_page=k+1,k="page "+(k+1),m.search_title=k,k=f.substring(0,h),k=k.lastIndexOf("."),-1==k?k=0:k++,f=f.substring(l),n=f.indexOf(". "),n=-1==n?l+f.length:l+n+1,f=c.substring(k,n),m.search_text=f,d.push(m)))}}else for(b=b.trim(),e=b.toLowerCase(),b=0;b<a.length;b++)c=a[b].trim().replace(/[\r\n]/g," "),f=a[b].trim().toLowerCase().replace(/[\r\n]/g," "),h=f.indexOf(e),-1!==h&&(m=[],k=getHighlightRealPageIndex(b),0>k||(m.search_page=k+1,k="page "+(k+1),
m.search_title=k,l=h+e.length,k=f.substring(0,h),k=k.lastIndexOf("."),-1==k?k=0:k++,f=f.substring(l),n=f.indexOf(". "),n=-1==n?l+f.length:l+n+1,f=c.substring(k,n),-1===f.toLowerCase().indexOf(e)&&(f=c.substring(Math.max(0,h-50),Math.min(c.length,l+50))),m.search_text=f,d.push(m)));return d}function getSearchRealPageIndex(a){if(!window.search_pages||void 0==search_pages[a-1])return a;var b;(a=search_pages[a-1])&&(b=parseInt(a.index));return isNaN(b)||-1==b?-1:b+1}
function getHighlightRealPageIndex(a){if(!window.search_pages)return a;for(var b=-1,c=0;c<window.search_pages.length;c++)if(search_pages[c]&&search_pages[c].index==a){b=c;break}return b}var KMP=function(a,b){this.__string=a;this.__pattern=b;this.__next=[];this.__times=0;this.__index=-1;for(a=0;a<b.length;a++)this.__next[a]=1>=a?a-1:this.next(b.substring(0,a));this.__times=0;this.__index=-1};bdor[10]="l";
KMP.prototype.next=function(a){for(var b=Math.ceil(a.length/2);0<b&&0!=a.substring(0,b).compareTo(a.substring(a.length-b,a.length));)b--;return b};
KMP.prototype.match=function(){for(var a=0,b=0,c=-1;a<this.__string.length&&b<this.__pattern.length;){if(this.__string.charAt(a)==this.__pattern.charAt(b))0===b&&(c=a),a++,b++;else{for(var d=this.__next[b];-1!=d&&this.__pattern.charAt(d)==this.__pattern.charAt(b);)d=this.__next[d];b=d;-1==b?(a++,b=0):c=a-b}this.__times++}return b==this.__pattern.length?(this.__index=c,!0):!1};KMP.prototype.getTimes=function(){return this.__times};KMP.prototype.getIndex=function(){return this.__index};
String.prototype.compareTo=function(a){var b=this.length,c=a.length,d=Math.min(b,c),e=this.split("");a=a.split("");var f=0,g=0;if(f==g)for(g=f,d+=f;g<d;){var h=e[g],l=a[g];if(h!=l)return h-l;g++}else for(;0!=d--;)if(h=e[f++],l=a[g++],h!=l)return h-l;return b-c};Class("MediasPool",{currentMedia:null,addToMediasPool:function(a){window.mediasInPage.push(a)},cleanMediaPool:function(a){a.remove();window.mediasInPage.remove(a)}});window.playBackgroundSound=!0;window.mediasInPage=[];
Class("Media",{type:"",$media:null,create:function(a,b,c){this.$media=a;this.type=b;this.playEvt=c;this.checkMediaType();$(a).bind("ended",function(){this.playBackgroundSound()}.bind(this));$(a).bind("play",function(){unbindSoundEvent()}.bind(this));"vimeo"==b&&this.playVimeo()},play:function(){this.playMedia();window.currentMedia&&window.currentMedia!=this&&window.currentMedia.pauseMedia();window.currentMedia=this;this.pauseBackgroundSound()},pause:function(){this.pauseMedia();window.currentMedia==
this&&this.playBackgroundSound()},playBackgroundSound:function(){window.playBackgroundSound=!0;window.playBackgroundSound&&isPlaying&&global.bgSound.playCurrentAudio();window.currentMedia=null},pauseBackgroundSound:function(){window.playBackgroundSound&&isPlaying&&global.bgSound.pauseCurrentAudio();window.playBackgroundSound=!1},playMedia:function(){switch(this.type){case "youtube":this.callPlayer("playVideo");break;case "flv":this.player.play();break;case "vimeo":this.playVimeo();break;case "popVideo":break;
default:this.$media[0].play&&this.$media[0].play()}},pauseMedia:function(){switch(this.type){case "youtube":this.callPlayer("pauseVideo");break;case "flv":this.player&&this.player.pause();break;case "vimeo":this.player&&this.player.pause();break;case "popVideo":break;default:this.$media[0].pause&&this.$media[0].pause()}},bind:function(a,b){b&&this.$media&&this.$media.bind(a,b)},setSrc:function(a){},appentTo:function(a){},setCss:function(a){a&&this.$media&&this.$media.css(a)},setCurrentTime:function(a){"flv"==
this.type?this.player.currentTime=a:this.$media&&this.$media[0]&&(this.$media[0].currentTime=a)},setMute:function(a){"flv"==this.type?this.player.muted=a:this.$media&&this.$media[0]&&(this.$media[0].muted=a)},getType:function(){return this.type},remove:function(){this.$media.remove();this.$media=null},checkMediaType:function(){var a=this.$media.attr("src");a&&global.flvjs&&flvjs.isSupported()&&(a.endsWith(".flv")||a.endsWith(".f4v"))&&(this.type="flv",this.player=flvjs.createPlayer({type:"flv",url:a}),
this.player.attachMediaElement(this.$media[0]),this.player.load())},callPlayer:function(a,b){var c=this.$media[0],d=c.getAttribute("src");d&&-1!==d.indexOf("youtube.com/embed")&&c.contentWindow&&c.contentWindow.postMessage(JSON.stringify({event:"command",func:a,args:b||[]}),"*")},playVimeo:function(){this.$media&&(global.vimeoJsLoaded||$("head").find("#vimeoPlayApi")[0]||vimeoPlayerUrl&&this.loadScript(vimeoPlayerUrl,function(){global.vimeoJsLoaded=!0;this.player=new Vimeo.Player(this.$media[0]);
this.playEvt==PageEditor.PlayEvt.EVT_PLAY&&this.player.play()}.bind(this)),global.vimeoJsLoaded&&!this.player&&(this.player=new Vimeo.Player(this.$media[0]),this.playEvt==PageEditor.PlayEvt.EVT_PLAY&&this.player.play()),this.playEvt==PageEditor.PlayEvt.EVT_PLAY&&this.player&&this.player.play())},loadScript:function(a,b){var c=document.createElement("script");c.id="vimeoPlayApi";c.type="text/javascript";c.readyState?c.onreadystatechange=function(){if("loaded"==c.readyState||"complete"==c.readyState)c.onreadystatechange=
null,b()}:c.onload=function(){b()};c.src=a;document.getElementsByTagName("head")[0].appendChild(c)}});window.playBackgroundSound=!0;window.mediasInPage=[];
var HTMLString={riseAWord:function(a,b,c){b=-1==b.indexOf(" ")?[b]:b.trim().split(" ");for(var d=[],e=0;e<b.length;e++){var f=a.toLowerCase().indexOf(b[e].toLowerCase()),g=f+b[e].length,h=a.substring(0,g);f=a.substring(f,g);a=a.substring(g);h=h.replace(f,"<span style='color:"+c+";'>"+f+"</span>");d.push(h)}""!==a&&d.push(a);return d.join("")},isHTML:function(a){return a?!!a.match(/^(<\w+>?).*((<\/\w+>)|(\/>))$/g):!1},toText:function(a){return"string"!=typeof a?"":a.replace(/<\/?\w+>/g,"")},toLabel:function(a){a=
a.replaceAll("<","&lt;");return a.replaceAll(">","&gt;")}},LanguageTool={isEnglish:function(a){return/[\x00-\xff]/.test(a)},isChinese:function(a){return/[\u4E00-\u9FBF]/.test(a)},isArabic:function(a){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(a)},isUrdu:function(a){return this.isArabic(a)||/[\uFE70-\uFEFF]/.test(a)},isHebrew:function(a){return/[\u0590-\u05FF]|[\uFB00-\uFB4F]/.test(a)},isFarsi:function(a){return this.isUrdu(a)},isTai:function(a){return/[\u0E00-\u0E7F]/.test(a)},isHindi:function(a){return/[\u0900-\u097F]/.test(a)},
isTamil:function(a){return/[\u0B80-\u0BFF]/.test(a)},isHimalayaRahm:function(a){return/[\u0D00-\u0D7F]/.test(a)},isRightToLeft:function(a){return this.isArabic(a)||this.isUrdu(a)||this.isHebrew(a)||this.isFarsi(a)||this.isHindi(a)||this.isHimalayaRahm(a)}};
if(window.aliasLanguage){var source={btnFullScreen:["btnFullscreen"],btnDisableFullScreen:["btnExitFullscreen"],btnSelection:["btnSelectText"],btnNextPage:["btnPageForward"],btnPrePage:["btnPageBack"]},property;for(property in source)aliasLanguage[property]||(aliasLanguage[property]=source[property])}else window.aliasLanguage={btnFullScreen:["btnFullscreen"],btnDisableFullScreen:["btnExitFullscreen"],btnSelection:["btnSelectText"],btnNextPage:["btnPageForward"],btnPrePage:["btnPageBack"]};var FormElements=Class({rightToLeft:!1,create:function(a){this.rightToLeft=global.rightToLeft},initElements:virtual_function,initEvent:virtual_function,pickElements:virtual_function,changeLanguage:virtual_function}),PhoneFormFrame=Class({create:function(a){this._super(a);this.closeUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAATCAYAAABGKffQAAAA20lEQVQokYXSoUqEQRQG0CvioqBiWNGiotGgRcTgCwha7Ps0FrvF4BsYfIGFNZgsGw02EYOLWDSI4DF4F2T5Z/6BgQnnY5jvTiCwj06eiztw6m/dYqkNr+MpA0Os1nBgAw8ZeMRWDQe6uM/AC3ZqODCPfgbecVjDka1cZ+ATxzUcmMZlBr7Rq+HxPsvAD/bacAd3GGGtBhf+PfYVMyW43FRjE5wc0GapjW08JxxipdTzAd4SDrA4eev4cISPhDeYbXpL4ARfCa9yIMVfd5HwHFO13gNz2G0ZTiB+ASa3n9W0/5wmAAAAAElFTkSuQmCC";
this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType,!0)+" phone'></div>");this.title=$("<p class='form_title'><span>"+FormInfo.getFormTitle(this.formType)+"</span></p>");this.close=$("<div class='close button' role=\"button\">"+phoneSvgIcons.formClose+"</div>");this.rightToLeft&&this.stage.addClass("rightToLeft");this.close.onTap(this.hide.bind(this));this.stage.css({visibility:"hidden"});this.initHtml();this.initEvent();this.onCreate();(isPhone()||isPad())&&this.initScrollEvent()},
onCreate:function(){this.stage.insertBefore(this.parent);this.stage.css({position:"absolute",left:this.width+"px",top:0,width:this.width+"px",height:this.height+"px","background-color":Color(this.mainColor).rgba(this.formOpacity),color:this.fontColor,overflow:"hidden"})},getPosition:function(a){a=a.originalEvent&&a.originalEvent.changedTouches?a.originalEvent.changedTouches:a.changedTouches?a.changedTouches:[a];return{x:(a[0].pageX||a[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),
y:(a[0].pageY||a[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}},firstTimeMove:function(a){this.firstTime=!0;this.dragEnd=this.getPosition(a);a=this.dragEnd.x-this.dragStart.x;var b=this.dragEnd.y-this.dragStart.y;0==a&&0!=b&&(this.noSwipeRight=!0);0!=a&&0==b&&(this.noSwipeRight=!1);0==a&&0==b&&(this.noSwipeRight=!0);1.01>=Math.abs(a/b)&&(this.noSwipeRight=!0)},firstTimeMoveOnY:function(a){this.firstTime=!0;this.dragEnd=this.getPosition(a);a=this.dragEnd.y-this.dragStart.y;
var b=this.dragEnd.x-this.dragStart.x;0==a&&0!=b&&(this.noSwipeRight=!0);0!=a&&0==b&&(this.noSwipeRight=!1);0==a&&0==b&&(this.noSwipeRight=!0);1.01>=Math.abs(a/b)&&(this.noSwipeRight=!0)},initScrollEvent:function(){bookConfig.upsideOnMobile()?this.initScrollEventOnY():this.initScrollEventOnX()},initScrollEventOnX:function(){this.dragStart={};this.dragEnd={};this.stage.bind(_event._down,function(a){a.stopPropagation();this.formTouching=!0;this.firstTime=this.dragMove=this.noSwipeRight=!1;this.dragEnd=
this.dragStart=this.getPosition(a);this.endTime=this.startTime=(new Date).getTime()}.bind(this));this.stage.bind(_event._move,function(a){a.stopPropagation();this.dragMove=!0;this.firstTime||this.firstTimeMove(a);if(this.formTouching){this.dragEnd=this.getPosition(a);var b=this.dragEnd.x-this.dragStart.x;this.noSwipeRight||(a.preventDefault(),0<b&&b<windowWidth?(this.stage.css({transform:"translate3d("+(-windowWidth+b)+"px,0,0)"}),this.parent.css({transform:"translate3d("+(-windowWidth+b)+"px,0,0)"})):
(0>=b&&this.stage.css({transform:"translate3d("+-windowWidth+"px,0,0)"}),b>=windowWidth&&this.stage.css({transform:"translate3d(0px,0,0)"})))}}.bind(this));this.stage.bind(_event._up,function(a){a.stopPropagation();if(this.dragEnd&&void 0!=this.dragEnd.x&&(a=this.dragEnd.x-this.dragStart.x,this.endTime=(new Date).getTime(),this.formTouching&&!this.noSwipeRight&&this.dragMove&&!(0>a))){this.formTouching=!1;var b=(this.endTime-this.startTime)/1E3;0<a&&!this.noSwipeRight&&.3>=b&&a>.1*windowWidth?this.hide():
windowWidth-this.dragEnd.x+this.dragStart.x>2*windowWidth/3?this.animate(-windowWidth):this.hide();this.dragMove=this.firstTime=this.noSwipeRight=!1}}.bind(this))},initScrollEventOnY:function(){this.dragStart={};this.dragEnd={};this.stage.bind(_event._down,function(a){a.stopPropagation();this.formTouching=!0;this.firstTime=this.dragMove=this.noSwipeRight=!1;this.dragEnd=this.dragStart=this.getPosition(a);this.endTime=this.startTime=(new Date).getTime()}.bind(this));this.stage.bind(_event._move,function(a){a.stopPropagation();
this.dragMove=!0;this.firstTime||this.firstTimeMoveOnY(a);if(this.formTouching){this.dragEnd=this.getPosition(a);var b=this.dragEnd.y-this.dragStart.y;this.noSwipeRight||(a.preventDefault(),0<b&&b<windowWidth?(this.stage.css({transform:"translate3d("+(-windowWidth+b)+"px,0,0)"}),this.parent.css({transform:"translate3d("+(-windowWidth+b)+"px,0,0)"})):(0>=b&&this.stage.css({transform:"translate3d("+-windowWidth+"px,0,0)"}),b>=windowWidth&&this.stage.css({transform:"translate3d(0px,0,0)"})))}}.bind(this));
this.stage.bind(_event._up,function(a){a.stopPropagation();if(this.dragEnd&&void 0!=this.dragEnd.y&&(a=this.dragEnd.y-this.dragStart.y,this.endTime=(new Date).getTime(),this.formTouching&&!this.noSwipeRight&&this.dragMove&&!(0>a))){this.formTouching=!1;var b=(this.endTime-this.startTime)/1E3;0<a&&!this.noSwipeRight&&.3>=b&&a>.1*windowWidth?this.hide():windowWidth-this.dragEnd.x+this.dragStart.x>2*windowWidth/3?this.animate(-windowWidth):this.hide();this.dragMove=this.firstTime=this.noSwipeRight=!1}}.bind(this))},
show:function(){var a=this;if(!this.visible&&(this.stage.css({visibility:"visible"}),this.visible=!0,this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.click(function(){a.animating||a.hide()}),this.parent.append(this.mask)),this.mask&&this.mask.show(),this.animate(-this.width),BookInfo.getBook().addSearchHighlight(),this.onShow))this.onShow()},hide:function(){if(this.visible&&(this.beforeHide&&this.beforeHide(),this.visible=!1,this.dragEnd={},this.animate(0),this.mask&&this.mask.hide(),
$(tmpContainer).removeAttr("tabindex"),isPhone()||isPad()||BookInfo.getBook().clearSearchHighlight(),this.onHide))this.onHide()},animate:function(a){this.animating=!0;var b=transformCSS({tran:{x:a,y:0}});animateOnce(this.stage,b,.2,function(){this.animating=!1;0==a?this.stage.css({visibility:"hidden"}):this.setA11yAndFocus()}.bind(this));animateOnce(this.parent,b,.2,function(){this.animating=!1}.bind(this))},onResize:function(){this.width=windowWidth;this.height=windowHeight;this.stage.css({left:this.width+
"px",width:this.width+"px",height:this.height+"px"});var a=this.visible?transformCSS({tran:{x:-this.width,y:0}}):transformCSS({tran:{x:0,y:0}});this.stage.css(a);this.parent.css(a)},showOrHide:function(){!0===this.visible?this.hide():this.show(-this.width)}}).extend(FormFrame),PhoneBottomFormFrame=Class({create:function(a){this._super(a);this.closeUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjhBN0ZCRjFCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjhBN0ZCRjJCQjgwMTFFNjhCMjQ5NjVERDlGODU5NkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOEE3RkJFRkJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOEE3RkJGMEJCODAxMUU2OEIyNDk2NUREOUY4NTk2RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prtn4R8AAABdSURBVHjaYvz//z8DLQETA43BqAWjFtDHgv9QTKocyT74T4BPtgWMWAz9j0OebB8w4nA5IzUjmZEAf/DGAb5g+U+tZIpuONGW0DwOWMgwmIFWqWi0sBu1ADsACDAA1jMSLYufr4AAAAAASUVORK5CYII=";
this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType,!0)+" phone_bottom phone'></div>");this.title=$("<p class='form_title'>"+FormInfo.getFormTitle(this.formType)+"</p>");this.close=$("<div class='close'>"+getLanguage("lblCancel","Cancel")+"</div>");this.rightToLeft&&this.stage.addClass("rightToLeft");this.close.bind(_event._click,this.hide.bind(this));this.stage.css({visibility:"hidden"});this.initHtml();this.initEvent();this.onCreate()},onCreate:function(){this.stage.insertBefore(this.parent);
this.stage.css({position:"fixed",left:0,bottom:-this.height+"px",width:this.width+"px",height:this.height+"px","background-color":Color(colorDiv(this.mainColor,20)).rgba(this.formOpacity),color:this.fontColor,overflow:"hidden"})},show:function(){this.visible||(this.visible=!0,this.stage.css({visibility:"visible"}),this.animate(this.height),this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.bind(_event._click,this.hide.bind(this)),this.mask.insertBefore(this.parent)),this.mask&&
this.mask.show(),this.setA11y(),this.stage.attr("tabindex",-1),this.stage.focus(),BookInfo.getBook().addSearchHighlight())},hide:function(){this.visible&&(this.visible=!1,this.animate(0),this.mask&&this.mask.hide(),isPhone()||isPad()||BookInfo.getBook().clearSearchHighlight(),this.stage.removeAttr("tabindex"),this.onHide())},animate:function(a){this.animating=!0;var b=transformCSS({tran:{x:0,y:-a}});animateOnce(this.stage,b,.2,function(){this.animating=!1;0==a&&this.stage.css({visibility:"hidden"})}.bind(this));
window.setTimeout(function(){if(this.onShow)this.onShow()}.bind(this),200)},onResize:function(){this.width=windowWidth;this.height=272;this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"});var a=this.visible?transformCSS({tran:{x:0,y:-this.height}}):transformCSS({tran:{x:0,y:0}});this.stage.css(a);this.parent.css(a)},showOrHide:function(){!0===this.visible?this.hide():this.show(this.width)},onHide:function(){},changeLanguage:function(){this._super();this.close.html(getLanguage("lblCancel",
"Cancel"));this.title.html(FormInfo.getFormTitle(this.formType))}}).extend(FormFrame),SlideForm=Class({create:function(a){this._super(a);this.closeUrl=form_icons.close?"data:image/png;base64,"+form_icons.close:uiBaseURL+"close.png";this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType)+"'></div>");this.title=$("<p class='form_title'></p>");this.title.append($("<span>"+FormInfo.getFormTitle(this.formType)+"</span>"));FormInfo.getFormFavicon(this.formType)&&(this.favicon=$("<img alt='favicon' width='auto' height='auto' class='favicon' src='"+
FormInfo.getFormFavicon(this.formType)+"'/>"));this.close=$("<img alt='close' width='auto' height='auto' class='close button' role='button' src='"+this.closeUrl+"'/>");this.rightToLeft&&this.stage.addClass("rightToLeft");this.initHtml();this.initEvent();this.onCreate()},onCreate:function(){this.parent.append(this.stage);this.title&&this.title.css({cursor:"default"});this.hide()},initEvent:function(){this.stage.drag();this.stage.bind(_event._down,function(a){a.stopPropagation()});this.close.bind("click",
this.hide.bind(this));this.close.bind("mouseenter",function(){this.close.css({background:"rgba(255,255,255,0.25)"})}.bind(this));this.close.bind("mouseleave",function(){this.close.css({background:""})}.bind(this))},show:function(){this.visible=!0;this.stage.animate({left:10},400,function(){this.setA11yAndFocus()}.bind(this));this.onShow()},hide:function(){this.visible=!1;this.stage.animate({left:2*-this.width},400,function(){this.stage.attr("tabindex",-1);this.onHide()}.bind(this))},onHide:function(){}}).extend(FormFrame),
SlideLeftForm=Class({create:function(a,b){this._super(a);a=b?FormInfo.getFormCssClassName(this.formType,!1):FormInfo.getFormCssClassName(this.formType,!0)+" phone_bottom phone";this.stage=$("<div class='"+a+"'></div>");this.title=$("<p class='form_title'>"+FormInfo.getFormTitle(this.formType)+"</p>");this.rightToLeft&&this.stage.addClass("rightToLeft");this.initHtml();this.initEvent();this.onCreate()},onCreate:function(){this.stage.insertBefore(this.parent);this.stage.css({position:"fixed",left:0,
bottom:-this.height+"px",width:this.width+"px",height:this.height+"px","background-color":colorDiv(this.mainColor,20),color:this.fontColor,overflow:"hidden"})},show:function(){this.visible||(this.visible=!0,this.stage.css({visibility:"visible"}),this.animate(this.width),this.mask||(this.mask=$("<div class='form_mask_phone'></div>"),this.mask.bind(_event._click,this.hide.bind(this)),this.parent.append(this.mask)),this.mask&&this.mask.show())},hide:function(){this.visible&&(this.visible=!1,this.animate(0),
this.mask&&this.mask.hide())},animate:function(a){this.animating=!0;var b=transformCSS({tran:{x:a,y:0}});animateOnce(this.stage,b,.2,function(){this.animating=!1;0==a?(this.stage.css({visibility:"hidden"}),this.stage.removeAttr("tabindex")):this.setA11yAndFocus()}.bind(this))},onResize:function(){this.width=272;this.height=windowHeight;this.stage.css({bottom:-this.height+"px",width:this.width+"px",height:this.height+"px"});var a=this.visible?transformCSS({tran:{x:-this.width,y:0}}):transformCSS({tran:{x:0,
y:0}});this.stage.css(a);this.parent.css(a)},showOrHide:function(){!0===this.visible?this.hide():this.show(this.width)}}).extend(FormFrame),SlideRightForm=Class({create:function(a){this._super(a);this.closeUrl=form_icons.close?"data:image/png;base64,"+form_icons.close:uiBaseURL+"close.png";this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType)+"'></div>");this.title=$("<p class='form_title'></p>");this.title.append($("<span>"+FormInfo.getFormTitle(this.formType)+"</span>"));FormInfo.getFormFavicon(this.formType)&&
(this.favicon=$("<img alt='favicon' width='auto' height='auto' class='favicon' src='"+FormInfo.getFormFavicon(this.formType)+"'/>"));this.close=$("<img alt='close' width='auto' height='auto' class='close' src='"+this.closeUrl+"'/>");this.rightToLeft&&this.stage.addClass("rightToLeft");this.stage.css({visibility:"hidden",right:"-100%"});this.initHtml();this.initEvent();this.onCreate()},onCreate:function(){this.parent.append(this.stage);this.title&&this.title.css({cursor:"default"})},onResize:function(){var a=
windowHeight;this.width=250;this.height=a-24},initEvent:function(){this.stage.bind(_event._down,function(a){a.stopPropagation()});this.close.bind("click",this.hide.bind(this));this.close.bind("mouseenter",function(){this.close.css({background:"rgba(255,255,255,0.25)"})}.bind(this));this.close.bind("mouseleave",function(){this.close.css({background:""})}.bind(this))},initHtml:virtual_function,showOrHide:function(){this.visible?this.hide():this.show()},show:function(){this.visible=!0;this.stage.css({visibility:"visible"});
this.stage.animate({right:0},400,function(){this.setA11yAndFocus()}.bind(this));this.onShow()},hide:function(){this.visible=!1;this.stage.animate({right:2*-this.width},400,function(){this.onHide();this.stage.css({visibility:"hidden"});this.stage.removeAttr("tabindex")}.bind(this))}}).extend(FormFrame),PcBottomForm=Class({create:function(a){this._super(a);this.stage=$("<div class='"+FormInfo.getFormCssClassName(this.formType)+"'></div>");this.rightToLeft&&this.stage.addClass("rightToLeft");this.initHtml();
this.initEvent();this.onCreate()},onCreate:function(){this.parent.append(this.stage)},initEvent:function(){this.stage.drag();this.stage.bind(_event._down,function(a){a.stopPropagation()});this.stage.bind("click",this.hide.bind(this))},initHtml:virtual_function,onHide:function(){}}).extend(FormFrame);
(function(a){Class("Switch",{BODY:"__switch",id:"",props:null,value:0,$parent:null,$body:null,get radius(){return Math.round(1.833*this.props.size)},get height(){return Math.round(this.props.size/1.66)},get max_x(){return this.props.size/2-this.props.size/10},create:function(b,c){c=void 0===c?{}:c;this.id="__"+Math.random().toString(32).substring(2);this.$parent=b;this.props=Object.assign({},{class:"",size:30,color:"#fff",onStatusColor:"#60D273",OffStatusColor:"#E9E9EA",defaultValue:0,onChange:function(d,
e){}},c);this.value=this.props.defaultValue;this.init()},init:function(){this.initHtml();this.initCss();this.initEvent()},initCss:function(){var b={};updateStyleSheetBatch((b["."+this.BODY]={display:"flex",transition:"background-color 0.3s","align-items":"center","border-radius":this.radius+"px"},b["."+this.BODY+"Block"]={transition:"transform 0.3s",margin:"0 1px","border-radius":"100%",width:this.height-2+"px",height:this.height-2+"px"},b["."+this.BODY+"[data-id="+this.id+"]"]={"background-color":this.value?
this.props.onStatusColor:this.props.OffStatusColor,width:this.props.size+"px",height:this.height+"px"},b["."+this.BODY+"[data-id="+this.id+"] ."+this.BODY+"Block"]={"background-color":""+this.props.color,transform:"translateX("+(this.value?this.max_x:0)+"px)"},b))},initHtml:function(){var b=_get(this.props,"class","");""===b?b=this.BODY:Array.isArray(b)?b=this.BODY+" "+b.join(" "):"string"===typeof b&&(b=this.BODY+" "+b);this.$body=$('<div data-id="'+this.id+'" class="'+b+'"></div>');this.$block=
$('<div class="'+this.BODY+'Block button" role="button"></div>');this.$parent.append(this.$body);this.$body.append(this.$block)},initEvent:function(){var b=this;this.$body.on("click",function(){b.setValue(!b.value,!0)})},setValue:function(b,c){b=b?1:0;if(void 0===c||!c||!1!==this.onChange(b)){c=b?this.max_x:0;var d={};updateStyleSheetBatch((d["."+this.BODY+"[data-id="+this.id+"]"]={"background-color":b?this.props.onStatusColor:this.props.OffStatusColor},d["."+this.BODY+"[data-id="+this.id+"] ."+this.BODY+
"Block"]={transform:"translateX("+c+"px)"},d));this.value=b}},onChange:function(b){return this.props.onChange(!!b,this)}})})(window);
var SettingElements=Class({themeColor:"#0076fe",enabledMusic:!0,create:function(a){this._super(a);this.initElements();this.pickElements(a)},get hasBgSound(){return!(!bookConfig.BackgroundSoundButtonVisible||!bookConfig.BackgroundSoundURL)},hasMulmedia:function(){var a;return null==(a=window.mulEditorInfo)?void 0:a.hasMusic},initElements:function(){this.scrollBox=$("<div class='scrollBox'></div>");this.renderFlipSoundBtn();this.hasBgSound&&this.renderBgSoundBtn()},renderFlipSoundBtn:function(){var a=
this;this.flipSoundBtn=$("<div class='item'>\n        <div class='title'>"+getLanguage("closeFlipSound","Chinese"==UserGroups?"\u7ffb\u9875\u97f3\u6548":"Page-flipping Sound")+"</div>\n        </div>");this.$flipSoundSwitch=new Switch(this.flipSoundBtn,{size:isPad()?39:30,name:"flipSound",defaultValue:global.flipSoundIsPlaying,onStatusColor:this.themeColor,onChange:function(b){return a.onChangeFlipSound(b)}});this.scrollBox.append(this.flipSoundBtn)},onChangeFlipSound:function(a){(global.flipSoundIsPlaying=
a)&&playFlipSound();a=a?getLanguage("tmpl_Flipsoundon","Open Flip Sound"):getLanguage("tmpl_Flipsoundoff","Close Flip Sound");BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"flip sound",a]);this.changeBackgroundSoundButtonState()},changeFlipSoundBtnCase:function(){this.$flipSoundSwitch&&this.$flipSoundSwitch.setValue(global.flipSoundIsPlaying)},renderBgSoundBtn:function(){var a=this;this.hasBgSound&&!this.backgroundSoundBtn&&(this.backgroundSoundBtn=$("<div class='item' id='btnSound'>\n      <div class='title'>"+
getLanguage("closeBackgroundSound","Chinese"==UserGroups?"\u80cc\u666f\u97f3\u4e50":"Background Sound")+"</div>\n      </div>"),this.$bgSoundSwitch=new Switch(this.backgroundSoundBtn,{size:isPad()?39:30,name:"backgroundSound",defaultValue:this.hasBgSound,onStatusColor:this.themeColor,onChange:function(b){return a.onChangeBgSound(b)}}),this.scrollBox.append(this.backgroundSoundBtn))},onChangeBgSound:function(a){window.bgSound&&(a?bgSound.play():bgSound.pause());a=a?getLanguage("tmpl_Backgoundsoundoff",
"Close Background Sound"):getLanguage("tmpl_Backgoundsoundon","Open Background Sound");BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"background sound",a])},changeBackgroundBtnCase:function(a){this.$bgSoundSwitch&&this.$bgSoundSwitch.setValue(null!=a?a:global.isPlaying)},renderMultimediaSound:function(){var a=this;this.hasMulmedia()&&!this.mulEditorSoundBtn&&(this.mulEditorSoundBtn=$("<div class='item' id='multimediaSound'>\n        <div class='title'>"+getLanguage("settingMultimediaSoundTitle",
"Chinese"==UserGroups?"\u97f3\u4e50":"Music")+"</div>\n      </div>"),this.$mediaSoundSwitch=new Switch(this.mulEditorSoundBtn,{size:isPad()?39:30,name:"mulEditorSound",defaultValue:!0,onStatusColor:this.themeColor,onChange:function(b){return a.onChangeMultimediaSound(b)}}),this.scrollBox.append(this.mulEditorSoundBtn))},hasCurrentMusic:function(){var a,b=null==(a=window.mulEditorInfo)?void 0:a.pageHasMusic;return b&&"function"===typeof b?(a=BookInfo.getCurrentPages(),b(a)):!1},onChangeMultimediaSound:function(a){if(!this.hasCurrentMusic()){var b=
"\u5f53\u524d\u5b58\u5728\u65e0\u97f3\u4e50\u7684\u9875\u9762\uff0c\u5f00\u542f\u97f3\u4e50\u540e\uff0c\u4ec5\u5728\u6709\u97f3\u4e50\u7684\u9875\u9762\u64ad\u653e\u3002",c="\u5173\u95ed\u97f3\u4e50\u540e\uff0c\u6709\u97f3\u4e50\u7684\u9875\u9762\u5c06\u4e0d\u518d\u64ad\u653e\u3002";"Chinese"!==UserGroups&&(b="There are pages without music currently. Once music is enabled, it will only play on pages with music.",c="After music is disabled, pages with music will no longer play.");b=a?getLanguage("settingMultimediaSoundPlayTips",
b):getLanguage("settingMultimediaSoundPauseTips",c);c=new TipsBox({opacity:1,duration:3E3},$("body"));c.background.css({"z-index":9999,"max-width":"80%",width:"100%",left:"50%",right:"initial",transform:"translate(-50%)",padding:"10px 12px","box-shadow":"0px 6px 40px 0px rgba(3,8,26,0.1)","border-radius":"8px",textAlign:"start"});c.setCaption(b);c.showTipsBox()}window.mulEditorInfo.handleMusic({method:a?"play":"pause"});this.setEnabledMusic(a);a=window.mulEditorInfo.isPlaying?getLanguage("multimediaSoundOff",
"Multimedia sound off"):getLanguage("multimediaSoundOn","Multimedia sound on");BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"multimedia sound",a])},changeMultimediaSoundBtnCase:function(a){this.$mediaSoundSwitch&&this.$mediaSoundSwitch.setValue(a)},changeBackgroundSoundButtonState:function(){global.isPlaying||global.flipSoundIsPlaying?StateSynchronous.instance().findButtons("PhoneBackgroundSoundButton").each(function(a){a.setAsSoundOn();a.executeCallback()}):StateSynchronous.instance().findButtons("PhoneBackgroundSoundButton").each(function(a){a.setAsSoundOff();
a.executeCallback()})},reset:function(){this.backgroundSoundBtn||this.renderBgSoundBtn();this.resetMultimediaSound()},resetMultimediaSound:function(){this.hasMulmedia()?this.mulEditorSoundBtn||this.renderMultimediaSound():this.mulEditorSoundBtn&&this.mulEditorSoundBtn.remove()},onResize:function(){console.log("onResize")},initEvent:function(){},setEnabledMusic:function(a){this.enabledMusic=a;window.mulEditorInfo.enabledMusic=a},pickElements:function(a){a.scrollBox=this.scrollBox;a.flipSoundBtn=this.flipSoundBtn;
a.backgroundSoundBtn=this.backgroundSoundBtn;a.mulEditorSoundBtn=this.mulEditorSoundBtn;a.$bgSoundSwitch=this.$bgSoundSwitch;a.$mediaSoundSwitch=this.$mediaSoundSwitch;a.changeFlipSoundBtnCase=this.changeFlipSoundBtnCase;a.changeBackgroundBtnCase=this.changeBackgroundBtnCase;a.changeMultimediaSoundBtnCase=this.changeMultimediaSoundBtnCase;a.renderBgSoundBtn=this.renderBgSoundBtn;a.renderMultimediaSound=this.renderMultimediaSound;a.onChangeMultimediaSound=this.onChangeMultimediaSound;a.hasBgSound=
this.hasBgSound;a.hasMulmedia=this.hasMulmedia;a.reset=this.reset;a.resetMultimediaSound=this.resetMultimediaSound;a.themeColor=this.themeColor;a.hasCurrentMusic=this.hasCurrentMusic;a.enabledMusic=this.enabledMusic;a.setEnabledMusic=this.setEnabledMusic},changeLanguage:function(){var a=getLanguage("closeFlipSound","Chinese"==UserGroups?"\u7ffb\u9875\u97f3\u6548":"Page-flipping Sound");this.flipSoundBtn.find(".title").html(a);this.backgroundSoundBtn&&(a=getLanguage("closeBackgroundSound","Chinese"==
UserGroups?"\u80cc\u666f\u97f3\u4e50":"Background Sound"),this.backgroundSoundBtn.find(".title").html(a));this.mulEditorSoundBtn&&(a=getLanguage("settingMultimediaSoundTitle","Chinese"==UserGroups?"\u97f3\u4e50":"Music"),this.mulEditorSoundBtn.find(".title").html(a))}}).extend(FormElements),PhoneSettingForm=Class({create:function(a){this.elements=new SettingElements(this);this._super(a)},onCreate:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor);this._super()},initHtml:function(){this.title.append(this.close);
this.stage.append(this.title);this.stage.append(this.scrollBox)},initEvent:function(){},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor)},changeLanguage:function(){this._super();this.elements.changeLanguage()}}).extend(PhoneFormFrame),PcSoundSettingForm=Class({enabledMusic:!0,create:function(a){this._super(a)},onCreate:function(){this.stage.css({"background-color":"transparent",width:"auto"});this._super()},initHtml:function(){this.flipSoundOnImage=uiBaseURL+"flipSoundOn.png";
this.flipSoundOffImage=uiBaseURL+"flipSoundOff.png";this.backSoundOnImage=uiBaseURL+"backSoundOn.png";this.backSoundOffImage=uiBaseURL+"backSoundOff.png";var a=global.flipSoundIsPlaying?getLanguage("tmpl_Flipsoundon","Open Flip Sound"):getLanguage("tmpl_Flipsoundoff","Close Flip Sound"),b=global.flipSoundIsPlaying?this.flipSoundOnImage:this.flipSoundOffImage,c=bookConfig.BackgroundSoundURL?getLanguage("tmpl_Backgoundsoundon","Open Background Sound"):getLanguage("tmpl_Backgoundsoundoff","Close Background Sound");
this.backgroundSoundBtn=$("<div class='item' id='btnSound'><img src='"+(bookConfig.BackgroundSoundURL?this.backSoundOnImage:this.backSoundOffImage)+"'/><p class='title'>"+c+"</p></div>");this.flipSoundBtn=$("<div class='item'><img src='"+b+"'/><p class='title'>"+a+"</p></div>");bookConfig.BackgroundSoundURL&&this.stage.append(this.backgroundSoundBtn);this.stage.append(this.flipSoundBtn);this.renderMultimediaSound()},renderMultimediaSound:function(){if(this.hasMulmedia()&&!this.mulEditorSoundBtn){this.multimediaOnImage=
uiBaseURL+"multimediaOn.png";this.multimediaOffImage=uiBaseURL+"multimediaOff.png";var a=getLanguage("multimediaSoundOn","Music on");this.mulEditorSoundBtn=$('<div class="item" id="mulEditorSoundBtn"><img src="'+this.multimediaOnImage+'"/><p class="title">'+a+"</p></div>");this.stage.prepend(this.mulEditorSoundBtn);this.mulEditorSoundBtn.bind(_event._end,this.onChangeMultimediaSound.bind(this))}},hasCurrentMusic:function(){var a,b=null==(a=window.mulEditorInfo)?void 0:a.pageHasMusic;return b&&"function"===
typeof b?(a=BookInfo.getCurrentPages(),b(a)):!1},onChangeMultimediaSound:function(){var a=this.getMultimediaSoundPlayState();if(!this.hasCurrentMusic()){var b="\u5f53\u524d\u5b58\u5728\u65e0\u97f3\u4e50\u7684\u9875\u9762\uff0c\u5f00\u542f\u97f3\u4e50\u540e\uff0c\u4ec5\u5728\u6709\u97f3\u4e50\u7684\u9875\u9762\u64ad\u653e\u3002",c="\u5173\u95ed\u97f3\u4e50\u540e\uff0c\u6709\u97f3\u4e50\u7684\u9875\u9762\u5c06\u4e0d\u518d\u64ad\u653e\u3002";"Chinese"!==UserGroups&&(b="There are pages without music currently. Once music is enabled, it will only play on pages with music.",
c="After music is disabled, pages with music will no longer play.");b=a?getLanguage("settingMultimediaSoundPauseTips",c):getLanguage("settingMultimediaSoundPlayTips",b);c=new TipsBox({opacity:1,duration:3E3},$("body"));c.background.css({"z-index":9999,background:"rgba(205,226,250,0.35)",left:"50%",right:"initial",transform:"translate(-50%)",padding:"10px 12px","box-shadow":"0px 6px 40px 0px rgba(3,8,26,0.1)","border-radius":"8px",width:"auto"});c.setCaption(b);c.showTipsBox()}b=a?"pause":"play";window.mulEditorInfo.handleMusic({method:b});
this.setEnabledMusic(!a);this.changeMultimediaSoundBtnCase();a="play"===b?getLanguage("multimediaSoundOn","Music on"):getLanguage("multimediaSoundOff","Music off");BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"multimedia sound",a])},changeMultimediaSoundBtnCase:function(a){"undefined"===typeof a&&(a=this.getMultimediaSoundPlayState());var b=a?this.multimediaOnImage:this.multimediaOffImage;a=a?getLanguage("multimediaSoundOn","Music on"):getLanguage("multimediaSoundOff","Music off");
this.mulEditorSoundBtn.find("img").attr("src",b);this.mulEditorSoundBtn.find(".title").html(a)},hideMultimediaSoundBtn:function(){this.mulEditorSoundBtn&&this.mulEditorSoundBtn.hide()},initEvent:function(a){this.flipSoundBtn.bind(_event._end,function(){global.flipSoundIsPlaying=!global.flipSoundIsPlaying;this.changeFlipSoundBtnCase()}.bind(this));this.backgroundSoundBtn.bind(_event._end,function(){window.bgSound&&bgSound.playOrPause();this.changeBackgroundBtnCase()}.bind(this))},changeFlipSoundBtnCase:function(){global.flipSoundIsPlaying?
(this.flipSoundBtn.find("img").attr("src",this.flipSoundOnImage),this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundon","Open Flip Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"flip sound",getLanguage("tmpl_Flipsoundon","Open Flip Sound")]),playFlipSound()):(this.flipSoundBtn.find("img").attr("src",this.flipSoundOffImage),this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundoff","Close Flip Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),
"flip sound",getLanguage("tmpl_Flipsoundoff","Close Flip Sound")]));this.changeBackgroundSoundButtonState()},changeBackgroundBtnCase:function(){!0!==isPlaying?(this.backgroundSoundBtn.find("img").attr("src",this.backSoundOffImage),this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"background sound",getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")])):(this.backgroundSoundBtn.find("img").attr("src",
this.backSoundOnImage),this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundon","Open Background Sound")),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"background sound",getLanguage("tmpl_Backgoundsoundon","Open Background Sound")]))},changeBackgroundSoundButtonState:function(){isPlaying||global.flipSoundIsPlaying?StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(a){a.setAsSoundOn();a.executeCallback()}):StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(a){a.setAsSoundOff();
a.executeCallback()})},onShow:function(){},changeLanguage:function(){global.flipSoundIsPlaying?this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundon","Open Flip Sound")):this.flipSoundBtn.find(".title").html(getLanguage("tmpl_Flipsoundoff","Close Flip Sound"));!0===isPlaying?this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundoff","Close Background Sound")):this.backgroundSoundBtn.find(".title").html(getLanguage("tmpl_Backgoundsoundon","Open Background Sound"));
this.getMultimediaSoundPlayState()?this.mulEditorSoundBtn&&this.mulEditorSoundBtn.find(".title").html(getLanguage("multimediaSoundOn","Multimedia sound on")):this.mulEditorSoundBtn&&this.mulEditorSoundBtn.find(".title").html(getLanguage("multimediaSoundOff","Multimedia sound off"))},reset:function(){this.resetMultimediaSound()},hasMulmedia:function(){var a;return null==(a=window.mulEditorInfo)?void 0:a.hasMusic},getMultimediaSoundPlayState:function(){return this.enabledMusic},setEnabledMusic:function(a){this.enabledMusic=
a;window.mulEditorInfo.enabledMusic=a},resetMultimediaSound:function(){this.hasMulmedia()?this.mulEditorSoundBtn?this.changeMultimediaSoundBtnCase():this.renderMultimediaSound():this.mulEditorSoundBtn&&this.mulEditorSoundBtn.remove()}}).extend(FadeOutFadeForm);
Class("AutoFlip",{create:function(){this.duration=bookConfig.autoPlayDuration;this.loopCount=bookConfig.autoPlayLoopCount;this.loopNumber=0;bookConfig.autoPlayAutoStart&&bookConfig.AutoPlayButtonVisible&&this.start.delay(this,300)},isPlaying:function(){return this.interval?this.interval.isRunning():!1},start:function(){this.isPlaying()||(this.interval?this.interval.start():this.interval=this.flipPage.interval(this,1E3*this.duration),StateSynchronous.instance().findButtons("AutoPlayButton",!0).each(function(a){a.setAsStop();
a.executeCallback()}))},stop:function(){this.isPlaying()&&(this.interval&&this.interval.stop(),this.loopNumber=0,StateSynchronous.instance().findButtons("AutoPlayButton",!0).each(function(a){a.setAsStart();a.executeCallback()}))},flipPage:function(){var a=bookConfig.totalPageCount;bookConfig.SingleModeBanFlipToLastPage&&bookType==BookType.single_book&&(a=Math.max(1,bookConfig.totalPageCount-1));-1<BookInfo.getCurrentPages().indexOf(a)?(this.loopNumber++,-1==this.loopCount||this.loopCount>=this.loopNumber?
firstPageFun("auto flip"):this.stop()):nextPageFun("auto flip")}});
var SliderShowAd=Class({create:function(a,b){this.parent=a;this.slides=b.data;this.interval=b.interval||3E3;this.timer=null;this.index=0;this.adPosition=parseInt(_get(b,"adPosition",1));this.imgWidth=parseInt(_get(b,"width",60));this.imgHeight=parseInt(_get(b,"height",60));this.closeBtn=$("<div style='width:20px;height:20px;line-height:20px;position:absolute;right:0px;top:-20px;text-align:center;cursor:pointer'></div>");3==this.adPosition?(this.tableBox=$("<div style='width:100%;height:100%;'></div>"),
this.closeBtn.css({right:"0px",top:"22px"})):this.tableBox=$("<table style='margin:0 auto;z-index:1002;border-collapse:collapse;border-spacing:0px;'></table>");this.closeUrl=uiBaseURL+"ad_close.png";this.closeIcon=$("<img style='width:20px;height:20px;' src='"+this.closeUrl+"'></img>");this.closeBtn.append(this.closeIcon);this.closeBtn.bind("click",this.hide.bind(this));(isPhone()||isPad())&&3==this.adPosition?this.parent.append(this.closeBtn):window.staticAd.bgColor?this.parent.append(this.closeBtn):
(this.tableBox.css("position","relative"),this.tableBox.append(this.closeBtn));this.parent.append(this.tableBox);this.initSwiperHtml();this.setSwiperInterval(b)},initSwiperHtml:function(){for(var a=0;a<this.slides.length;a++){this.swiper=this.slides[a].url?$("<a class='swiper' href="+this.getCorrectUrl(this.slides[a].url)+" target=\"view_window\" style='display:block;'></a>"):$("<a style='display:block;'></a>");this.swiperImg=$("<img class='swiperImg' style='vertical-align: middle'></img>");this.swiperImg.attr("src",
this.slides[a].src);switch(this.adPosition){case 1:case 2:this.swiperImg.css({margin:"0 auto",width:"auto",height:"60px"});break;case 3:this.swiper.css({width:"100%",height:"100%"}),this.swiperImg.css({width:"100%",height:"100%","object-fit":"contain"})}this.swiper.append(this.swiperImg);0<a&&this.swiper.hide();this.tableBox.append(this.swiper);this.swiperImg.on("load",function(){this.naturalWidth/this.naturalHeight>=windowWidth/this.imgHeight&&$(this).css({width:"100%",height:"auto"})})}},getCorrectUrl:function(a){return getRealURL(a)},
setSwiperInterval:function(){this.timer=setInterval(function(){this.index++;this.index=this.index==this.slides.length?0:this.index;this.tableBox.find("a").eq(this.index).show().siblings("a").hide()}.bind(this),this.interval)},hide:function(){this.parent.animate({bottom:-85},1E3,function(){this.destroy()}.bind(this))},destroy:function(){this.parent.remove();this.timer=null}}),PhoneSliderShow=Class({create:function(a,b){this.parent=a;this.slides=b.data;this.timer=null;this.index=0;this.tableBox=$("<table style='margin:0 auto;'></table>");
this.closeBtn=$("<div style='width:40px;height:20px;line-height:20px;position:absolute;right:0px;top:-20px;background:#7A7A7C;color:#fff;text-align:center;font-size:12px;'>\u5173\u95ed</div>");this.closeBtn.bind("click",this.hide.bind(this));this.parent.append(this.closeBtn);this.parent.append(this.tableBox);this.initSwiperHtml();this.setSwiperInterval(b)},initSwiperHtml:function(){for(var a=0;a<this.slides.length;a++)this.swiper=this.slides[a].url?$("<a class='swiper' href="+this.getCorrectUrl(this.slides[a].url)+
" target=\"view_window\" style='height:60px;margin:0 auto;display:block;'></a>"):$("<a style='height:60px;margin:0 auto;display:block;'></a>"),this.swiperImg=$("<img class='swiperImg' style='width:auto;height:60px;margin:0 auto;'></img>"),this.swiperImg.attr("src",this.slides[a].src),this.swiper.append(this.swiperImg),this.tableBox.append(this.swiper)},getCorrectUrl:function(a){return getRealURL(a)},setSwiperInterval:function(a){this.timer=setInterval(function(){this.index++;this.index=this.index==
this.slides.length?0:this.index;this.tableBox.find("a").eq(this.index).show().siblings("a").hide()}.bind(this),a.interval)},hide:function(){this.parent.animate({bottom:-85},1E3,function(){this.destroy()}.bind(this))},destroy:function(){this.parent.remove();this.timer=null}});
Class("MediaBuffer",{contentType:"",type:"",$media:null,currentBytes:-1,url:"",fileSize:0,hasPlayed:!1,endedCallback:null,create:function(a,b,c){c=void 0===c?!1:c;try{this.url=a,this.type=b,"undefined"!==typeof MediaSource&&MediaSource.isTypeSupported("audio/mpeg")&&"file:"!=location.protocol&&0>this.url.indexOf("ogg")&&!c?(this.initMedia(),this.init()):this.requestFullData()}catch(d){}},initMedia:function(){this.type&&(this.mediaSource=new MediaSource,this.$media=document.createElement(this.type),
this.$media.src=URL.createObjectURL(this.mediaSource))},init:function(){if(this.url){var a=new XMLHttpRequest;a.open("HEAD",this.url,!0);a.onreadystatechange=function(){if(4===a.readyState&&(200===a.status||304===a.status))try{(this.fileSize=a.getResponseHeader("Content-Length"))?(this.setMediaContentType(a.getResponseHeader("Content-Type")),this.setMediaType(),this.initMedia(),this.initMediaSource()):this.requestFullData()}catch(b){}}.bind(this);a.send()}},setMediaContentType:function(a){this.contentType=
a=a.toLowerCase();0<=a.indexOf("mp3")&&(this.contentType="audio/mpeg");0<=a.indexOf("wav")&&(this.contentType="audio/wav");0<=a.indexOf("mp4")&&(this.contentType="video/mp4");0<=a.indexOf("webm")&&(this.contentType="video/webm")},setMediaType:function(){0<=this.contentType.indexOf("audio")&&(this.type="audio");0<=this.contentType.indexOf("video")&&(this.type="video")},initMediaSource:function(){this.mediaSource.addEventListener("sourceopen",function(){this.sourceBuffer=this.mediaSource.addSourceBuffer(this.contentType);
this.preloadData();this.initEvent()}.bind(this))},preloadData:function(){var a=this.currentBytes+1,b=999999;this.fileSize-1-a<=1.5*b&&(b=this.fileSize-1-a);this.requestDataByRange(a,Math.min(a+b,this.fileSize-1))},initEvent:function(){this.$media.addEventListener("timeupdate",function(){this.requesting||.8<=this.getPlaybackProgress()&&this.preloadData()}.bind(this));this.sourceBuffer.addEventListener("updateend",function(){this.requesting=!1;this.currentBytes==this.fileSize-1&&(this.mediaSource.endOfStream(),
$(this.$media).bind("ended",function(){this.endedCallback&&this.endedCallback()}.bind(this)))}.bind(this))},requestDataByRange:function(a,b){if(!(isNaN(a)||isNaN(b)||a<=this.currentBytes||b<=this.currentBytes||a>=this.fileSize||b>=this.fileSize||b<a)){this.requesting=!0;var c=new XMLHttpRequest;c.open("GET",this.url,!0);c.setRequestHeader("Range","bytes="+a+"-"+b);c.responseType="arraybuffer";c.onload=function(d){if(206===c.status||200===c.status)this.sourceBuffer.appendBuffer(c.response),this.currentBytes=
b}.bind(this);c.send()}},requestFullData:function(){this.$media=document.createElement(this.type);this.$media.src=this.url;$(this.$media).bind("ended",function(){this.endedCallback&&this.endedCallback()}.bind(this))},getPlaybackProgress:function(){if(0<this.sourceBuffer.buffered.length){var a=this.sourceBuffer.buffered.end(0);return this.$media.currentTime/a}return 0},play:function(a){var b=this,c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress)return d.setCatchFinallyBlocks(2),
d.yield(b.$media.play(),4);if(2!=d.nextAddress)return a&&a(!0),d.leaveTryBlock(0);c=d.enterCatchBlock();a&&a(!1);console.log("bgSound",c);d.jumpToEnd()})},pause:function(a){try{this.$media.pause(),a&&a()}catch(b){}},getPaused:function(){return this.$media.paused},setVolume:function(a){try{this.$media.volume=a}catch(b){}},setId:function(a){try{this.$media.setAttribute("id",a)}catch(b){}},setCurrentTime:function(a){if(!isNaN(a))try{a=Math.min(this.sourceBuffer.buffered.end(0),a),a=Math.max(0,a),this.$media.currentTime=
a}catch(b){}},bind:function(a,b){switch(a){case "play":return this.play(b),this;case "pause":return this.pause(b),this;case "ended":return b&&(this.endedCallback=b),this}},unbind:function(a){switch(a){case "play":return $(this.$media).unbind("play"),this;case "pause":return $(this.$media).unbind("pause"),this;case "ended":return $(this.$media).unbind("ended"),this}},remove:function(){$(this.$media).remove();return this}});var isPlaying;
Class("BackgroundSound",{create:function(){isPlaying=!1;this.currentIndex=0;this.urlList=[];this.audioList=[];this.initResource();this.initAudioList();this.initEvent();this.play()},initResource:function(){var a=bookConfig.BackgroundSoundURL;a&&("string"==typeof a?this.urlList.push(a):this.urlList=a)},resetResource:function(){this.destroyAudio();this.urlList=[];this.audioList=[];this.initResource();this.initAudioList();this.initEvent();this.play()},destroyAudio:function(){for(var a=0;a<this.audioList.length;a++){var b=
this.audioList[a];b.pause();b.unbind("play").unbind("ended");b.remove()}},initAudioList:function(){for(var a=this.urlList.length,b=0;b<a;b++){var c=this.urlList[b];c&&"string"==typeof c&&(0==b?(c=new MediaBuffer(this.urlList[b],"audio",!0),c.setId("BGSound"),$("body").append(c.$media)):c=new MediaBuffer(this.urlList[b],"audio"),isNaN(bookConfig.bgSoundVol)||c.setVolume(bookConfig.bgSoundVol/100),c.index=b,c.bind("play",function(d){unbindSoundEvent();this.hasPlayed=!0}.bind(c)),this.audioList.push(c))}},
initEvent:function(){for(var a=this,b=bookConfig.BackgroundSoundLoop,c=this.audioList.length,d=0;d<c;d++){var e=this.audioList[d],f=this.getNextAudio(d+1);d==c-1&&-1!=b?this.setLoopAudio(e,f):e.bind("ended",function(){this.pause();a.playNextAudio(this.index)}.bind(e))}},setLoopAudio:function(a,b){this.index=0;var c=bookConfig.BackgroundSoundLoop;a.bind("ended",function(d){this.index<c?(a.pause(),this.playNextAudio(this.index)):(this.pause(),global.settingBody&&global.settingBody.changeBackgroundBtnCase());
this.index++}.bind(this))},playNextAudio:function(a){if(a=this.getNextAudio(a))this.currentIndex=a.index,a.play()},pauseCurrentAudio:function(){var a=this,b=this.getCurrentAudio();b&&b.pause(function(){a.changeBackgroundSoundButtonState(!1)})},playCurrentAudio:function(){var a=this,b=this.getCurrentAudio();b&&b.play(function(c){a.changeBackgroundSoundButtonState(c)})},getCurrentAudio:function(){return this.audioList[this.currentIndex]},getNextAudio:function(a){return this.audioList[(a+1)%this.audioList.length]},
play:function(){try{var a=this.getCurrentAudio();if(!a||isPlaying&&!a.getPaused())return;window.playBackgroundSound&&a.play()}catch(b){}isPlaying=!0;this.changeBackgroundSoundButtonState(!0)},pause:function(){isPlaying=!1;try{var a=this.getCurrentAudio();if(!a)return;a.pause()}catch(b){}this.changeBackgroundSoundButtonState(!1)},playOrPause:function(){1==isPlaying?this.pause():this.play()},changeBackgroundSoundButtonState:function(a){isPlaying||flipSoundIsPlaying?(StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(b){b.setAsSoundOn();
b.executeCallback()}),StateSynchronous.instance().findButtons("PhoneBackgroundSoundButton").each(function(b){b.setAsSoundOn();b.executeCallback()})):(StateSynchronous.instance().findButtons("BackgroundSoundButton").each(function(b){b.setAsSoundOff();b.executeCallback()}),StateSynchronous.instance().findButtons("PhoneBackgroundSoundButton").each(function(b){b.setAsSoundOff();b.executeCallback()}));global.settingBody&&global.settingBody.changeBackgroundBtnCase(a)},setVolume:function(a){for(var b=this.audioList.length,
c=0;c<b;c++)this.audioList[c].setVolume(a)},inAudioList:function(a){for(var b=this.audioList.length,c=0;c<b;c++)if(a==this.audioList[c])return!0;return!1},prepareAudios:function(){for(var a=this.audioList.length,b=0;b<a;b++){var c=this.audioList[b];if(c.getPaused()&&!c.hasPlayed)try{c.play(),c.pause()}catch(d){}}}});
var buttonType={caption_button:0,icon_button:1,double_button:2},buttonAlign={icon_left:0,icon_top:1,icon_right:2,icon_bottom:3},button=Class({create:function(a,b){this.caption=b.caption?b.caption:"";this.iconURL=b.iconURL?b.iconURL:"";this.mainColor=b.mainColor?b.mainColor:"";this.width=b.width?b.width:40;this.height=b.height?b.height:40;this.needResize=b.needResize?b.needResize:!1;this.asImgButton=b.asImgButton?b.asImgButton:!1;this.buttonType=b.buttonType?b.buttonType:1;this.config=b;this.father=
a;this.background=$("<div style = 'position:absolute;'></div>");this.iconBox=$("<img style = 'position:absolute'></img>");$(a).append(this.background);$(this.background).asButton();this.background.css({position:"absolute",width:this.width+"px",height:this.height+"px","-webkit-border-radius":"2px","-moz-border-radius":"2px","border-radius":"2px",cursor:"pointer"});void 0!=this.config.mainColor&&(this.mainColor=this.config.mainColor,this.background.css({"background-color":this.config.mainColor}));this.buttonType!=
buttonType.icon_button&&(this.caption=this.config.caption,this.captionBox=new label(this.caption,this.background),this.setPosition());this.buttonType!=buttonType.caption_button&&(this.iconBox.attr("src",this.iconURL),this.asImgButton&&$(this.iconBox).asImageButton(),$(this.background).append(this.iconBox),this.iconBox.on("load",function(){this.setPosition()}.bind(this)))},setPosition:function(){if(this.buttonType==buttonType.double_button){var a=this.captionBox.getWidth(),b=this.captionBox.getHeight(),
c=this.iconBox.width(),d=this.iconBox.height();switch(this.config.align){case buttonAlign.icon_left:this.width=a+c+12;this.height=Math.max(d,b)+6;$(this.iconBox).css({top:(this.height-d)/2+"px",left:"4px"});this.captionBox.setLabelPosition((this.height-b)/2,4,["top","right"]);break;case buttonAlign.icon_top:this.width=Math.max(c,a)+6;this.height=b+d+8;this.iconBox.css({top:"2px",left:(this.width-c)/2+"px"});this.captionBox.setLabelPosition((this.width-a)/2,2,["left","bottom"]);break;case buttonAlign.icon_right:this.width=
a+c+12;this.height=Math.max(d,b)+6;$(this.iconBox).css({top:(this.height-d)/2+"px",right:"4px"});this.captionBox.setLabelPosition((this.height-b)/2,4,["top","left"]);break;case buttonAlign.icon_bottom:this.width=Math.max(c,a)+6,this.height=b+d+8,$(this.iconBox).css({bottom:"2px",left:(this.width-c)/2+"px"}),this.captionBox.setLabelPosition(2,(this.width-a)/2,["top","left"])}}else if(this.buttonType==buttonType.caption_button)this.width=this.captionBox.getWidth()+10,this.height=this.captionBox.getHeight()+
10,this.captionBox.setLabelPosition(5,2);else if(this.buttonType==buttonType.icon_button)this.iconBox.on("load",function(){this.width=$(this.iconBox).width();this.height=$(this.iconBox).height()}.bind(this));$(this.background).css({width:this.width,height:this.height+"px"})},resize:function(a,b){this.onResize(a,b)},onResize:function(a,b){this.width=a;this.height=b;$(this.background).css({width:a+"px",height:b+"px"})},getWidth:function(){return this.width},getHeight:function(){return this.height},
setCSS:function(a){$(this.background).css(a)},setButtonPosition:function(a,b,c){void 0==c&&(c=["left","top"]);this.background.css(c[0],a+"px");this.background.css(c[1],b+"px")},setVisible:function(a){$(this.background).css({display:a?"block":"none"})},changeIcon:function(a){this.iconURL=a;$(this.iconBox).attr("src",this.iconURL);1==this.iconBox[0].colorChanged&&(this.iconBox[0].colorChanged=!1);this.setPosition()},changeCaption:function(a){this.captionBox.setCaption(a);this.setPosition()},getCaptionWidth:function(a){return this.captionBox.getWidth()},
setIconPosition:function(a,b){this.iconBox.css({left:a+"px",top:b+"px"})},setColor:function(a,b){this.mainColor=a;$(this.iconBox).changeButtonColor(a);this.buttonType!=buttonType.icon_button&&(this.captionBox.setFont("12px",b?b:a,"Tahoma"),$(this.background).css({"text-shadow":"1px 1px #666666"}))},onMouseDown:function(a,b){this.background.bind(_event._down,function(c){b.call(a,c);return!1})},onMouseUp:function(a,b){_agent_.browser.msie?this.background.bind("click",function(c){b.call(a,c);return!1}):
this.background.bind(_event._end,function(c){b.call(a);return!1})},onMouseOver:function(a,b){this.background.bind(_event._move,function(c){b.call(a);return!1})},mouseEnterShine:function(a,b){this.background.mouseEnterShine(a,b)},mouseEnterJump:function(){this.background.mouseEnterJump()},mouseEnterLight:function(a){this.background.css({"border-radius":"5px"});this.background.bind(_event._enter,function(b){$(this).css({background:a})});this.background.bind(_event._leave,function(b){$(this).css({background:""})})},
onMouseOut:function(a,b){},onMouseLeave:function(a,b){},onMouseMove:function(a,b){},remove:function(){this.background.remove()}});
eval(function(a,b,c,d,e,f){e=function(g){return(62>g?"":e(parseInt(g/62)))+(35<(g%=62)?String.fromCharCode(g+29):g.toString(36))};if(0=="0".replace(0,e)){for(;c--;)f[e(c)]=d[c];d=[function(g){return f[g]||g}];e=function(){return"([2-46-9b-su-wA-Z]|1\\w)"};c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}("6 2;6 initDemoBar=b(){q(B.indexOf(\"C.D\")==-1){B+=\"C.D\"}q(!4.j||!4.j.E()||!4.c||!4.c.E())$(\"r\").F(\"\");6 s=4.c;2=$(\"<k></k>\");2.3({u:'305px',l:'70px',m:'n','background-G':'#cccccc','H':0.5,'z-I':J,'-moz-v-w':'o','-webkit-v-w':'o','v-w':'o'});6 d=$(\"<K />\");d.3({m:'n',e:'L',f:'o',\"M-u\":\"53px\",\"M-l\":\"N\"});6 g=$(\"<k></k>\");g.3({m:'n',e:'13px',f:'65px'});6 demoLogo=$(\"<K 7='l:N;O:L;' P='\"+Q+\"R.S'/>\");6 h=$(\"<T>\"+4.j+\"</T>\");6 8=$(\"<a U='\"+s+\"' target='_blank'>\"+s+\"</a>\");8.3({m:'n',e:'25px',f:'0px'});h.3({'font-size':'15px',G:'#333333'});$(\"r\").i(2);2.i(g);g.i(h);bdor[18]=\"t\";g.i(8);$.fn.extend(2,{V:b(){2.3({e:0,f:0,W:0,X:0,O:\"auto\"})},Y:b(){d.on(\"load\",b(){2.i(d)});d.Z({P:Q+'R.S'})}});2.Y();2.V();window.setInterval(b(){q(!2||2.3(\"display\")==\"none\"||2.3(\"visibility\")==\"p\"||2.A(':p')||!2.parent()[0]||10(2.3(\"H\"))<=0||10(2.3(\"z-I\"))<J||9(2[0].7.f)!=0||9(2[0].7.e)!=0||9(2[0].7.X)!=0||9(2[0].7.W)!=0||11(2[0]).x!=0||11(2[0]).y!=0||9(2[0].7.u)!=305||9(2[0].7.l)!=70||h.A(':p')||8.A(':p')||h.12()!=4.j||8.12()!=4.c||8.Z(\"U\")!=4.c)$(\"r\").F(\"\")},500)};",[],
65,"  demoBar css bookConfig  var style demoLink parseInt  function homePage demoImg top left demoContent demo append productName div height position absolute 5px hidden if body _link  width border radius    is BUILD_DATE 932217 6406725519N trim html color opacity index 1000 img 10px max 50px margin src uiBaseURL logo png span href setDemoPosition bottom right loadImg attr parseFloat getTransform text".split(" "),0,{}));bdor[66]="ipht";
var FlipShotButton=Class({visible:!0,create:function(a){this.parent=a;this.init();this.initEvents()},init:function(){var a=this.getImageUrl("slide_firstButton"),b=this.getImageUrl("slide_lastButton");this.leftBotton=$("<div aria-label='"+getLanguage("ariaPreviousPage","previous page")+"' tabindex='0' role='button' class='flip_button_left button'></div>");this.rightBotton=$("<div aria-label='"+getLanguage("ariaNextPage","next page")+"' tabindex='0' role='button' class='flip_button_right button'></div>");
this.firstButton=$("<div aria-label='"+getLanguage("ariaFirstPage","first page")+"' tabindex='0' role='button' class='flip_button_first button'><img width='40px' height='40px' alt='firstButton' src='"+a+"'/>");this.lastButton=$("<div aria-label='"+getLanguage("ariaLastPage","last page")+"' tabindex='0' role='button' class='flip_button_last button'><img width='40px' height='40px' alt='lastButton' src='"+b+"'/></div>");var c=this;a=this.getImageUrl("previous_normal");$("<img src='"+a+"'/>")[0].onload=
function(){c.width=this.naturalWidth;c.height=this.naturalHeight;c.onResize();c.parent.append(c.leftBotton);c.parent.append(c.rightBotton);bookConfig.isFirstLastShortcutVisible&&(c.parent.append(c.firstButton),c.parent.append(c.lastButton))};this.setButtonIcon()},setButtonIcon:function(){var a=this,b,c,d,e,f,g,h,l,m;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress)return b=a.hasColorConfiguration(),c=function(n,p){var q,r,t,u;return $jscomp.asyncExecutePromiseGeneratorProgram(function(x){if(1==
x.nextAddress){if(!b)return x.return(a.getImageUrl(a.getImageMap()[n][p]));q=a.getColorConfiguration(p);r=q.color;t=q.bgColor;u=global.templeteName;return x.yield(a.processImageWithTemplate(n,p,r,t,u),2)}return x.return(x.yieldResult)})},d=$jscomp,e=d.makeIterator,k.yield(Promise.all([c("left","normal"),c("right","normal"),c("left","down"),c("right","down")]),2);f=e.call(d,k.yieldResult);g=f.next().value;h=f.next().value;l=f.next().value;m=f.next().value;a.createButtonIcons(g,h,l,m);k.jumpToEnd()})},
hasColorConfiguration:function(){return bookConfig.flipShortcutButtonColor||bookConfig.flipShortcutButtonBackgroundColor||bookConfig.flipShortcutButtonHoverColor||bookConfig.flipShortcutButtonHoverBackgroundColor},getColorConfiguration:function(a){return{color:"down"===a?bookConfig.flipShortcutButtonHoverColor:bookConfig.flipShortcutButtonColor,bgColor:"down"===a?bookConfig.flipShortcutButtonHoverBackgroundColor:bookConfig.flipShortcutButtonBackgroundColor}},getImageMap:function(){return{left:{normal:"previous_normal",
down:"previous_normal_down"},right:{normal:"next_normal",down:"next_normal_down"}}},getTemplateConfig:function(){return{bgTemplate:["classical"],downTemplate:["courts","gorgeous","handy","metro","neat"]}},processImageWithTemplate:function(a,b,c,d,e){var f=this,g,h,l,m,k,n,p,q,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){switch(t.nextAddress){case 1:g=f.getImageMap();h=f.getTemplateConfig();l=h.bgTemplate;m=h.downTemplate;if(!e||!l.includes(e)){t.jumpTo(2);break}k=f.getImageUrl(g[a].normal);
return t.yield(changeBase64ImageColorPixel(k,c,d),3);case 3:return t.return(t.yieldResult);case 2:if(!e||!m.includes(e)){t.jumpTo(4);break}n=f.getImageUrl(g[a].normal);if("down"!==b){t.jumpTo(5);break}if(!d&&!c){p=f.getImageUrl(g[a][b]);t.jumpTo(6);break}return t.yield(changeBase64ImageColorPixel(n,c,d),7);case 7:p=t.yieldResult;case 6:return t.return(p);case 5:if(!c){q=n;t.jumpTo(8);break}return t.yield(changeBase64ImageColor(n,c,d),9);case 9:q=t.yieldResult;case 8:return t.return(q);case 4:return r=
f.getImageUrl(g[a][b]),t.yield(changeBase64ImageColor(r,c,d),10);case 10:return t.return(t.yieldResult)}})},createButtonIcons:function(a,b,c,d){a=$('<img width="auto" height="auto" alt="leftButton" src="'+a+'" />');b=$('<img width="auto" height="auto" alt="rightButton" src="'+b+'" />');this.leftBotton.append(a);this.rightBotton.append(b);a.asImageButton(c);b.asImageButton(d);this.leftBotton.enableEnterClick();this.rightBotton.enableEnterClick();this.firstButton.enableEnterClick();this.lastButton.enableEnterClick()},
getImageUrl:function(a){return window.toolbar_icons&&toolbar_icons[a]?"data:image/png;base64,"+toolbar_icons[a]:uiBaseURL+a+".png"},onResize:function(){this.left=toolBar.getLeftWidth();this.right=toolBar.getRightWidth();var a=BookInfo.top();1==BookInfo.getCurrentPageIndex()&&BookInfo.isDoublePage()&&bookConfig.retainBookCenter&&bookConfig.FlipDirection&&"slide"!=bookConfig.FlipStyle.toLowerCase()&&(a+=BookInfo.height()/4);this.top=(BookInfo.height()-this.height)/2+a;this.minLeft=Math.max(this.left,
10);this.minRight=Math.max(this.right,10);this.minBottom=windowHeight-a-BookInfo.height();a=$(".tableofcontent_form").outerWidth(!0);var b=this.minLeft+(global.frmTableOfContent&&global.frmTableOfContent.visible&&global.frmTableOfContent.nailUpStatus?a+10:0);this.leftBotton.css({left:this.left+(global.frmTableOfContent&&global.frmTableOfContent.visible&&global.frmTableOfContent.nailUpStatus?a+10:0),top:this.top});this.firstButton.css({left:b,bottom:this.minBottom});this.rightBotton.css({right:this.right,
top:this.top});this.lastButton.css({right:this.minRight,bottom:this.minBottom});this.showFirstOrLast()},animate:function(){var a=this.minLeft+(global.frmTableOfContent&&global.frmTableOfContent.visible&&global.frmTableOfContent.nailUpStatus?tocWidth+10:0);this.leftBotton.animate({left:this.left+(global.frmTableOfContent&&global.frmTableOfContent.visible&&global.frmTableOfContent.nailUpStatus?tocWidth+10:0)},500);this.firstButton.animate({left:a},500);this.rightBotton.animate({right:this.right},500);
this.lastButton.animate({right:this.minRight},500)},show:function(){this.leftBotton.show();this.firstButton.show();this.rightBotton.show();this.lastButton.show()},hide:function(){this.leftBotton.hide();this.firstButton.hide();this.rightBotton.hide();this.lastButton.hide()},initEvents:function(){this.leftBotton.bind(_event._click,function(){rightToLeft?nextPageFun("flip shot bar"):previousPageFun("flip shot bar");return!1});this.firstButton.bind(_event._click,function(){rightToLeft?lastPageFun("flip shot bar"):
firstPageFun("flip shot bar");return!1});this.rightBotton.bind(_event._click,function(){rightToLeft?previousPageFun("flip shot bar"):nextPageFun("flip shot bar");return!1});this.lastButton.bind(_event._click,function(){rightToLeft?firstPageFun("flip shot bar"):lastPageFun("flip shot bar");return!1});this.firstButton.bind(_event._enter,function(){$(this).css({opacity:"1",background:"rgba(0,0,0,0.2)"});$(this).scale(1)});this.firstButton.bind(_event._leave,function(){$(this).css({opacity:"1",background:"none"});
$(this).css({opacity:"0.2"});$(this).scale(1)});this.firstButton.bind(_event._end,function(){$(this).css({opacity:"1",background:"none"});$(this).css({opacity:"0.2"});$(this).scale(1)});this.lastButton.bind(_event._enter,function(){$(this).css({opacity:"1",background:"rgba(0,0,0,0.2)"});$(this).css({opacity:"1"});$(this).scale(1)});this.lastButton.bind(_event._leave,function(){$(this).css({opacity:"1",background:"none"});$(this).css({opacity:"0.2"});$(this).scale(1)});this.lastButton.bind(_event._end,
function(){$(this).css({opacity:"1",background:"none"});$(this).css({opacity:"0.2"});$(this).scale(1)})},showFirstOrLast:function(){if(bookConfig.flipshortcutbutton&&!NeatStyle.isNeat()){var a=-1<BookInfo.getCurrentPages().indexOf(bookConfig.totalPageCount);if(bookConfig.RightToLeft){if(1==BookInfo.getCurrentPageIndex()){this.leftBotton.fadeIn(200);this.firstButton.fadeIn(200);this.rightBotton.hide();this.lastButton.hide();return}if(a){this.leftBotton.hide();this.firstButton.hide();this.rightBotton.fadeIn(200);
this.lastButton.fadeIn(200);return}}else{if(1==BookInfo.getCurrentPageIndex()){this.leftBotton.hide();this.firstButton.hide();this.rightBotton.fadeIn(200);this.lastButton.fadeIn(200);return}if(a){this.leftBotton.fadeIn(200);this.firstButton.fadeIn(200);this.lastButton.hide();this.rightBotton.hide();return}}this.leftBotton.fadeIn(200);this.firstButton.fadeIn(200);this.rightBotton.fadeIn(200);this.lastButton.fadeIn(200)}}});
Class("CodeBar",{create:function(a){if(this.visible=parseBool(bookConfig.QRCode)&&!isBelowIE9())this.background=$("<div class='printBar'></div>"),this.contentBox=$("<div class='printBG'></div>"),this.showing=!1,this.width=windowWidth,this.height=windowHeight,this.contentWidth=Math.min(windowWidth-60,windowHeight-60,310)+20,this.contentHeight=Math.min(windowWidth-60,windowHeight-60,310)+20+40,this.mainColor="#888888",this.background.css({height:this.height+"px",bottom:"0px"}),this.contentBox.css({height:this.contentHeight+
"px",width:this.contentWidth+"px",left:(this.width-this.contentWidth)/2+"px"}),this.contentBox.css({top:(this.height-this.contentHeight)/2+"px"}),$(a).append(this.background),$(a).append(this.contentBox),this.titleBox=$("<div></div>"),this.titleBox.css({width:this.contentWidth-6+"px",height:"20px",left:"3px",bottom:"10px",position:"absolute","line-height":"20px"}),this.titleBox.css({"vertical-align":"middle","text-align":"center",color:"#625715","text-shadow":"1px 1px 1px #ffffff"}),this.titleBox.css({background:"#edaa1d",
"border-radius":"10px",border:"#ffffff solid 1px"}),this.titleBox.html("<b>Scan QR code</b>"),this.scanBox=$("<div></div>"),this.scanBox.css({position:"absolute","border-radius":"5px"}),this.scanBox.css({width:this.contentWidth-80+"px",height:this.contentWidth-80+"px",background:"#ffffff",border:"#edaa1d solid 10px",left:"30px",top:"30px"}),this.contentBox.append(this.scanBox),this.closeButton=$("<div></div>"),this.closeButton.css({top:"0px",right:"0px",position:"absolute"}),this.closeButton.append($("<img src='"+
uiBaseURL+"close.png'/>")),$(this.contentBox).append(this.closeButton),this.fillImage(),this.initEvent(),this.background.css({display:"none"}),this.contentBox.css({display:"none"})},onResize:function(){this.visible&&(this.width=windowWidth,this.height=windowHeight,this.contentWidth=Math.min(windowWidth-60,windowHeight-60,310)+20,this.contentHeight=Math.min(windowWidth-60,windowHeight-60,310)+20+40,this.background.css({height:this.height+"px",bottom:"0px"}),this.contentBox.css({height:this.contentHeight+
"px",width:this.contentWidth+"px",left:(this.width-this.contentWidth)/2+"px"}),this.contentBox.css({top:(this.height-this.contentHeight)/2+"px"}),this.titleBox.css({width:this.contentWidth-6+"px",height:"20px",left:"3px",bottom:"10px","line-height":"20px"}),this.scanBox.css({width:this.contentWidth-80+"px",height:this.contentWidth-80+"px",left:"30px",top:"30px"}),this.closeButton.css({top:"0px",right:"0px"}),this.scanBox.html(""),this.fillImage())},setPosition:function(a,b,c){this.visible&&(void 0==
c&&(c=["left","top"]),$(this.background).css(c[0],a+"px"),$(this.background).css(c[1],b+"px"))},getShowStatu:function(){return this.showing},setShowStatu:function(a){this.showing=a},show:function(){this.visible&&($(this.background).css({display:"block"}),$(this.contentBox).fadeIn(500),this.showing=!0)},hide:function(){this.visible&&($(this.background).fadeOut(500),$(this.contentBox).fadeOut(500),this.showing=!1)},initEvent:function(){if(this.visible){var a=this;this.background.bind(_event._down,function(b){a.hide();
a.showing=!1});this.closeButton.bind(_event._end,function(b){a.hide();a.showing=!1});this.closeButton.bind("mouseover",function(b){a.closeButton.css({cursor:"pointer"})})}},fillImage:function(){this.visible&&this.scanBox.qrcode({width:this.contentWidth-80,height:this.contentWidth-80,text:window.location.href})}});
Class("QRButton",{create:function(a){if(this.visible=parseBool(bookConfig.QRCode)&&!isBelowIE9())this.button=$("<div class='qrcodeBox'></div>"),this.$qrcodeBox=$("<div id='qrcode'></div>"),this.$boxArrow=$("<div class='boxArrow'></div>"),a.append(this.button),this.initHtml(),this.initQrcode(),this.initEvent()},initHtml:function(){var a=$("#fbToolBar").height()?$("#fbToolBar").height()+5:15;this.button.css({width:"40px",height:"40px","z-index":"1001",right:"0px",bottom:a+"px",background:"rgba(0, 0, 0, 0.3)",
position:"absolute","image-redering":"pixelated"});this.$codeIconBox=$("<div class='codeIconBox' style='width:24px;height:24px;margin:8px'></div>");this.resetIconColor();this.button.append(this.$codeIconBox)},resetIconColor:function(){var a=$('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1024 1024" version="1.1" width="24" height="24"><path d="M2.048 480.256h480.256V0H2.048v480.256z m120.32-359.936h240.128v240.128H122.368V120.32zM542.72 0v480.256h480.256V0H542.72z m360.448 360.448h-240.128V120.32h240.128v240.128zM182.272 300.544h120.32V180.224H182.272v120.32zM2.048 1020.928h480.256v-480.256H2.048v480.256zM122.368 660.48h240.128v240.64H122.368v-240.64z m720.384-480.256h-120.32v120.32h120.32V180.224zM542.72 1020.928h120.32V901.12H542.72v119.808z m119.808-360.448v240.64h120.32v-240.128h-120.32z m240.64 240.64h-120.32v120.32h240.128v-240.128h-120.32V901.12z m0-240.64h120.32v-120.32h-120.32V660.48zM542.72 540.672V660.48h120.32v-120.32H542.72z m-360.448 300.032h120.32v-120.32H182.272v120.32z" fill='+
bookConfig.iconColor+" /></svg>");this.$codeIconBox.html(a)},initQrcode:function(){var a=window.location.href.removeStartFrom("#p=");bookConfig.socialShareLink&&(a=bookConfig.socialShareLink);this.$qrcodeBox.qrcode({width:100,height:100,text:a,render:"image"});this.$qrcodeBox.css({position:"absolute",left:"-140px",bottom:"0px",border:"5px solid #000",background:"#fff",display:"none"});this.$qrcodeBox.find("img").css({padding:"10px"});this.$boxArrow.css({width:"0",height:"0","border-top":"5px solid transparent",
"border-left":"10px solid #000","border-bottom":"5px solid transparent",position:"absolute",right:"-13px",top:"100px"});this.$qrcodeBox.append(this.$boxArrow);this.button.append(this.$qrcodeBox)},resetQRButton:function(){(this.visible=parseBool(bookConfig.QRCode)&&!isBelowIE9())?this.show():this.button.hide()},show:function(){this.visible&&this.button.show()},hide:function(){this.visible&&this.button.hide()},initEvent:function(){if(this.visible){this.clicked=!1;var a=this;this.button.on("click",function(b){a.clicked=
!a.clicked;a.clicked?($(this).css({opacity:"1"}),a.$qrcodeBox.css({opacity:1,display:"block"})):($(this).css({opacity:"0.6"}),a.$qrcodeBox.fadeOut("100"))});this.$qrcodeBox.bind(_event._enter,function(b){b.stopPropagation()});this.$qrcodeBox.bind(_event._leave,function(b){b.stopPropagation()});this.button.bind("mouseenter",function(b){$(this).css({opacity:"1"});a.$qrcodeBox.fadeIn("100")});this.button.bind(_event._leave,function(b){a.clicked||($(this).css({opacity:"0.6"}),a.$qrcodeBox.fadeOut("100"),
a.drapable=!1)});this.button.bind(_event._down,function(b){b=isTouch?b.originalEvent.touches:[b];a.drapable=!0;a.mouseDownPointX=b[0].pageX;a.mouseDownPointY=b[0].pageY;a.codePositionX=$(this).offset().left;a.codePositionY=$(this).offset().top;return a.codeMove=!1});this.button.bind(_event._end,function(b){a.codeMove||(a.clicked=!a.clicked,a.clicked?($(this).css({opacity:"1"}),a.$qrcodeBox.fadeIn("100")):($(this).css({opacity:"0.6"}),a.$qrcodeBox.fadeOut("100")));return a.drapable=!1});this.button.bind(_event._move,
function(b){b=isTouch?b.originalEvent.touches:[b];if(a.drapable){var c=b[0].pageX-a.mouseDownPointX;b=b[0].pageY-a.mouseDownPointY;var d=windowWidth-a.codePositionX-c-40,e=a.codePositionY+b;$(this).css({right:d+"px",top:e+"px"});getWidth()<=d+140+40?(a.$qrcodeBox.css({left:"50px"}),a.$boxArrow.css({"border-top":"5px solid transparent","border-right":"10px solid #000","border-bottom":"5px solid transparent","border-left":"none",position:"absolute",left:"-13px",right:"auto",top:"100px"})):"-140px"!=
a.$qrcodeBox.css("left")&&(a.$qrcodeBox.css({left:"-140px"}),a.$boxArrow.css({"border-top":"5px solid transparent","border-left":"10px solid #000","border-bottom":"5px solid transparent","border-right":"none",position:"absolute",right:"-13px",left:"auto",top:"100px"}));90>=e?(a.$qrcodeBox.css({bottom:"-90px"}),a.$boxArrow.css({top:"15px"})):"0px"!=a.$qrcodeBox.css("bottom")&&(a.$qrcodeBox.css({bottom:"0px"}),a.$boxArrow.css({top:"100px"}));if(1<Math.abs(c)||1<Math.abs(b))a.codeMove=!0}return!1})}}});
var CustomMunu=Class({create:function(a){this.parent=a;this.buttons=new ObjectPool;this.container=$("<div class='customMunu'></div>");this.initButtons();this.buttons.each(function(b){b.setCallback(this.afterButtonClick.bind(this))}.bind(this));this.parent.append(this.container);this.initBtn();this.initCss();this.initEvent()},initButtons:function(){bookConfig.AnnotationButtonVisible&&(this.buttons.add(new AnnotationButton),this.annoBtn=this.buttons.find("annotation").get(0).$button);bookConfig.PrintButtonVisible&&
(this.buttons.add(new PrintButton),this.printBtn=this.buttons.find("print").get(0).$button);bookConfig.ShareButtonVisible&&(this.buttons.add(new ShareButton),this.shareBtn=this.buttons.find("share").get(0).$button);bookConfig.ZoomButtonVisible&&(this.buttons.add(new MunuZoomButton),this.zoomBtn=this.buttons.find("zoom").get(0).$button);bookConfig.FullscreenButtonVisible&&(this.buttons.add(new MunuFullscreenButton),this.fullBtn=this.buttons.find("full").get(0).$button);bookConfig.TableOfContentButtonVisible&&
(this.buttons.add(new TableOfContentButton),this.tableButton=this.buttons.find("table").get(0).$button);bookConfig.BookMarkButtonVisible&&(this.buttons.add(new BookmarkButton),this.tableButton=this.buttons.find("bookmark").get(0).$button);bookConfig.ThumbnailsButtonVisible&&(this.buttons.add(new ThumbnailButton),this.tableButton=this.buttons.find("thumbnail").get(0).$button)},afterButtonClick:function(a){a.$button.find("img").changeButtonColor("#333333");a.$caption.css({color:"#333"});a.$button.find("img").css({width:"16px",
height:"16px",float:"left",margin:"10px"});this.hide()},initBtn:function(){for(var a=0;a<this.buttons.length;a++){var b=this.buttons.objects[a],c=b.$button.find("img"),d=b.$caption;b.colorChanged=!1;c.changeButtonColor("#333333");this.setBtnCss(b.$button,c,d);this.initBtnEvent(b.$button);b.addTo(this.container)}},setBtnCss:function(a,b,c){a.removeAttr("title");a.css({opacity:"1",background:"#fff",float:"left",width:"200px",height:"36px","line-height":"36px"});b.css({width:"16px",height:"16px",float:"left",
margin:"10px"});c.css({color:"#333"})},initCss:function(){this.container.css({display:"none",position:"absolute",width:"200px","font-family":"Microsoft YaHei,Arial,Helvetica,sans-serif,SimSun;","font-size":"14px","z-index":"1000","font-color":"#333","box-shadow":"0 0 6px #333","-webkit-box-shadow":"0 0 6px #333","-o-box-shadow":"0 0 6px #333","-moz-box-shadow":"0 0 6px #333","-ms-box-shadow":"0 0 6px #333",overflow:"hidden"})},onResize:function(a,b){},initBtnEvent:function(a){a.bind("mouseenter",
function(b){b.stopPropagation();a.css({background:"#eee"})}.bind(this));a.bind("mouseleave",function(b){b.stopPropagation();a.css({background:"#fff"})}.bind(this))},initEvent:function(){this.parent.bind("click",function(a){this.hide()}.bind(this))},show:function(a){if(a&&this.buttons.objects.length){a=a.originalEvent&&a.originalEvent.changedTouches?a.originalEvent.changedTouches:a.changedTouches?a.changedTouches:[a];var b=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||
document.body.scrollTop;b=a[0].pageX||a[0].clientX+b;a=a[0].pageY||a[0].clientY+c;b>windowWidth-201&&(b=windowWidth-201);this.buttons.length&&a>windowHeight-36*this.buttons.length&&(a=windowHeight-36*this.buttons.length);this.container.css({left:b+"px",top:a+"px"});this.container.fadeIn()}},hide:function(){this.buttons.objects.length&&this.container.fadeOut()}}),ReportPanel=Class({isSended:!0,hostName:"https://fliphtml5.com",create:function(a){this.parent=a;this.visible=!1;this.color=Color(bookConfig.iconColor);
this.fontColor=Color(bookConfig.iconFontColor);this.initReportBtn();this.initReportBox();this.initSucc();this.initCss();this.initTransEvent()},initReportBtn:function(){this.reportBtn=$("<div class='report'>"+getLanguage("reportBtn","Report >")+"</div>");this.reportIcon=$("<img style='pointer-events:none;'></img>");this.iconUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABD0lEQVQ4jc2UUXHDMAyG/zAIhIxBGSwMOgYLgxVCIYTBMgZl0AzByiBh0DD49mDdVecqiR+rO905tvxF9i9ZenWr/AcQxXSSjja+SPp5glRVPvUAOu+AiWebgE8fu2pADXxloBk4m88ReAvYBxmNLpsxWD9vAZtgwx34AE7B2iXPMBJlkHSQtEgag//Wtv4u6U3S7EVZU7mxDa2Nvd0kzZJ+bVyk8i04Xm5/FKgsuy+AFhiAxUEWm+tczC5wsQzzuvReW8y9BIht2AL6itgF9qSibTdgrd1hXwIUqSumjeNOFlMkilf6OwAO+R2XAhtS716Bo/nV5g5rwL3nq5Z0UipwKXVOr9RFD8haYb+k/QOqf1jCsGrT2QAAAABJRU5ErkJggg==";
this.reportIcon.attr("src",this.iconUrl);this.reportIcon.css({position:"absolute",top:"5px",left:"10px"});this.reportIcon.changeButtonColor(this.color.toString());this.parent.append(this.reportBtn)},initReportBox:function(){this.container=$("<div class='reportContainer'></div>");this.reportBox=$("<div class='reportBox'></div>");this.content=$("<div></div>");this.closeUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAf0lEQVQ4jeWUUQrAIAxD4+7XA+Ya7oDZzxBx2iq4LwOCYvqstQgcp9SsDQAk3VPBKdk7Lf6rNZHMldGFkcyuSRIAGEkBMEnojdbjAiNoby8EOoHdg6aALSDIeg5YQ7261vq88lb9euUeYAQNgUE2a23jwZYbewY2qG/R9s/hQD1ydUfwHIkLMwAAAABJRU5ErkJggg==";
this.initTltle();this.reportBox.append(this.content);this.container.append(this.reportBox);this.parent.append(this.container);this.initLinkInput();this.initSelect();this.initContactInput();this.initTextArea();this.initButton();this.initMsgItem();this.initAlert();this.initBoxCss();this.initBoxEvent()},initAlert:function(){this.alert=$("<div></div>");this.alertBox=$("<div></div>");this.alertBg=$("<div></div>");this.alertDesc=$("<div></div>");this.alertBtn=$("<div>"+getLanguage("reportAlertBoxCloseBtn",
"Close")+"</div>");this.alertBox.append(this.alertDesc).append(this.alertBtn);this.alert.append(this.alertBox);this.container.append(this.alert)},initSucc:function(){this.succBox=$("<div>"+getLanguage("reportSuccessPrompt","Success")+"</div>");this.succBox.css({position:"absolute",color:"#fff","pointer-events":"none","z-index":"10001","border-radius":"5px",left:(windowWidth-280)/2+"px",top:(windowHeight-70)/3+"px","font-size":"20px",width:"280px",height:"70px","text-align":"center",background:"#5CB95C",
"line-height":"70px"})},initTltle:function(){this.boxTitle=$('<div><div class="box-title" >'+getLanguage("reportBtn","Report")+"</div></div>");this.close=$("<div></div>");this.boxTitle.css({height:"54px","font-size":"14px","line-height":"54px",padding:"0 28px",color:"#333"});this.close.css({position:"absolute",background:"url("+this.closeUrl+") 0 0 no-repeat",cursor:"pointer",right:"28px",top:"17px",width:"20px",height:"20px"});bookConfig.RightToLeft&&(this.close.css({left:"28px",right:"auto"}),this.boxTitle.css({"text-align":"right"}));
this.boxTitle.append(this.close);this.reportBox.append(this.boxTitle)},initLinkInput:function(){this.linkBox=$('<div  class="report-item"  ></div>');this.linkTitle=$('<div class="report-link-title" >Book Link</div>');this.linkInput=$("<input value='"+window.location.href+"' readonly ></input>");bookConfig.RightToLeft&&(this.linkBox.css({"text-align":"right"}),this.linkInput.css({"text-align":"right"}));this.linkInput.css({"box-sizing":"border-box",height:"36px",width:"100%",outline:"none","border-radius":"8px",
background:"#eee","font-size":"13px",color:"#333","padding-left":"10px","margin-top":"10px",border:"2px solid transparent"});this.linkBox.append(this.linkTitle).append(this.linkInput);this.content.append(this.linkBox)},initSelect:function(){this.selectBox=$('<div  class="report-item"  ></div>');this.selectTitle=$('<div class="report-select-title" >Infringement Types</div>');this.select=$("<select></select>");this.reportErrorType=$('<div class="report-error-msg" ></div>');this.selectIcon=$("<div></div>");
this.select.css({"box-sizing":"border-box",height:"36px",width:"100%",outline:"none","border-radius":"8px",background:"#eee","font-size":"13px",color:"#333","padding-left":"10px","margin-top":"10px",border:"2px solid transparent",cursor:"pointer",appearance:"none","-moz-appearance":"none","-webkit-appearance":"none"});this.selectIcon.css({position:"absolute",cursor:"pointer",right:"44px",top:"98px","z-index":"1","pointer-events":"none",border:"8px solid #969696","border-left":"6px solid transparent",
"border-bottom-color":"transparent","border-right":"6px solid transparent"});bookConfig.RightToLeft&&(this.selectIcon.css({left:"44px",right:"auto"}),this.select.css({direction:"rtl"}));for(var a="Religion;Customs;Race;Political parties;Government;Ruling Illegal;Crime;Rumors;Pornography".split(";"),b=0;b<a.length;b++){var c=$("<option value='"+(b+1)+"' >"+a[b]+"</option>");c.css({padding:"9px 0"});this.select.append(c)}this.selectBox.append(this.selectTitle).append(this.select).append(this.reportErrorType);
this.content.append(this.selectBox)},initContactInput:function(){this.contactBox=$('<div  class="report-item"  ></div>');this.contactTitle=$('<div class="report-contact-title" >Your Email Address</div>');this.contactInput=$("<input></input>");this.reportErrorEmail=$('<div class="report-error-msg" ></div>');bookConfig.RightToLeft&&(this.contactBox.css({"text-align":"right"}),this.contactInput.css({"text-align":"right"}));this.contactInput.css({"box-sizing":"border-box",height:"36px",width:"100%",outline:"none",
"border-radius":"8px",background:"#eee","font-size":"13px",color:"#333","padding-left":"10px","margin-top":"10px",border:"2px solid transparent"});this.contactBox.append(this.contactTitle).append(this.contactInput).append(this.reportErrorEmail);this.content.append(this.contactBox)},initTextArea:function(){this.inputBox=$('<div class="report-item" ></div>');this.inputTitle=$('<div class="report-desc-title" >Description</div>');this.reportErrorTextArea=$('<div class="report-error-msg" ></div>');this.textarea=
$('<textarea placeholder="'+getLanguage("reportTextareaPlaceholder","Please describe the reasons about why this book should be reported. If your write down nothing about the report, this request will be ignored.")+'"></textarea>');this.textarea.css({padding:"9px 15px",height:"124px",width:"100%","border-radius":"8px",background:"#eee",resize:"none",outline:"none",border:"2px solid transparent","box-sizing":"border-box","margin-top":"10px"});bookConfig.RightToLeft&&this.textarea.css({"text-align":"right"});
this.inputBox.append(this.inputTitle).append(this.textarea).append(this.reportErrorTextArea);this.content.append(this.inputBox)},initCodeInput:function(){var a=this;this.codeBox=$('<div class="report-item" ></div>');this.codeTitle=$('<div class="report-code-title" >Code</div>');this.codeCell=$("<div></div>");this.codeInput=$("<input></input>");this.reportErrorCode=$('<div class="report-error-msg" ></div>');this.reportCode=$('<div class="report-codePic"></div>');try{this.reportCodePic=$('<img src="'+
this.hostName+'/complain/code.php" id="reportCodePic"/>')}catch(b){console.log("get code.php",b)}bookConfig.RightToLeft&&(this.codeBox.css({"text-align":"right"}),this.codeInput.css({"text-align":"right"}));this.codeInput.css({"box-sizing":"border-box",height:"36px",width:"50%",outline:"none","border-radius":"8px",background:"#eee","font-size":"13px",color:"#333","padding-left":"10px",border:"2px solid transparent"});this.codeCell.css({display:"flex","margin-top":"10px","align-items":"center"});this.reportCode.css({height:"36px",
"margin-left":"10px",cursor:"pointer"});this.reportCodePic.css({height:"100%"});this.reportCode.append(this.reportCodePic);this.codeCell.append(this.codeInput).append(this.reportCode);this.codeBox.append(this.codeTitle).append(this.codeCell).append(this.reportErrorCode);this.content.append(this.codeBox);this.reportCode.on("click",function(){return a.renewCodePic()})},renewCodePic:function(){try{this.reportCodePic.attr("src",this.hostName+"/complain/code.php?"+(new Date).getTime())}catch(a){console.log("code.php",
a)}},initMsgItem:function(){this.msgItem=$('<div class="report-msg-item" ></div>');this.msgItem.css({display:"none",color:"#67C23A",padding:"10px 0"});this.content.append(this.msgItem)},resetMsgItem:function(){this.msgItem&&(this.msgItem.text(""),this.msgItem.hide())},initButton:function(){var a=this;this.btnBox=$("<div></div>");this.confirm=$("<div>"+getLanguage("reportConfirm","Submit")+"</div>");this.cancel=$("<div>"+getLanguage("reportCancel","Cancel")+"</div>");this.btnBox.append(this.cancel).append(this.confirm);
this.initButtonCss();this.content.append(this.btnBox);for(var b=[this.confirm,this.cancel],c=0;c<b.length;c++)b[c].on("mouseenter",function(){$(this).css({opacity:"0.85"})}),b[c].on("mouseleave",function(){$(this).css({opacity:"1"})}),b[c].on("mousedown",function(){$(this).css({top:"1px"})}),b[c].on("mouseup",function(){$(this).css({top:"0"})});this.cancel.bind(_event._click,function(){this.hide()}.bind(this));this.confirm.bind(_event._click,function(){return a.sendAjax()})},checkReportTextArea:function(){""==
this.textarea.val()?(this.textarea.focus().css({border:"2px solid #FF6A6A",background:"linear-gradient(0deg, #FEE 0%, #FEE 100%), #EEE"}),this.reportErrorTextArea.html("*Please enter the description")):(this.textarea.css({border:0,background:"#eee"}),this.reportErrorTextArea.html(""))},checkReportYourEmail:function(){""==this.contactInput.val()?(this.contactInput.focus().css({border:"2px solid #FF6A6A",background:"linear-gradient(0deg, #FEE 0%, #FEE 100%), #EEE"}),this.reportErrorEmail.html("*Please enter your email address")):
(this.contactInput.css({border:0,background:"#eee"}),this.reportErrorEmail.html(""))},checkReportType:function(){""==this.select.val()?(this.select.css({border:"2px solid #FF6A6A",background:"linear-gradient(0deg, #FEE 0%, #FEE 100%), #EEE"}),this.reportErrorType.html("*Please select a type")):(this.select.css({border:0,background:"#eee"}),this.reportErrorType.html(""))},showTipsBox:function(a){window.TipsBox?(this._tipsBox||(this._tipsBox=new TipsBox({opacity:1},$("body")),this._tipsBox.background.css({"z-index":1E4,
background:768>=window.innerWidth?"rgba(0,0,0,0.7)":"rgba(205,226,250,0.35)",top:"35px",left:"50%",right:"initial",transform:"translate(-50%)",padding:"10px 12px","box-shadow":"0px 6px 40px 0px rgba(3,8,26,0.1)","border-radius":"8px",width:"auto"})),this._tipsBox.setCaption(a),this._tipsBox.showTipsBox()):alert(a)},sendAjax:function(){var a=this,b=this;if(""==this.select.val())this.checkReportType();else if(""==this.contactInput.val())this.checkReportYourEmail();else if(""==this.textarea.val())this.checkReportTextArea();
else{var c,d=null!=(c=window.bookId)?c:"";d&&""!=d&&this.isSended&&$.ajax({url:this.hostName+"/complain/set-complaininfo.php",type:"POST",dataType:"json",data:{bookid:d,type:b.select.val(),message:b.textarea.val(),email:b.contactInput.val()},beforeSend:function(){b.isSended=!1;b.confirm.text("Sending...");if(0==b.select.val()&&""==b.textarea.val())return b.isSended=!0,b.confirm.text("Submit"),!1;if(6==b.select.val()){if(""==b.contactInput.val())return b.isSended=!0,b.confirm.text("Submit"),!1;b.isSended=
!0;b.confirm.text("Submit");return!0}},success:function(e){a.isSended=!0;a.confirm.text("Submit");switch(e.status){case "1":a.msgItem.text("Thank you for your feedback, we will review it in 2 working days.");a.msgItem.fadeIn(300);break;case "2":a.showTipsBox("Incorrect verification code.");break;default:a.showTipsBox("error")}},error:function(){b.isSended=!0;setTimeout(function(){b.confirm.text("Submit")},3E3)}})}},changeLanguage:function(){this.reportBtn.html(getLanguage("reportBtn","Report"));this.boxTitle&&
this.boxTitle.find($(".box-title")).html(getLanguage("reportBtn","Report"));this.alertBtn.html(getLanguage("reportAlertBoxCloseBtn","Close"));this.succBox.html(getLanguage("reportSuccessPrompt","Success"));this.textarea.attr("placeholder",getLanguage("reportTextareaPlaceholder","Success"));this.confirm.html(getLanguage("reportConfirm","Success"));this.cancel.html(getLanguage("reportCancel","Success"));this.resetSelectLanguage()},resetSelectLanguage:function(){this.select.empty();for(var a=getLanguage("reportReasonSourceFh5",
"Religion;Customs;Race;Political parties;Government;Ruling Illegal;Crime;Rumors;Pornography").split(";"),b=0;b<a.length;b++){var c=$("<option>"+a[b]+"</option>");0==b&&(c=$("<option disabled selected >"+a[b]+"</option>"));c.css({padding:"9px 0"});this.select.append(c)}},initButtonCss:function(){this.btnBox.css({"text-align":"center",display:"flex","justify-content":"flex-end","margin-top":"28px"});this.confirm.css({"box-sizing":"border-box",background:"#09F",height:"36px","line-height":"36px",width:"70px",
"border-radius":"8px",cursor:"pointer",color:"#fff","margin-left":"10px"});this.cancel.css({"box-sizing":"border-box",height:"36px","line-height":"36px",width:"70px","border-radius":"8px",background:"#eee",cursor:"pointer",color:"#333"});bookConfig.RightToLeft&&this.btnBox.css({direction:"rtl"})},initBoxCss:function(){this.container.css({background:"rgba(11,11,11,0.25)",display:"none",position:"absolute","z-index":"1000",width:"100%",height:"100%",left:"0",top:"0",bottom:"0"});this.alert.css({background:"rgba(11,11,11,0.5)",
display:"none",position:"absolute","z-index":"1000",width:"100%",height:"100%",left:"0",top:"0",bottom:"0"});this.alertBox.css({width:"450px","border-radius":"4px",height:"150px",color:"#333",position:"absolute",left:"50%",top:"50%",background:"#f5f5f5","-webkit-transform":"translate(-50%,-50%)","-o-transform":"translate(-50%,-50%)","-moz-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"});this.alertDesc.css({width:"450px",height:"150px",color:"#333",
position:"absolute","box-sizing":"border-box",padding:"15px","text-align":"center","font-size":"20px"});this.alertBtn.css({position:"absolute",width:"76px",bottom:"30px",left:"190px",background:"#1B7FCB",height:"34px","font-size":"14px","line-height":"34px","border-radius":"4px",cursor:"pointer","text-align":"center",transition:"opacity 0.3s","-webkit-transition":"opacity 0.3s",color:"#fff"});this.reportBox.css({"font-size":"14px",background:"#fff","border-radius":"12px",position:"absolute",width:"560px",
left:"50%",top:"50%","padding-bottom":"30px","-webkit-transform":"translate(-50%,-50%)","-o-transform":"translate(-50%,-50%)","-moz-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"});this.content.css({padding:"0 30px",background:"#fff"})},initBoxEvent:function(){var a=this;this.reportBtn.on("click",function(){return a.show()});this.close.on("click",function(){return a.hide()});this.alertBtn.bind("click",function(){this.alert.fadeOut(200)}.bind(this));
if(isPad()||isPhone())$(window).on("focusout",function(){window.scrollTo(0,0)});this.textarea.on("input",function(){a.checkReportTextArea()});this.contactInput.on("input",function(){a.checkReportYourEmail()})},initCss:function(){this.reportBtn.css({opacity:"0.75","-webkit-transition":"bottom 0.3s",position:"absolute",color:this.fontColor.rgba(.5),"z-index":"1000",transform:"translate(0,0)",transition:"transform 0.3s",cursor:"pointer","font-size":"14px","line-height":"30px",padding:"0 10px 0 10px",
"border-top-left-radius":"15px","border-bottom-left-radius":"15px",right:"0",bottom:"106px",display:"flex","align-items":"center"});$(".report-item").css({margin:"0 0 5px"});$(".report-error-msg").css({height:"12px",color:"#FF6A6A","font-size":"12px"});bookConfig.ToolBarVisible&&(-1<"active brief assort classical clear courts facile float fresh metro novelty popular".split(" ").indexOf(global.templeteName)?this.reportBtn.css({bottom:"136px"}):"gorgeous"===global.templeteName?this.reportBtn.css({bottom:"186px"}):
"envato"===global.templeteName&&this.reportBtn.css({bottom:"186px",right:"auto",left:"0px"}))},initTransEvent:function(){this.reportBtn.bind("mouseenter",function(){this.reportBtn.css({opacity:"1"})}.bind(this));this.reportBtn.bind("mouseleave",function(){this.reportBtn.css({opacity:"0.75"})}.bind(this))},onResize:function(a,b){},show:function(){this.visible=!0;this.container.fadeIn(300)},hide:function(){this.visible=!1;this.container.fadeOut(300);this.resetMsgItem()},showOrHide:function(){this.visible?
this.hide():this.show()}}),PhoneReportPanel=Class({create:function(a){this.visible=!1;this.color=Color(bookConfig.iconColor);this.fontColor=Color(bookConfig.iconFontColor);this.parent=a;this.reportBtn=$("<div class='report' style='display:none'></div>");this.reportPanelBg=$("<div class='reportPanelBg'></div>");this.initReportBox();this.container.append(this.reportPanelBg);this.initSucc();this.initCss()},initSelect:function(){this._super();this.select.css({padding:"6px 10px"});this.selectIcon.css({right:"30px",
top:"32px",border:"6px solid #969696","border-left":"5px solid transparent","border-bottom-color":"transparent","border-right":"5px solid transparent"});bookConfig.RightToLeft&&(this.selectIcon.css({left:"30px",right:"auto"}),this.select.css({direction:"rtl"}))},initBoxCss:function(){this._super();this.container.css({transition:"transform 0.3s",transform:"translateX(100%)"});this.reportPanelBg.css({"z-index":"-1",background:"rgba(11,11,11,0.85)",position:"absolute",width:"100%",height:"100%",left:"0",
top:"0",bottom:"0"});this.reportBox.css({"font-size":"14px",background:"#fff","border-radius":"2px",position:"absolute",width:"100%",height:"100%",left:"50%",top:"50%","-webkit-transform":"translate(-50%,-50%)","-o-transform":"translate(-50%,-50%)","-moz-transform":"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%0)","padding-bottom":0});this.alertBox.css({width:"320px",height:"130px",top:"65px","-webkit-transform":"translate(-50%,0)","-o-transform":"translate(-50%,0)",
"-moz-transform":"translate(-50%,0)","-ms-transform":"translate(-50%,0)",transform:"translate(-50%,0)"});this.alertDesc.css({"font-size":"18px",width:"320px",height:"130px"});this.alertBtn.css({position:"absolute",width:"80px",bottom:"25px",left:"120px",height:"30px","line-height":"30px"});this.content.css({padding:"20px"})},initLinkInput:function(){this._super();this.linkInput.css({margin:"10px 0"})},initSelect:function(){this._super();this.select.css({margin:"10px 0"})},initContactInput:function(){this._super();
this.contactInput.css({margin:"10px 0"})},initTextArea:function(){this._super();this.textarea.css({width:"100%",height:"100px",padding:"6px 10px",margin:"10px 0"})},initButtonCss:function(){this._super();this.btnBox.css({"text-align":"center","flex-direction":"column",margin:"10px 0 0"});this.confirm.css({width:"100%",height:"36px",margin:"0","line-height":"36px"});this.cancel.css({width:"100%",height:"36px",margin:"10px 0 0","line-height":"36px"});this.btnBox.append(this.confirm).append(this.cancel)},
initBoxEvent:function(){this._super();this.reportPanelBg.bind(_event._click,function(){this.hide()}.bind(this))},initTltle:function(){this.close=$('<div class="reportCloseBtn" ></div>');var a=$('<svg viewBox="0 0 18.732 32" class="report-close-svg"><path d="M14.887,31.349.456,17.087a1.522,1.522,0,0,1,0-2.173L14.887.651a2.273,2.273,0,0,1,3.186,0,2.209,2.209,0,0,1,0,3.147L5.727,16,18.073,28.2a2.212,2.212,0,0,1,0,3.148,2.273,2.273,0,0,1-3.186,0" transform="translate(0 0)"></path></svg>');a.css({fill:"#999",
width:"20px",height:"20px"});this.close.css({width:"20px",height:"20px",padding:"15px"});this.close.append(a);this.reportBox.append(this.close)},show:function(){this.visible=!0;this.container.show().css({transform:"translateX(0)"})},hide:function(){var a=this;this.visible=!1;this.container.css({transform:"translateX(100%)"});setTimeout(function(){a.container.hide()},300);this.resetMsgItem()},onResize:function(a,b){}}).extend(ReportPanel),CopyElements=Class({create:function(a){this._super(a);this.initElements();
this.initEvent(a);this.pickElements(a)},initElements:function(){this.textArea=$("<textarea></textarea>");this.message=$("<p>"+getLanguage("lblSelectMessage","Please copy the the text content in the text box")+"</p>");this.button=$("<div class='cancel'>"+getLanguage("lblCopy","Copy")+"</div>")},initEvent:function(a){this.copyHref(this.button[0],a)},copyHref:function(a,b){if(!global.isBelowIE9()){var c=this;a=new ClipboardJS(a,{text:function(d){return c.textArea.val()}});a.on("success",function(d){b.hide.bind(b)();
d.clearSelection()});a.on("error",function(d){uc?(b.hide.bind(b)(),d.clearSelection()):alert("Copy failed!")})}},copyFrom:function(a){if(a){a.focus();a.select();try{document.execCommand("Copy")}catch(b){a=a.val(),copyToClipboard(a)}}},pickElements:function(a){a.textArea=this.textArea;a.message=this.message;a.button=this.button},changeLanguage:function(){this.message.html(getLanguage("lblSelectMessage","Please copy the the text content in the text box"));this.button.html(getLanguage("lblCancel","Cancel"))}}).extend(FormElements),
CopyForm=Class({create:function(a){this.elements=new CopyElements(this);this._super(a)},onCreate:function(){this._super();this.stage.css({"background-color":this.mainColor,color:this.fontColor})},initHtml:function(){this.stage.append(this.textArea);this.stage.append(this.message);this.stage.append(this.button);this._super()},fillText:function(a){this.textArea.val(a);rightToLeft&&this.textArea.addClass("rtl")},initEvent:function(){this.stage.bind(_event._down,function(a){a.stopPropagation()})},onShow:function(){},
onResize:function(){this._super()}}).extend(FadeOutFadeForm);function grayBackground(a,b,c,d,e){this.sw=d;this.sh=e;this.background=$("<div ></div>");this.background.css({width:d+"px",height:e+"px",background:b,opacity:c,"z-index":200,position:"absolute",left:"0px",top:"0px"});a.append(this.background)}grayBackground.prototype.onResize=function(a,b){this.sw=a;this.sh=b;this.background.css({width:a+"px",height:b+"px"})};bdor[25]="i";
grayBackground.prototype.setPosition=function(a,b,c){void 0==c&&(c=["left","top"]);this.background.css(c[0],a+"px");this.background.css(c[1],b+"px")};grayBackground.prototype.show=function(){this.father.append(this.background)};grayBackground.prototype.hide=function(){this.background.remove()};grayBackground.prototype.setZindex=function(a){this.background.css({"z-index":a})};grayBackground.prototype.onMouseUp=function(a,b){$(this.background).bind(_event._down,function(c){b.call(a)})};
var textWidth=function(a,b){a=$("<pre>"+a+"</pre>").css({color:bookConfig.iconColor,display:"none","font-size":b.size,"font-family":b.fontName});$("body").append(a);b=Point(a.width(),a.height());a.remove();return b};
function label(a,b){this.labelBox=$('<div style = "position : absolute;font-family:Tahoma,Georgia,Serif;font-size:12px">'+a+"</div>");"null"!=a&&""!=a&&(this.caption=a,this.fontSize="12px",this.fontColor="#f0f0f0",this.fontName="Tahoma",a=textWidth(a,{size:this.fontSize,fontName:this.fontName}),this.width=a.x,this.height=a.y,b.append(this.labelBox))}label.prototype.getWidth=function(){return this.width};bdor[27]="f";label.prototype.getHeight=function(){return this.height};
label.prototype.getCaption=function(){return this.caption};label.prototype.setCaption=function(a){this.caption=a;this.labelBox[0].innerHTML=a;a=textWidth(a,{size:this.fontSize,fontName:this.fontName});this.width=a.x;this.height=a.y};label.prototype.setLabelPosition=function(a,b,c){void 0==c&&(c=["left","top"]);this.labelBox.css(c[0],a+"px");this.labelBox.css(c[1],b+"px")};label.prototype.onResize=function(a,b){this.width=a;this.height=b;this.labelBox.css({width:a+"px",height:b+"px"})};
label.prototype.setFont=function(a,b,c){null==a?a=this.fontSize:this.fontSize=a;null==b?b=this.fontColor:this.fontColor=b;null==c?c=this.fontName:this.fontName=c;this.labelBox.css({"font-size":a,color:b,"font-family":c});a=textWidth(this.caption,{size:a,fontName:c});this.width=a.x;this.height=a.y};label.prototype.setFontSize=function(a){null==a?a=this.fontSize:this.fontSize=a;this.labelBox.css({"font-size":a});a=textWidth(this.caption,{size:a,fontName:this.fontName});this.width=a.x;this.height=a.y};
label.prototype.riseAWord=function(a){var b=this.caption;-1==b.indexOf(a)&&(a=a.toLowerCase());-1!=b.indexOf(a)&&(newCaption=b.replaceAll(a,"<font color=red><strong>"+a+"</strong></font>"),this.labelBox[0].innerHTML=newCaption)};label.prototype.shortWord=function(a){this.caption.length>a&&(this.caption=this.caption.substring(0,a)+"..",this.setCaption(this.caption))};label.prototype.setCSS=function(a){this.labelBox.css(a)};label.prototype.setClass=function(a){this.labelBox.attr("class",a)};
function initProgressBar(a,b){this.width=60;this.height=30;this.progress=new label("Loading",a);this.caption=this.originCaption=b;this.captionLength=this.caption.length;this.progress.setCSS({display:"none"})}initProgressBar.prototype.setPosition=function(a,b){this.progress.setLabelPosition((a-this.width)/2,(b-this.height)/2)};
initProgressBar.prototype.addTimer=function(){var a=this;this.timerId=window.setInterval(function(){a.caption+=".";a.caption.length>a.captionLength+3&&(a.caption=originCaption);a.progress.setCaption(a.caption)},600)};initProgressBar.prototype.removeTimer=function(){window.clearInterval(this.timerId)};initProgressBar.prototype.show=function(){this.progress.setCSS({display:"block"});this.caption=this.originCaption;this.addTimer()};
initProgressBar.prototype.hide=function(){this.progress.setCSS({display:"none"});this.removeTimer()};initProgressBar.prototype.setIndex=function(a){this.progress.setCSS({"z-index":a})};
var DoubleSinglePageElements=Class({create:function(a){this._super(a);this.initElements();this.pickElements(a)},initElements:function(){this.doublePageImg=$("<img style='pointer-events:none;'></img>");this.secondTitle=$("<div class='secondTitle'>"+getLanguage("doublePageDescription","How to set landscape ?")+"</div>");this.itemList=$("<div class='itemList'></div>");this.closeButton=$("<div class='closeButton'>"+getLanguage("doublePageGotIt","Got it")+"</div>");this.wordBox=$("<div class='wordBox'></div>");
this.textBox=$("<div class='textBox'></div>")},initEvent:function(a){},pickElements:function(a){a.doublePageImg=this.doublePageImg;a.secondTitle=this.secondTitle;a.itemList=this.itemList;a.closeButton=this.closeButton;a.wordBox=this.wordBox;a.textBox=this.textBox},changeLanguage:function(){this.closeButton.html(getLanguage("doublePageGotIt","Got it"))}}).extend(FormElements),DoubleSinglePageForm=Class({create:function(a){this.elements=new DoubleSinglePageElements(this);this._super(a)},onCreate:function(){this.elements.doublePageImg.attr("src",
uiBaseURL+"doubleSinglePageBanner.png");"Android"==_agent_.system.name?(this.title.append($("<span>"+getLanguage("doublePageAndroidTitle","Enable Landscape Mode to Read in Two-page View?")+"</span>")),this.item1=$("<div class='item'>"+getLanguage("doublePageAndroidSettingStep1","1.Allow auto-rotation in phone settings")+"</div>"),this.item2=$("<div class='item'>"+getLanguage("doublePageAndroidSettingStep2","2.Allow landscape in browser settings")+"</div>"),this.item3=$("<div class='item'>"+getLanguage("doublePageAndroidSettingStep3",
"3.Turn your phone sideways to read")+"</div>"),this.elements.itemList.append(this.item1,this.item2,this.item3)):(this.title.append($("<span>"+getLanguage("doublePageTitle","Enable Landscape Mode to Read in Two-page View")+"</span>")),this.item1=$("<div class='item'>"+getLanguage("doublePageIPhoneSettingStep1","1.Disable portrait orientation lock")+"</div>"),this.item2=$("<div class='item'>"+getLanguage("doublePageIPhoneSettingStep2","2.Rotate phone to read")+"</div>"),this.elements.itemList.append(this.item1,
this.item2));this._super()},initHtml:function(){this.stage.css({"line-height":"normal"});this.elements.textBox.append(this.title,this.elements.itemList);this.elements.wordBox.append(this.elements.textBox,this.elements.closeButton);this.stage.append(this.elements.doublePageImg,this.wordBox);this._super()},initEvent:function(){this.stage.bind(_event._down,function(a){a.stopPropagation()});this.elements.closeButton.bind("click",this.hide.bind(this))},onShow:function(){},onResize:function(){var a=548/
620*windowWidth*.45*.8;this.stage.css({height:a+"px"});windowHeight<windowWidth?(this.elements.doublePageImg.css({float:"left",width:"45%"}),this.elements.wordBox.css({float:"right",width:"55%",height:a+"px"}),this.elements.textBox.css({height:a-58+"px",display:"flex","flex-wrap":"wrap","align-content":"center",padding:"0 10px"})):(this.stage.css({height:"auto"}),this.elements.doublePageImg.css({float:"none",width:"100%"}),this.elements.wordBox.css({float:"none",width:"auto",height:"auto"}),this.elements.textBox.css({height:"auto",
display:"block",padding:"0 10px"}))},changeLanguage:function(){this._super();"Android"==_agent_.system.name?(this.title.find("span").html(getLanguage("doublePageAndroidTitle","Enable Landscape Mode to Read in Two-page View?")),this.item1.html(getLanguage("doublePageAndroidSettingStep1","1.Allow auto-rotation in phone settings")),this.item2.html(getLanguage("doublePageAndroidSettingStep2","2.Allow landscape in browser settings")),this.item3.html(getLanguage("doublePageAndroidSettingStep3","3.Turn your phone sideways to read"))):
(this.title.find("span").html(getLanguage("doublePageTitle","Enable Landscape Mode to Read in Two-page View")),this.item1.html(getLanguage("doublePageIPhoneSettingStep1","1.Disable portrait orientation lock")),this.item2.html(getLanguage("doublePageIPhoneSettingStep2","2.Rotate your phone")))}}).extend(FadeOutFadeForm),AddImageFile=Class({create:function(a){this.container=a;this.addContexts={};this.address=uiBaseURL;this.currentObject=$("<div><div/>").attr("data-key","114");this.imageDatas={};this.fileName=
window.location.href.replace(window.location.hash,"")+"LocalFile";this.fileCookies=[];this.createZoomFrame();this.toolBar=this.createToolBar(a);this.getCookieFile()},createToolBar:function(a){var b=this,c=$("<div class='flipHTML5LocalFile-toolBar' style='position: absolute;width: 60px;height: 32px;background-color: rgba(0, 0, 0, 0.8);border-radius: 4px;z-index: 9999;'></div>").appendTo(a).hide();a=$("<div class='flipHTML5LocalFile-toolBar-del'></div>").css({left:4}).append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",
this.address+"signature_del.png")).appendTo(c);var d=$("<div class='flipHTML5LocalFile-toolBar-update'></div>").css({left:32}).append($("<img style='margin-left: 3px;margin-top: 3px;'/>").attr("src",this.address+"ImgFile_update.png")).appendTo(c);a.on("click touchend",function(e){b.currentObject&&(b.currentObject.remove(),c.hide(),b.zoomFrame&&b.zoomFrame.hide(),e=b.currentObject.attr("data-key"),delete b.imageDatas[e],b.delArrayOrderKey(b.fileCookies,e),b.addLocalStorage(b.fileName,b.parseJSON(b.fileCookies)))});
d.on(_event._down,function(){b.currentObject&&b.currentObject.find(".TextFile")&&b.currentObject.find(".TextFile")[0].click()});c.on("mousedown touchstart",function(e){e.preventDefault();e.stopPropagation();return!1});this.container.add($(document)).add(BookInfo.container()).on("mousedown.hideToolBar touchstart.hideToolBar",function(){c.hide()});return c},createZoomFrame:function(){var a=$("<div class='flipHTML5ZoomFrame' style='position: absolute;'></div>"),b=[];this.zoomFrame=a;for(var c=0;9>c;c++){var d=
$("<div></div>").addClass("flipHTML5Point flipHTML5ZoomPoint"+c).appendTo(a);b.push(d)}this.westZoom(b[7]);this.northZoom(b[1]);this.southZoom(b[5]);this.eastZoom(b[3]);this.westZoom(b[0]).northZoom(b[0]);this.northZoom(b[2]).eastZoom(b[2]);this.westZoom(b[6]).southZoom(b[6]);this.southZoom(b[4]).eastZoom(b[4]);this.container.add($(document)).add(BookInfo.container()).on("mousedown.hideToolBar touchstart.hideToolBar",function(){a.hide()})},getCookieFile:function(){try{var a=this.getLocalStorage(this.fileName),
b=eval(a)}catch(d){}if(b)for(a=0;a<b.length;a++){var c=b[a];this.fileCookies.push({key:c.key,page:c.page,fileLeft:c.fL,fileTop:c.fT,fileWidth:c.fW,fileHeight:c.fH,imgWidth:c.iW,imgHeight:c.iH,src:c.src});this.imageDatas[c.key]={width:c.iW,height:c.iH}}},addFile:function(a,b){var c=a.src,d=a.imgWidth,e=a.imgHeight,f=a.key;a=$("<div class='flipHTML5AddFile' style='position: absolute;cursor: move;'></div>").css({width:a.fileWidth,height:a.fileHeight,left:a.fileLeft,top:a.fileTop}).attr("data-key",f).append($("<input type='file' class='TextFile' style='position: absolute;left: 0px;top: 0px;width: 100%;height: 100%;cursor: move;z-index: 2;'/>").css({opacity:0})).appendTo(b);
this.bindFileDivEvents(a,b);d&&e&&c&&this.addImage(a,c,d,e,f)},addCreateEvents:function(){var a=0,b,c=this.contextArray;if(c)for(this.offCreateEvents();b=c.eq(a++),0<b.length;)this.bindCreateFileEvent(b,parseInt(b.attr("data-page")))},offCreateEvents:function(){this.contextArray&&(this.contextArray.css({cursor:""}),this.contextArray.off("mousedown.addLocalFile touchstart.addLocalFile"))},bindCreateFileEvent:function(a,b){var c=this;a.css("cursor","crosshair");a.off("mousedown.addLocalFile touchstart.addLocalFile").one("mousedown.addLocalFile touchstart.addLocalFile",
function(d){d.stopPropagation();d.preventDefault();var e=(new Date).getTime(),f,g,h,l,m,k,n=a.offset().left,p=a.offset().top;$(".flipHTML5LocalFile-current").removeClass("flipHTML5LocalFile-current");var q=$("<div style='position: absolute;cursor: move;'></div>").attr("data-key",e).addClass("flipHTML5AddFile flipHTML5LocalFile-current").append($("<input type='file' class='TextFile' style='position: absolute;left: 0px;top: 0px;width: 100%;height: 100%;cursor: move;z-index: 2;'/>").css({opacity:0})).appendTo(a);
var r=f=d.pageX||d.originalEvent.touches[0].pageX;var t=g=d.pageY||d.originalEvent.touches[0].pageY;c.bindFileDivEvents(q,a);$(document).add(a).off("mousemove.addLocalFile touchmove.addLocalFile").on("mousemove.addLocalFile touchmove.addLocalFile",function(u){f=u.pageX?u.pageX:u.originalEvent.touches?u.originalEvent.touches[0].pageX:0;g=u.pageY?u.pageY:u.originalEvent.touches?u.originalEvent.touches[0].pageY:0;f&&(0>f-r?(h=Math.floor((f-n)/BookInfo.scale()),m=Math.floor((r-f)/BookInfo.scale())):(h=
Math.floor((r-n)/BookInfo.scale()),m=Math.floor((f-r)/BookInfo.scale())));g&&(0>u.pageY-t?(l=Math.floor((g-p)/BookInfo.scale()),k=Math.floor((t-g)/BookInfo.scale())):(l=Math.floor((t-p)/BookInfo.scale()),k=Math.floor((g-t)/BookInfo.scale())));q.css({left:h,top:l,width:m,height:k});c.resizeZoomFrame(q)});$(document).add(a).off("mouseup.addLocalFile touchend.addLocalFile").one("mouseup.addLocalFile touchend.addLocalFile",function(u){c.offCreateEvents();$(document).add(a).off("mousemove.addLocalFile touchmove.addLocalFile");
$(document).add(a).off("mouseup.addLocalFile touchend.addLocalFile");if(q){u=q.width();var x=q.height();32>u&&q.width(32);12>x&&q.height(12);q.find(".TextFile")[0].click();c.resizeZoomFrame(q);u=c.parseObject(q[0]);c.parseObject(c.zoomFrame[0]);c.fileCookies.push({key:e,page:b,fileLeft:u.left,fileTop:u.top,fileWidth:u.width,fileHeight:u.height,imgWidth:null,imgHeight:null,src:null});c.addLocalStorage(c.fileName,c.parseJSON(c.fileCookies))}void 0!=c.onCreated&&c.onCreated[1].call(c.onCreated[0])})})},
addImage:function(a,b,c,d,e){a.find(".LocalImage")&&a.find(".LocalImage").remove();var f=a.width()||40,g=a.height()||40;c=this.resizeImage("autoFit",c,d,f,g);$("<img class='LocalImage' style='position: absolute;z-index: 2;'/>").attr("data-key",e).css({width:c.width,height:c.height,left:c.left,top:c.top}).attr("src",b).appendTo(a)},resizeImage:function(a,b,c,d,e){b/=c;c=0===e?1:d/e;var f=e*b,g=d/b;switch(a){case "autoFit":var h=f>d?{width:d,height:g,top:(e-g)/2,left:0}:g>e?{width:f,height:e,left:(d-
f)/2,top:0}:f/g==b?{width:f,height:g,left:0,top:0}:{width:1,height:1,left:0,top:0};break;case "scale":h={left:0,top:0,width:d,height:e};break;case "fullFill":b>c?h={left:(d-e*b)/2,top:0,width:e*b,height:e}:b<c?h={left:0,top:(e-d/b)/2,width:d,height:d/b}:b==c&&(h={left:0,top:0,width:d,height:e})}return h},bindFileDivEvents:function(a,b){var c=this,d=!1,e=a.attr("data-key");a.on("pointerdown.signatureImg",function(f){f.stopPropagation()});a.off("mousedown.addLocalFile touchstart.addLocalFile").on("mousedown.addLocalFile touchstart.addLocalFile",
function(f){f.preventDefault();f.stopPropagation();f=f.originalEvent.touches?f.originalEvent.touches[0]:f;var g,h;var l=a[0].offsetLeft;var m=a[0].offsetTop;var k=f.pageX;var n=f.pageY;c.resizeZoomFrame(a);b.off("mousemove.addLocalFile touchmove.addLocalFile").on("mousemove.addLocalFile touchmove.addLocalFile",function(p){p=p.originalEvent.touches?p.originalEvent.touches[0]:p;if(3<=Math.abs(p.pageX-k)||3<=Math.abs(p.pageY-n))d=!0;g=l-(k-p.pageX)/BookInfo.scale();h=m-(n-p.pageY)/BookInfo.scale();a.css({left:g,
top:h});c.moveFileDiv(g,h)});$(document).add(b).off("mouseup.addLocalFile touchend.addLocalFile").one("mouseup.addLocalFile touchend.addLocalFile",function(){b.off("mousemove.addLocalFile touchmove.addLocalFile");$(document).add(b).off("mouseup.addLocalFile touchend.addLocalFile");setTimeout(function(){d=!1},200);var p=c.parseObject(a[0]);c.parseObject(c.zoomFrame[0]);c.updateArrayOrderKey(c.fileCookies,e,{fileLeft:p.left,fileTop:p.top});c.addLocalStorage(c.fileName,c.parseJSON(c.fileCookies))})});
a.find(".TextFile").on({change:function(f){try{var g=f.target.files[0];if(g)if(g.type.match("image.*")){var h=new FileReader;h.onload=function(l){l=l.target.result;var m=new Image;m.src=l;var k=m.width;m=m.height;c.imageDatas[e]={width:k,height:m,src:l};c.addImage(a,l,k,m,e);c.updateArrayOrderKey(c.fileCookies,e,{imgWidth:k,imgHeight:m,src:l});c.addLocalStorage(c.fileName,c.parseJSON(c.fileCookies))};h.readAsDataURL(g)}else alert("not image!")}catch(l){alert("Does not support HTML5 FileReader!")}},
click:function(f){d&&f.preventDefault()}})},moveFileDiv:function(a,b){var c=this.zoomFrame;c&&(c.css({left:a-4-1,top:b-4-1}),this.toolBar&&this.toolBar.css({left:c.offset().left-this.container.offset().left+3,top:c.offset().top-this.container.offset().top-this.toolBar.outerHeight()-2}))},resizeZoomFrame:function(a){var b=this.zoomFrame;b.css({width:a.width()+8,height:a.height()+8,left:parseInt(a.css("left"))-4-1,top:parseInt(a.css("top"))-4-1}).show();this.toolBar&&this.toolBar.css({left:a.offset().left-
8-this.container.offset().left+3,top:a.offset().top-8-this.container.offset().top-this.toolBar.outerHeight()-2}).show();a.before(b);$(".flipHTML5LocalFile-current").removeClass("flipHTML5LocalFile-current");this.currentObject=a.addClass("flipHTML5LocalFile-current")},resizeFileDiv:function(a,b,c,d){var e=this.currentObject,f=this.zoomFrame,g=e.attr("data-key");this.toolBar&&this.toolBar&&this.toolBar.css({left:f.offset().left-this.container.offset().left+3,top:f.offset().top-this.container.offset().top-
this.toolBar.outerHeight()-2});if(e){a&&(f.css({left:a}),e.css({left:a+4+1}));b&&(f.css({top:b}),e.css({top:b+4+1}));c&&40<=c&&(f.css({width:c}),e.css({width:c-8}));d&&20<=d&&(f.css({height:d}),e.css({height:d-8}));try{var h=e.find(".LocalImage"),l=this.imageDatas[g],m=this.resizeImage("autoFit",l.width,l.height,e.width(),e.height());h.css({width:m.width,height:m.height,left:m.left,top:m.top})}catch(k){}m=this.parseObject(e[0]);this.parseObject(f[0]);this.updateArrayOrderKey(this.fileCookies,g,{fileLeft:m.left,
fileTop:m.top,fileWidth:m.width,fileHeight:m.height})}},eastZoom:function(a){var b=this,c=a.parent();a.on("mousedown.addLocalFile touchstart.addLocalFile",function(d){d.preventDefault();d.stopPropagation();d=d.originalEvent.touches?d.originalEvent.touches[0]:d;var e=c.parent(),f=c.width(),g=d.pageX;$(document).add(e).on("mousemove.addLocalFile touchmove.addLocalFile",function(h){h=h.originalEvent.touches?h.originalEvent.touches[0]:h;h=Math.floor(f-(g-h.pageX)/BookInfo.scale());b.resizeFileDiv(0,0,
h,0)});$(document).add(e).on("mouseup.addLocalFile touchend.addLocalFile",function(){b.addLocalStorage(b.fileName,b.parseJSON(b.fileCookies));$(document).add(e).off("mousemove.addLocalFile touchmove.addLocalFile");$(document).add(e).off("mouseup.addLocalFile touchend.addLocalFile")})});return this},southZoom:function(a){var b=this,c=a.parent();a.on("mousedown.addLocalFile touchstart.addLocalFile",function(d){d.preventDefault();d.stopPropagation();d=d.originalEvent.touches?d.originalEvent.touches[0]:
d;var e=c.parent(),f=c.height(),g=d.pageY;$(document).add(e).on("mousemove.addLocalFile touchmove.addLocalFile",function(h){h=h.originalEvent.touches?h.originalEvent.touches[0]:h;h=Math.floor(f-(g-h.pageY)/BookInfo.scale());b.resizeFileDiv(0,0,0,h)});$(document).add(e).on("mouseup.addLocalFile touchend.addLocalFile",function(){b.addLocalStorage(b.fileName,b.parseJSON(b.fileCookies));$(document).add(e).off("mousemove.addLocalFile touchmove.addLocalFile");$(document).add(e).off("mouseup.addLocalFile touchend.addLocalFile")})});
return this},westZoom:function(a){var b=this,c=a.parent();a.on("mousedown.addLocalFile touchstart.addLocalFile",function(d){d.preventDefault();d.stopPropagation();d=d.originalEvent.touches?d.originalEvent.touches[0]:d;var e=c.parent(),f=c.width(),g=c[0].offsetLeft,h=d.clientX;$(document).add(e).on("mousemove.addLocalFile touchmove.addLocalFile",function(l){l=l.originalEvent.touches?l.originalEvent.touches[0]:l;var m=g+(l.pageX-h)/BookInfo.scale();l=Math.floor(f+(h-l.pageX)/BookInfo.scale());b.resizeFileDiv(m,
0,l,0)});$(document).add(e).on("mouseup.addLocalFile touchend.addLocalFile",function(){b.addLocalStorage(b.fileName,b.parseJSON(b.fileCookies));$(document).add(e).off("mousemove.addLocalFile touchmove.addLocalFile");$(document).add(e).off("mouseup.addLocalFile touchend.addLocalFile")})});return this},northZoom:function(a){var b=this,c=a.parent();a.on("mousedown.addLocalFile touchstart.addLocalFile",function(d){d.preventDefault();d.stopPropagation();d=d.originalEvent.touches?d.originalEvent.touches[0]:
d;var e=c.parent(),f=c.height(),g=c[0].offsetTop,h=d.pageY;$(document).add(e).on("mousemove.addLocalFile touchmove.addLocalFile",function(l){l=l.originalEvent.touches?l.originalEvent.touches[0]:l;var m=l.pageY;l=g+(m-h)/BookInfo.scale();m=Math.floor(f+(h-m)/BookInfo.scale());b.resizeFileDiv(0,l,0,m)});$(document).add(e).on("mouseup.addLocalFile touchend.addLocalFile",function(){b.addLocalStorage(b.fileName,b.parseJSON(b.fileCookies));$(document).add(e).off("mousemove.addLocalFile touchmove.addLocalFile");
$(document).add(e).off("mouseup.addLocalFile touchend.addLocalFile")})});return this},bindOnCreated:function(a,b){this.onCreated=[a,b]},parseObject:function(a){if(document.getElementsByTagName("body")[0].contains(a)){var b=a.parentNode;var c=a.style,d=$(a);var e=100/b.offsetHeight;var f=100/b.offsetWidth;b=a.offsetLeft*f+"%";a=a.offsetTop*e+"%";f=d.width()*f+"%";e=d.height()*e+"%";c.width=f;c.height=e;c.left=b;c.top=a;return{width:f,height:e,left:b,top:a}}},addLocalFileByPage:function(a,b){b.find(".flipHTML5AddFile").remove();
this.toolBar&&this.toolBar.hide();this.zoomFrame&&this.zoomFrame.hide();b.attr("data-page",a);this.contextArray=this.contextArray?this.contextArray.add(b):b;this.zoomFrame&&this.zoomFrame.remove();this.createZoomFrame();for(var c=0;c<this.fileCookies.length;c++)this.fileCookies[c].page==a&&this.addFile(this.fileCookies[c],b)},setContainers:function(a,b,c){void 0==this.addContexts[a]&&(this.addContexts[a]={});this.addContexts[a][b]=c;a==BookInfo.getBookType()&&this.addLocalFileByPage(b,this.addContexts[BookInfo.getBookType()][b])},
getLocalStorage:function(a){try{if(window.localStorage)return window.localStorage.getItem(a);for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a)return unescape(d[1])}return""}catch(e){}},addLocalStorage:function(a,b){try{if(window.localStorage)window.localStorage.setItem(a,b);else{var c=a+"="+escape(b),d=new Date;d.setTime(d.getTime()+864E8);c+="; expires="+d.toGMTString();document.cookie=c}}catch(e){}},delArrayOrderKey:function(a,b){if(a)for(var c=0;c<a.length;c++)a[c].key&&
a[c].key==b&&a.remove(c)},updateArrayOrderKey:function(a,b,c){if(a)for(var d=0;d<a.length;d++)a[d].key&&a[d].key==b&&$.extend(a[d],c)},parseJSON:function(a){if(0!=a.length){for(var b="[",c=0;c<a.length;c++)b+="{key:'"+a[c].key+"',page:"+a[c].page+",src:'"+a[c].src+"',iW:"+a[c].imgWidth+",iH:"+a[c].imgHeight+",fW:'"+a[c].fileWidth+"',fH:'"+a[c].fileHeight+"',fL:'"+a[c].fileLeft+"',fT:'"+a[c].fileTop+"'},";b=b.substring(0,b.length-1);return b+"]"}}}),HandSwipeHelp=Class({create:function(a){this.parent=
a;this.container=$("<div class='handHelp' style='display:none'></div>");this.helpHand=$("<div ></div>");this.handImg=$("<img />");this.setSrc(this.handImg,phone_toolbar_icons,"phoneHandSwipe");this.helpHand.append(this.handImg);this.container.append(this.helpHand);a.append(this.container);this.setCSS();this.initEvent();this.container.speed(this.onSwipe.bind(this))},setCSS:function(){this.container.css({position:"absolute","z-index":"999",width:"100%",height:"100%",background:"rgba(11,11,11,0.5)"});
this.helpHand.css({position:"absolute",width:"69px",height:"75px",right:(windowWidth-69)/2+"px",top:(windowHeight-75)/2+"px"});this.handImg.css({position:"absolute",width:"100%",height:"100%"})},onSwipe:function(a,b){var c=30;bookConfig.FlipDirection?(c=c*windowHeight/1600,Math.abs(b)<=c||b>c&&nextPageFun("help swipe")):(c=c*windowWidth/1600,Math.abs(a)<=c||(a<-c?nextPageFun("help swipe"):a>c&&rightToLeft&&nextPageFun("help swipe")))},setSrc:function(a,b,c){b&&b[c]?a.attr("src","data:image/png;base64,"+
b[c]):a.attr("src",phoneBaseURL+c+".png")},initEvent:function(){(this.close,this.container).bind(_event._up,function(){this.hide()}.bind(this))},onResize:function(a,b){this.setCSS()},show:function(){this.container.css("display","block");parseBool(bookConfig.FlipDirection)?this.helpHand.addClass("handSwipeHelp_Top"):rightToLeft?this.helpHand.addClass("handSwipeHelp_Right"):this.helpHand.addClass("handSwipeHelp_Left");this.visible=!0},hide:function(){this.helpHand.attr("class","");this.container.fadeOut(300);
this.visible=!1}}),AppLargeLogo=Class({create:function(a){this.parent=a;this.initHtml();this.initCss();this.initEvent()},initHtml:function(){this.logoContainer=$("<div></div>");this.largeLogo=$("<img src='"+bookConfig.appLargeLogoIcon+"'/>");bookConfig.appLargeLogoIcon||this.logoContainer.css({display:"none"});this.logoContainer.append(this.largeLogo);this.parent.append(this.logoContainer)},initCss:function(){this.logoContainer.removeAttr("style");this.largeLogo.removeAttr("style");this.logoContainer.css({display:"block",
position:"absolute","z-index":"100"});bookConfig.appLargeLogoURL&&this.largeLogo.css({cursor:"pointer"});switch(bookConfig.LargeLogoPosition){case "top-left":this.logoContainer.css({left:toolBar.getLeftWidth()+10+"px",top:toolBar.getTopHeight()+10+"px"});break;case "bottom-left":this.logoContainer.css({left:toolBar.getLeftWidth()+10+"px",bottom:toolBar.getBottomHeight()+10+"px"});break;case "top-right":this.logoContainer.css({right:toolBar.getRightWidth()+10+"px",top:toolBar.getTopHeight()+10+"px"});
break;case "bottom-right":this.logoContainer.css({bottom:toolBar.getBottomHeight()+10+"px",right:toolBar.getRightWidth()+10+"px"});break;case "top-middle":this.logoContainer.css({top:toolBar.getTopHeight()+10+"px",left:"50%",transform:"translateX(-50%)"});break;case "bottom-middle":this.logoContainer.css({bottom:toolBar.getBottomHeight()+10+"px",left:"50%",transform:"translateX(-50%)"})}bookConfig.isFixLogoSize&&(this.logoContainer.css({width:bookConfig.logoFixWidth+"px",height:bookConfig.logoFixHeight+
"px"}),this.largeLogo.css({width:"100%",height:"100%"}))},resetLogo:function(){bookConfig.appLargeLogoIcon&&(this.logoContainer.css({display:"block"}),this.largeLogo.attr("src",bookConfig.appLargeLogoIcon+"?"+(new Date).getTime()))},hideLargeLogo:function(){this.logoContainer.css({display:"none"})},onResize:function(a,b){},initEvent:function(){this.largeLogo.bind(_event._click,function(a){a.stopPropagation();bookConfig.appLargeLogoURL&&(BookEvent.trigger("jumpLink",["largeLogo",BookInfo.getCurrentPages().join("-"),
bookConfig.appLargeLogoURL])||window.open(bookConfig.appLargeLogoURL,"_"+bookConfig.LargeLogoTarget.toLowerCase()))}.bind(this))}});
Class("VolumeControlBar",{statics:{LEFT:1,TOP:2,RIGHT:3,BOTTOM:4,DEFAULT:5},create:function(a){global.bgSound&&!isPhone()&&!isPad()&&a&&(this.parent=a,this.initParam(),this.volumeBackground=$("<div class='volume-bar' style='visibility:hidden;z-index:1000'></div>"),this.volumeReduce=$("<img class='volume-reduce'  />"),this.volumeBar=$('<div class="volume-pgress"></div>'),this.volumeBg=$('<div class="volume-pgress-bg"></div>'),this.volumePoint=$("<span></span>"),this.volumeAdd=$("<img class='volume-add' />"),
this.parent.append(this.volumeBackground),this.volumeBackground.append(this.volumeReduce),this.volumeBar.append(this.volumePoint),this.volumeBg.append(this.volumeBar),this.volumeBackground.append(this.volumeBg),this.volumeBackground.append(this.volumeAdd),this.initEvent(),this.onResize(),this.initCss(),this.hide())},initParam:function(){this.length=58;this.rate=1;void 0!=bookConfig.bgSoundVol&&(this.rate=bookConfig.bgSoundVol/100);this.iconOn=this.visible=!0;this.initConfig()},initConfig:function(){VolumeControlBar.config||
(VolumeControlBar.config={direction:VolumeControlBar.DEFAULT,color:Color(bookConfig.toolbarColor).toString(),iconColor:Color(bookConfig.iconColor).toString()});this.deviation=VolumeControlBar.config.deviation||0;this.direction=VolumeControlBar.config.direction||VolumeControlBar.DEFAULT;this.color=VolumeControlBar.config.color||Color(bookConfig.toolbarColor).toString();this.iconColor=VolumeControlBar.config.iconColor||Color(bookConfig.iconColor).toString()},initCss:function(){this.setSrc(this.volumeAdd,
"soundAdd");this.setSrc(this.volumeReduce,"soundReduce");this.volumePoint.css({background:this.iconColor});this.volumeBar.css({cursor:"pointer"});this.volumeBg.css({cursor:"pointer"})},setSrc:function(a,b){toolbar_icons&&toolbar_icons[b]?a.attr("src","data:image/png;base64,"+toolbar_icons[b]):a.attr("src",uiBaseURL+b+".png");this.changeIconColor()},changeIconColor:function(){this.volumeAdd.changeButtonColor(this.iconColor);this.volumeReduce.changeButtonColor(this.iconColor)},volumeBarCSS:function(a){this.left=
a.left;this.top=a.top;switch(this.direction){case VolumeControlBar.LEFT:this.position=this.length-this.rate*this.length;this.top+=(a.height-30)/2+this.deviation;this.volumeBackground.css({top:this.top+"px",left:this.left-131+"px",width:"131px",height:"30px",background:this.color});this.volumeBg.css({position:"absolute",width:"70px",height:"10px",left:"30px",right:"auto",top:"10px",bottom:"auto"});this.volumeBar.css({width:"70px",height:"auto",border:"none","border-top":"2px solid "+this.iconColor,
top:"4px"});this.volumePoint.css({top:"-7px",left:this.position+"px"});this.volumeReduce.css({right:"0",top:"3px",left:"auto",bottom:"auto"});this.volumeAdd.css({left:"0",top:"3px",right:"auto",bottom:"auto"});break;case VolumeControlBar.TOP:this.position=this.length-this.rate*this.length;this.left+=(a.width-30)/2+this.deviation;this.volumeBackground.css({left:this.left+"px",top:this.top-131+"px",width:"30px",height:"131px",background:this.color});this.volumeBg.css({position:"absolute",height:"70px",
width:"10px",bottom:"30px",top:"auto",left:"10px",right:"auto"});this.volumeBar.css({height:"70px",width:"auto",top:"auto",border:"none","border-left":"2px solid "+this.iconColor,left:"4px"});this.volumePoint.css({left:"-7px",top:this.position+"px"});this.volumeReduce.css({left:"3px",bottom:"3px",right:"auto",top:"auto"});this.volumeAdd.css({right:"3px",top:"3px",left:"auto",bottom:"auto"});break;case VolumeControlBar.RIGHT:this.position=this.rate*this.length;this.top+=(a.height-30)/2+this.deviation;
this.volumeBackground.css({top:this.top+"px",left:this.left+a.width+"px",width:"131px",height:"30px",background:this.color});this.volumeBg.css({position:"absolute",width:"70px",height:"10px",left:"30px",right:"auto",top:"10px",bottom:"auto"});this.volumeBar.css({width:"70px",height:"auto",border:"none","border-top":"2px solid "+this.iconColor,top:"4px"});this.volumePoint.css({left:this.position+"px",top:"-7px"});this.volumeReduce.css({left:"0",top:"3px",right:"auto",bottom:"auto"});this.volumeAdd.css({right:"0",
top:"3px",left:"auto",bottom:"auto"});break;case VolumeControlBar.BOTTOM:this.position=this.rate*this.length;this.left+=(a.width-30)/2+this.deviation;this.volumeBackground.css({left:this.left+"px",top:this.top+a.height+"px",width:"30px",height:"131px",background:this.color});this.volumeBg.css({position:"absolute",height:"70px",width:"10px",bottom:"30px",top:"auto",left:"10px",right:"auto"});this.volumeBar.css({height:"70px",width:"auto",border:"none","border-left":"2px solid "+this.iconColor,left:"4px"});
this.volumePoint.css({left:"-7px",top:this.position+"px"});this.volumeReduce.css({left:"3px",top:"3px",right:"auto",bottom:"auto"});this.volumeAdd.css({right:"3px",bottom:"3px",left:"auto",top:"auto"});break;case VolumeControlBar.DEFAULT:this.volumeBackground.css({visibility:"hidden",opacity:"0"})}},setPosition:function(){this.change=this.startPosition=this.position=0;switch(this.direction){case VolumeControlBar.LEFT:this.leftPosition();break;case VolumeControlBar.TOP:this.topPosition();break;case VolumeControlBar.RIGHT:this.rightPosition();
break;case VolumeControlBar.BOTTOM:this.bottomPosition()}},onResize:function(){$(window).resize(function(){this.hide();this.direction=VolumeControlBar.config.direction||VolumeControlBar.DEFAULT;this.setPosition()}.bind(this))},initEvent:function(){this.parent.bind("click",function(a){a.stopPropagation();this.hide()}.bind(this));this.volumeBackground.bind("click",function(a){a.stopPropagation()}.bind(this));this.volumeBackground.bind("mouseenter",function(a){this.visible=!0;this.volumeBackground.css({visibility:"visbile",
opacity:"1"})}.bind(this));this.volumeBackground.bind("mouseleave",function(a){this.visible=!1;this.hide()}.bind(this));this.volumePoint.bind("click",function(a){a.stopPropagation()}.bind(this));this.volumeBg.bind("click",function(a){a.stopPropagation();this.direction==VolumeControlBar.RIGHT||this.direction==VolumeControlBar.LEFT?this.getRate(a.offsetX):this.getRate(a.offsetY);this.position=this.length-this.rate*this.length;this.volumePointCSS();this.setIcon();this.setVolume(this.rate)}.bind(this))},
getRate:function(a){this.rate=0>=this.length+12-a?0:58<=this.length+12-a?1:(this.length+12-a)/this.length},setEvent:function(){1==this.direction||3==this.direction?(this.volumePoint.bind("mousedown",function(a){a.stopPropagation();this.position=this.volumePoint.left();this.startPosition=a.pageX;this.focus=!0}.bind(this)),$("body").bind("mouseup",function(a){this.focus=!1}.bind(this))):(this.volumePoint.bind("mousedown",function(a){a.stopPropagation();this.position=this.volumePoint.top();this.startPosition=
a.pageY;this.focus=!0}.bind(this)),$("body").bind("mouseup",function(a){this.focus=!1}.bind(this)))},rightPosition:function(){this.setEvent();$("body").bind("mousemove",function(a){this.focus&&(this.startPosition&&(this.change=this.startPosition-a.pageX),this.position-=this.change,0<=this.position&&this.position<=this.length&&(this.rate=this.position/this.length,this.setIcon(),this.volumePointCSS()));this.startPosition=a.pageX}.bind(this));this.volumeAdd.unbind("click").bind("click",function(){this.position=
this.volumePoint.left()+5.8>this.length?this.length:this.volumePoint.left()+5.8;this.setIcon();this.volumePointCSS()}.bind(this));this.volumeReduce.unbind("click").bind("click",function(){this.position=0>this.volumePoint.left()-5.8?0:this.volumePoint.left()-5.8;this.setIcon();this.volumePointCSS()}.bind(this))},leftPosition:function(){this.setEvent();$("body").bind("mousemove",function(a){this.focus&&(this.startPosition&&(this.change=this.startPosition-a.pageX),this.position-=this.change,0<=this.position&&
this.position<=this.length&&(this.rate=(this.length-this.position)/this.length,this.setIcon(),this.volumePointCSS()));this.startPosition=a.pageX}.bind(this));this.volumeAdd.unbind("click").bind("click",function(){this.position=0>this.volumePoint.left()-5.8?0:this.volumePoint.left()-5.8;this.setIcon();this.volumePointCSS()}.bind(this));this.volumeReduce.unbind("click").bind("click",function(){this.position=this.volumePoint.left()+5.8>this.length?this.length:this.volumePoint.left()+5.8;this.setIcon();
this.volumePointCSS()}.bind(this))},topPosition:function(){this.setEvent();$("body").bind("mousemove",function(a){this.focus&&(this.startPosition&&(this.change=this.startPosition-a.pageY),this.position-=this.change,0<=this.position&&this.position<=this.length&&(this.rate=(this.length-this.position)/this.length,this.setIcon(),this.volumePointCSS()));this.startPosition=a.pageY}.bind(this));this.volumeAdd.unbind("click").bind("click",function(a){this.position=0>this.volumePoint.top()-5.8?0:this.volumePoint.top()-
5.8;this.setIcon();this.volumePointCSS()}.bind(this));this.volumeReduce.unbind("click").unbind("click").bind("click",function(a){this.position=this.volumePoint.top()+5.8>this.length?this.length:this.volumePoint.top()+5.8;this.setIcon();this.volumePointCSS()}.bind(this))},bottomPosition:function(){this.setEvent();$("body").bind("mousemove",function(a){this.focus&&(this.startPosition&&(this.change=this.startPosition-a.pageY),this.position-=this.change,0<=this.position&&this.position<=this.length&&(this.rate=
this.position/this.length,this.setIcon(),this.volumePointCSS()));this.startPosition=a.pageY}.bind(this));this.volumeAdd.unbind("click").bind("click",function(){this.position=this.volumePoint.top()+5.8>this.length?this.length:this.volumePoint.top()+5.8;this.setIcon();this.volumePointCSS()}.bind(this));this.volumeReduce.unbind("click").bind("click",function(){this.position=0>this.volumePoint.top()-5.8?0:this.volumePoint.top()-5.8;this.setIcon();this.volumePointCSS()}.bind(this))},setIcon:function(){this.direction==
VolumeControlBar.LEFT||this.direction==VolumeControlBar.TOP?this.position>=this.length?this.setIconOff():this.setIconOn():0>=this.position?this.setIconOff():this.setIconOn()},setIconOff:function(){this.iconOn=!1},setIconOn:function(){this.iconOn=!0},volumePointCSS:function(a){switch(this.direction){case VolumeControlBar.LEFT:this.volumePoint.css({left:this.position+"px"});this.setVolume((this.length-this.position)/this.length);break;case VolumeControlBar.TOP:this.volumePoint.css({top:this.position+
"px"});this.setVolume((this.length-this.position)/this.length);break;case VolumeControlBar.RIGHT:this.volumePoint.css({left:this.position+"px"});this.setVolume(this.position/this.length);break;case VolumeControlBar.BOTTOM:this.volumePoint.css({top:this.position+"px"}),this.setVolume(this.position/this.length)}},soundOn:function(a){this.setIconOn();this.setVolume(this.rate)},soundOff:function(a){this.setIconOff();global.bgSound.setVolume(0)},setVolume:function(a){!global.bgSound||isPhone()||isPad()||
(this.rate=a,bgSound.setVolume(a))},show:function(a){isPhone()||isPad()||(this.initConfig(),this.volumeBackground.css({visibility:"visible",opacity:"1"}),this.volumeBarCSS(a),this.setPosition(),this.visible=!1)},hide:function(){isPhone()||isPad()||(this.volumeBackground.css({visibility:"hidden",opacity:"0"}),this.visible=!0)}});
var BookInstructionsPage=Class({create:function(a,b){this.parent=a;this.initHtml(a,b);this.initCss();this.initEvent()},initHtml:function(a,b){this.container=$("<div class='bookInstructions helpPage'></div>");this.title=$("<h3 class='bookInstructions helpTitle'>"+this.getTitle()+"</h3>");this.image=$("<div class='bookInstructions helpPageImg'"+this.getImageURL(b)+"></div>");this.description=$("<div class='bookInstructions helpBottomText'>"+this.getDescription(b)+"</div>");this.container.append(this.title);
this.container.append(this.image);this.container.append(this.description);this.container.attr("bookInstructionPageNum",b);a.append(this.container)},initCss:function(){var a=Math.floor((windowWidth>windowHeight?windowHeight:windowWidth)/15);50<a?a=50:26>a&&(a=26);var b=Math.floor(.7*a);this.container.css({width:windowWidth+"px",height:windowHeight+"px"});this.title.css({margin:0,padding:0,"font-weight":"normal","font-family":"HelveticaNeue-CondensedBold, sans-serif",position:"relative",left:0,width:windowWidth+
"px","font-size":a+"px","line-height":a+"px",top:.05*windowHeight+"px",color:"#58A3EB"});this.description.css({"font-family":"HelveticaNeue-CondensedBold, sans-serif","font-size":b+"px","line-height":b+"px",position:"absolute",bottom:.15*windowHeight+"px",left:.1*windowWidth+"px",width:.8*windowWidth+"px",color:"#58A3EB"});this.image.css({width:windowWidth+"px",position:"absolute",top:.1*windowHeight+"px","margin-top":"15px",height:.6*windowHeight+"px"})},getImageURL:function(a){return"style='background: url("+
uiBaseURL+a+"-2x.png) no-repeat center  center ;background-size:contain;'"},getTitle:function(){return getLanguage("frmHowToUse","How to use")},getDescription:function(a){switch(a){case 1:return getLanguage("lblHelpPage1","Move your finger to flip the book page.");case 2:return getLanguage("lblHelpPage2","Zoom in by using gesture or double click on the page.");case 3:return getLanguage("lblHelpPage3","Click on the logo to reach the official website of the company.");case 4:return getLanguage("lblHelpPage4",
"Add bookmarks, use search function and auto flip the book.");case 5:return getLanguage("lblHelpPage5","Switch horizontal and vertical view on mobile devices.")}},onResize:function(){this.initCss()},initEvent:function(){var a=new Hammer.Manager(this.container[0]);a.add(new Hammer.Swipe({velocity:.03,threshold:.5}));a.on("swipeleft swiperight swipedown swipeup",function(b){if(bookConfig.upsideOnMobile())switch(b.type){case "swipeup":bookInstructions.toPreviousPage();break;case "swipedown":bookInstructions.toNextPage()}else switch(b.type){case "swipeleft":bookInstructions.toPreviousPage();
break;case "swiperight":bookInstructions.toNextPage()}}.bind(this))}}),BookInstructionsDot=Class({create:function(a,b){this.parent=a;this.id=b;this.initHtml();this.initCss();this.initEvent()},initHtml:function(){this.dot=$("<li ></li>");this.dot.attr("bookInstructionDotNum",this.id);1==this.id?this.dot.attr("class","bookInstructions icon_active"):"";this.parent.append(this.dot)},initCss:function(){var a=Math.floor((windowWidth>windowHeight?windowHeight:windowWidth)/30);30<a?a=30:15>a&&(a=15);this.dot.css({margin:"0 "+
Math.floor(a/5*4)+"px",width:a+"px",height:a+"px"})},onResize:function(){this.initCss()},initEvent:function(){(new Hammer(this.dot[0])).on("tap",function(){this.pageIndex=parseInt(this.dot.attr("bookInstructionDotNum"));bookInstructions.setCurrentPage(this.pageIndex)}.bind(this))}}),BookInstructions=Class({create:function(a){this.pageWidth=document.body.clientWidth;this.pageIndex=1;this.totalPageCount=5;this.closeSrc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzQyMUQ1MUVBRjlBMTFFNjk0NUZCNDY1NTgzODYzOTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzQyMUQ1MUZBRjlBMTFFNjk0NUZCNDY1NTgzODYzOTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NDIxRDUxQ0FGOUExMUU2OTQ1RkI0NjU1ODM4NjM5NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NDIxRDUxREFGOUExMUU2OTQ1RkI0NjU1ODM4NjM5NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PosYs0wAAABhSURBVHja7NRBCgAgCATAlP7/5e0SEZK6gdClhW46UEoCoFVGW3E+uIJ5ohxrPFC2Jg/b66gre6iLMW9o0RBjhyIs9mxtQA6KAi2WonqBUSult3uWoT1pYKb/f5viDAEGAD4SFiVn1efjAAAAAElFTkSuQmCC";
this.visible=!1;this.parent=a;this.pages=[];this.dotsArr=[];this.initHtml(a);this.initCss();this.initEvent()},initHtml:function(a){this.container=$("<div class='bookInstructions helpBody hide'></div>");this.swiper=$("<div class='bookInstructions swiper'></div>");this.dots=$('<ul class="bookInstructions helpBullet"></ul>');for(var b=1;5>=b;b++)this.pages.push(new BookInstructionsPage(this.swiper,b)),this.dotsArr.push(new BookInstructionsDot(this.dots,b));this.closeBtn=$('<span class="bookInstructions icon_drop" ><img src='+
this.closeSrc+"></span>");a.append(this.container);this.container.append(this.swiper);this.container.append(this.dots);this.container.append(this.closeBtn)},initCss:function(){var a=transformCSS({tran:{x:windowWidth,y:0}});this.container.css({"background-image":"url("+uiBaseURL+'bg.png")no-repeat',"background-position":"bottom"});this.container.css(a);this.resizeCss();a=transformCSS({tran:{x:0,y:0}});this.swiper.css(a)},resizeCss:function(){var a=windowWidth>windowHeight?windowHeight:windowWidth;
var b=Math.floor(a/30);35<b?b=35:15>b&&(b=15);a=Math.floor(a/16);48<a?a=48:30>a&&(a=30);var c=a/3;this.container.css({width:windowWidth+"px",height:windowHeight+"px"});this.swiper.css({width:5*windowWidth+"px",height:windowHeight+"px"});this.dots.css({"list-style":" none",padding:"0",margin:"0",position:" absolute",bottom:.05*windowHeight+"px",width:windowWidth+"px",height:b+"px","line-height":b+"px","z-index":" 100"});this.closeBtn.css({width:a+"px",height:a+"px","line-height":a+"px","font-size":a+
"px",cursor:"pointer",position:"absolute","border-radius":"50%",color:"#fff",right:c+"px",top:c+"px",background:"#7FCEFF","z-index":"100"})},onResize:function(){this.resizeCss();for(var a=0;a<this.dotsArr.length;a++)this.dotsArr[a].onResize(),this.pages[a].onResize();a=transformCSS({tran:{x:-(this.pageIndex-1)*windowWidth,y:0}});this.swiper.css(a)},toNextPage:function(){this.setCurrentPage(1<this.pageIndex-1?this.pageIndex-1:1)},toPreviousPage:function(){this.setCurrentPage(this.pageIndex+1>=this.totalPageCount?
this.totalPageCount:this.pageIndex+1)},setCurrentPage:function(a){this.pageIndex=a?a:this.pageIndex;a=transformCSS({tran:{x:-(this.pageIndex-1)*windowWidth,y:0}});animateOnce(this.swiper,a,300,null);this.dots.find("li").removeClass("icon_active");this.dots.find("li[bookInstructionDotNum="+this.pageIndex+"]").addClass("icon_active")},showOrhide:function(){this.visible?this.hide():this.show()},show:function(){this.visible=!0;this.container.removeClass("hide");var a=transformCSS({tran:{x:0,y:0}});animateOnce(this.container,
a,300,null)},hide:function(){this.visible=!1;var a=transformCSS({tran:{x:this.pageWidth,y:0}});animateOnce(this.container,a,300,function(){this.container.addClass("hide")}.bind(this))},showOrHide:function(){this.visible?this.hide():this.show()},initEvent:function(){this.container.bind("touchstart",function(a){a.preventDefault()});this.closeBtn.bind(_event._end,function(){this.hide()}.bind(this))},changeLanguage:function(){for(var a=0;a<this.pages.length;a++){var b=this.pages[a];b.title.html(b.getTitle());
b.description.html(b.getDescription(a+1))}}});
Class("FlipByAudio",{EMPTY_CONFIG:{audioType:0,audioFile:"",showPlayer:!1,items:[]},SINGLE_AUDIO:0,MULTIPLE_AUDIOS:1,create:function(a,b){this.parent=a;this.config=b||this.EMPTY_CONFIG;void 0==this.config.audioType&&(this.config.audioType=0);void 0==this.config.audioFile&&(this.config.audioFile="");void 0==this.config.showPlayer&&(this.config.showPlayer=!1);this.config.items||(this.config.items=[]);0!=this.itemLength()&&this.init()},itemLength:function(){return this.config.items.length},init:function(){this.$audio=
new Media($("<audio controls></audio>"),"audio");this.$audio.isPlaying=!1;this.audioIndex=0;this.config.audioType==this.SINGLE_AUDIO?(this.setSingleAudio(),this.initSingleAudioEvent()):(this.setMultipleAudio(this.audioIndex),this.initMultipleAudioEvent())},play:function(){if(this.$audio)try{this.$audio.play()}catch(a){}},playByTouch:function(){if(this.$audio&&!this.$audio.isPlaying)try{this.$audio.play(),this.$audio.isPlaying=!0}catch(a){}},playAfterFlip:function(){this.play.delay(this,1E3*bookConfig.flippingTime)},
start:function(){this.config.audioType==this.MULTIPLE_AUDIOS&&this.flipByIndex(0);this.playAfterFlip()},setSingleAudio:function(){this.$audio.$media.attr("src",this.config.audioFile)},setMultipleAudio:function(a){(a=this.config.items[a])&&this.$audio.$media.attr("src",a.audioData)},initSingleAudioEvent:function(){this.$audio.$media.bind("timeupdate",function(){try{var a=parseInt(this.getCurrentAudioData());this.$audio.$media[0].currentTime>=a&&(this.flipByIndex(this.audioIndex),this.audioIndex++)}catch(b){}}.bind(this))},
getCurrentAudioData:function(){return this.config.items[this.audioIndex].audioData},initMultipleAudioEvent:function(){this.$audio.$media.bind("ended",function(){this.audioIndex++;this.setMultipleAudio(this.audioIndex);this.flipByIndex(this.audioIndex);this.playAfterFlip()}.bind(this))},flipByIndex:function(a){this.config.items[this.audioIndex]&&(a=parseInt(this.config.items[this.audioIndex].pageIndex),0<=BookInfo.getCurrentPages().indexOf(a)||gotoPageFun(a,!1,"flip audio"))},playByIndex:function(a){this.config.audioType==
this.SINGLE_AUDIO?this.playByIndexForSingleAudio(a):this.playByIndexForMultipleAudio(a)},playByIndexForSingleAudio:function(a){var b=this.config.items[this.audioIndex];if(b&&(b=parseInt(b.pageIndex),0<=BookInfo.getCurrentPagesByIndex(a).indexOf(b)))return;for(var c=0;c<this.config.items.length;c++)if(b=this.config.items[c])if(b=parseInt(b.pageIndex),0<=BookInfo.getCurrentPagesByIndex(b).indexOf(a)){this.audioIndex=c;a=parseInt(this.getCurrentAudioData());this.$audio.$media[0].currentTime=a;break}},
playByIndexForMultipleAudio:function(a){var b=this.config.items[this.audioIndex];if(b&&(b=parseInt(b.pageIndex),0<=BookInfo.getCurrentPagesByIndex(a).indexOf(b)))return;for(var c=0;c<this.config.items.length;c++)if(b=this.config.items[c])if(b=parseInt(b.pageIndex),0<=BookInfo.getCurrentPagesByIndex(b).indexOf(a)){this.audioIndex=c;this.setMultipleAudio(c);this.playAfterFlip();break}}});global.textForPages||(global.textForPages=[]);global.positionForPages||(global.positionForPages=[]);
var highlightSearchFun=function(a,b){if(0!=positionForPages.length&&a){var c=!1;window.frmSearch&&frmSearch.visible&&0!=frmSearch.getList().length||(c=!0);var d=search_Text;""==d&&(c=!0);if(1!=c||isPhone()||isPad()){for(c=0;c<positionForPages.length;c++)if(positionForPages[c]&&positionForPages[c].page&&positionForPages[c].page==b){var e=positionForPages[c].positions;break}clearHighlightFun(a);if(e&&0<e.length&&(c=window.pageList&&pageList[b-1]?pageList[b-1]:{width:bookConfig.largePageWidth,height:bookConfig.largePageHeight},
c=new SearchTextHighlight(c.width,c.height,rightToLeft),c.loadFromPage(e),d=c.searchText(d),0<d.length)){e=new SearchHighlightDOM(a);for(c=0;c<d.length;c++){b=d[c].getRects();for(var f=0;f<b.length;){for(var g=[],h=0;4>h;h++)g[h]=b[f+h];e.addHighlight(g);f+=4}}a.css({display:"block"})}}else clearHighlightFun(a)}},clearHighlightFun=function(a){a.css({"background-image":""});a.css({display:"none"});a.empty()},SearchStrategy={create:function(a){this.parm=a},getSearchIndex:function(){},getPageOnSearch:function(){},
getSearchResult:function(){},handleTap:function(){}},SearchBookStrategy=Class({getSearchIndex:function(){return this.parm.search_page},getPageOnSearch:function(){return getShownPageNumber(this.parm.search_page)},getSearchResult:function(){return this.handleData(this.parm.search_text,this.parm.searchText)},handleTap:function(a){var b=this.getSearchIndex();a.gotoPage&&a.gotoPage(b)},handleData:function(a,b){a=HTMLString.toLabel(a).replaceAll("&lt;br&gt;","<br>");a=handleData(a,b);return HTMLString.riseAWord(a,
b,bookConfig.searchKeywordFontColor)}}).extend(SearchStrategy),CrossBookStrategy=Class({create:function(a){this._super(a);this.linkName=a.linkName;this.bookUrl=a.bookUrl;this.flag=!1;this.isSegmentedSearch=a.isSegmentedSearch;this.keyword=a.keyword;this.matchType=a.matchType},getSearchIndex:function(){return this.parm.pageNo},getPageOnSearch:function(){return this.parm.pageNo},removeSingleCharHighlight:function(a){var b=a.match(/<span class='highlight'>(.*?)<\/span>/g);if(!b)return a;var c=a;b.forEach(function(d,
e){var f=d.replace(/<span class='highlight'>|<\/span>/g,"");if(1===f.length){var g=a.indexOf(d);e===b.length-1?"</span>"!==a.slice(g,g-7)&&(c=c.replace(d,f)):"<span"!==a.slice(g+d.length,g+d.length+5)&&(c=c.replace(d,f))}});return c},countHighlightedChars:function(a){this.isSegmentedSearch&&1<bookConfig.leastSearchChar&&(a=this.removeSingleCharHighlight(a));a=a.match(/<span class='highlight'>(.*?)<\/span>/g);if(!a)return 0;var b=0;(1<bookConfig.leastSearchChar?[].concat($jscomp.arrayFromIterable(new Set(a))):
a).forEach(function(c){c=c.replace(/<span class='highlight'>|<\/span>/g,"");b+=c.length});return b},getSearchResult:function(){var a=this,b=this.parm.content.map(function(e){var f=a.countHighlightedChars(e);return{content:e,highlightCount:f}});if(this.isSegmentedSearch&&1<bookConfig.leastSearchChar){var c=b.filter(function(e){return 1<e.highlightCount});c=c.sort(function(e,f){return f.highlightCount-e.highlightCount})}else{var d=this.keyword.length;c=b.filter(function(e){return e.highlightCount===
d});0===c.length&&(c=b.filter(function(e){return 1<e.highlightCount}).sort(function(e,f){return f.highlightCount-e.highlightCount}))}return 0<c.length?HTMLString.toLabel(c[0].content).replaceAll("&lt;br&gt;","<br>").replaceAll("&lt;span class='highlight'&gt;","<span class='highlight'>").replaceAll("&lt;/span&gt;","</span>"):null},handleTap:function(a){var b=this.getSearchIndex(),c=getTarget();(void 0===c.bLink?"":c.bLink)===this.linkName?a.gotoPage&&a.gotoPage(b):(a=this.bookUrl.replace("http://",
"https://")+"?search="+this.keyword+"&match="+this.matchType+"#p="+b,window.open(a,"_blank"))}}).extend(SearchStrategy),AnalysisSearchCorss=Class({create:function(a){var b=this,c=void 0===a.matchType?1:a.matchType,d=void 0===a.callback?function(){}:a.callback;this.keyword=void 0===a.keyword?"":a.keyword;this.matchType=c;this.callback=d;bookConfig.isEncryptionBook&&!BookRestrict.open?("function"==typeof d&&d([],!0),BookEvent.bindEvent("fillBookRestrict",function(e,f){f&&b.getSearchData()})):this.getSearchData()},
getSearchData:function(){var a=this,b=_get(window,"website_domian_wc","https://www.yunzhan365.com"),c=_get(window.userInfo,"d","");$.ajax({type:"GET",url:b+"/api/book/cross-search",dataType:"json",data:{keyword:this.keyword,uLink:c,matchType:this.matchType},success:function(d){"OK"==d.code&&(a.data=d.data,"function"==typeof a.callback&&a.callback(d.data),1==a.matchType&&d.sumInfo&&d.sumInfo.analyze&&0<d.sumInfo.analyze.length&&(search_Text=d.sumInfo.analyze))},error:function(){"function"==typeof this.callback&&
this.callback()}})},getRestricted:function(){return bookConfig.isEncryptionBook&&!BookRestrict.open}}),search_Text="",SearchElements=Class({create:function(a){this._super(a);this.callBack=a;global.slideHightLightList={};this.initElements();this.initEvent(a);this.pickElements(a)},initElements:function(){this.searchButtonUrl=bookConfig.SearchButtonIcon?bookConfig.SearchButtonIcon:form_icons.search_form?"data:image/png;base64,"+form_icons.search_form:uiBaseURL+"search_form.png";this.searchList=[];this.searchText=
"";this.input=$("<input class='input_search' placeholder='"+FormInfo.getFormTitle("search")+"'></input>");bookConfig.RightToLeft&&this.input.attr("dir","rtl");this.searchButton=$("<img alt='searchButton' width='auto' height='auto' class='searchButton hover_background' src='"+this.searchButtonUrl+"'/>");this.$matchType=$('<div class="search-form-matchType"></div>');this.searchResult=$("<p class='result'></p>");this.restrictTips=$("<div class='restrictTips'>"+getLanguage("encrpytionSearchTips","The book has restricted access.<br/> Please obtain permission before searching")+
"</div>");this.restrictTips.css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",fontSize:"16px","line-height":1.5});this.initSwiper();this.isCrossBookSearch()&&this.initSwitchBtn()},initSwitchBtn:function(){this.matchType=2;var a=$("<span>"+getLanguage("searchMatchType","Chinese"==UserGroups?"\u5206\u8bcd\u641c\u7d22":"Split term search")+"</span>");this.$matchType.append(a);this.$matchSwitch=new Switch(this.$matchType,{class:"searchType",size:isPad()?
39:30,name:"matchType",defaultValue:2==this.matchType?0:1,onStatusColor:"#0076fe",onChange:this.onChange.bind(this)})},onChange:function(a,b){this.matchType=a?1:2;a=this.searchText;this.searchText="";this.search(a)},initSwiper:function(){this.searchSwiper=$("<div class='stage'></div>");this.searchSwiperList=$("<div class='swiper'></div>");this.searchSwiper.append(this.searchSwiperList);this.initPageHtml();isPhone()||isPad()?this.searchSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):
(this.searchSwiper.css({overflow:"hidden"}),this.progress=$("<div class='progress'></div>"),this.progressBar=$("<div class='progressBar'></div>"),this.searchSwiper.append(this.progress),this.progress.append(this.progressBar),this.searchSwiper.scroll({},Direction.top))},initPageHtml:function(){this.searchPageSwiper=$("<div class='pageStage' style='display:none;'></div>");this.pageResult=$("<p class='result'></p>");this.pageItem=$("<div class='pageItem' style='text-align:center;padding: 10px 0;'></div>");
this.thumb=$("<img style='width:120px;cursor:pointer;' />");this.noThumbBg=$("<div style='display:none;cursor:pointer;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";width:120px;height:156px;'></div>");if(isPhone()||isPad())this.thumb.css({width:"80px"}),this.noThumbBg.css({width:"80px",height:"104px"});this.thumb.onTap(function(){this.thumb.attr("id")&&((isPhone()||isPad()||global.frmSearch)&&global.frmSearch.hide(),gotoPageFun(this.thumb.attr("id"),!1,"search"))}.bind(this));this.noThumbBg.onTap(function(){this.noThumbBg.attr("index")&&
((isPhone()||isPad()||global.frmSearch)&&global.frmSearch.hide(),gotoPageFun(this.noThumbBg.attr("index"),!1,"search"))}.bind(this));this.searchPageSwiper.append(this.pageResult).append(this.pageItem.append(this.noThumbBg).append(this.thumb))},refreshSwiper:function(a,b){for(var c=b.length,d=0;d<c;d++)this.addItem(a,b[d])},addItem:function(a,b){b.searchText=this.searchText;b.fontColor=this.callBack.fontColor;a=new this.callBack.newSearchItem(a,b);this.searchList.push(a)},initEvent:function(){this.searchButton.onTap(function(){this.timer&&
(clearTimeout(this.timer),this.timer=null);this.searchStart()}.bind(this));this.input.bind("keydown",function(a){13==a.keyCode&&this.searchStart();a.stopPropagation()}.bind(this));this.input.bind("mousedown touchstart pointerdown mouseover mousemove touchmove touchstend",function(a){a.stopPropagation()});this.input.bind("focus",function(a){this.focus=!0}.bind(this));this.input.bind("blur",function(a){this.focus=!1}.bind(this));this.input.bind("keyup",function(a){a.stopPropagation();this.focus&&(this.timer&&
(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){this.searchStart();clearTimeout(this.timer);this.timer=null}.bind(this),1E3))}.bind(this))},refresh:function(){isPhone()||isPad()||this.searchSwiper.refreshData()},search:function(a,b){a&&"string"==typeof a&&(this.input.val(a),b&&(this.matchType=parseInt(b),this.$matchSwitch&&this.$matchSwitch.setValue(2!==this.matchType)),this.searchStart())},isSearchPage:function(a){return!isNaN(a)&&"error"!=a&&0<a&&a<=bookConfig.totalPageCount},
searchStart:function(){var a=this,b=this.input.val().trim(),c=window.location.href.split("#")[0].split("?")[0],d=new URLSearchParams(window.location.search);if(!b&&d.has("search"))d.delete("search");else{var e=b.replace(/[&=?<> ]/g,function(f){return encodeURIComponent(f)});d.set("search",e)}history.pushState({},"",c+(d.toString()?"?"+d.toString():"")+window.location.hash);c=b.toLowerCase();d=getRealPage(b);BookEvent.trigger("search",[BookInfo.getCurrentPages().join("-"),c,"search"]);this.searchText!=
c&&BookInfo.getBook().clearSearchHighlight();if(0==c.length)this.clear();else{this.isSearchPage(d)?this.searchByIndex(b):this.afterSearchText();if(0<bookConfig.leastSearchChar){if(c.length<bookConfig.leastSearchChar){this.searchResult.css({display:this.isSearchPage(d)?"none":"block"});this.searchList=[];this.searchSwiperList.empty();this.refresh();this.searchResult.html(getLanguage("pnlSearchInputInvalid","The search text is too short."));this.searchText=c;return}!this.isCrossBookSearch()&&this.searchResult.css({display:"block"})}this.searchText!=
c&&(search_Text=this.searchText=c,this.hideSwiperLoading(),this.searchSwiper&&this.searchSwiper.loading(),this._eventBound||(BookEvent.bindOnceEvent("encryptionAccessGranted",function(){a.clear();a.search(b)}),this._eventBound=!0),this.handleSearch(c))}},isCrossBookSearch:function(){return window.location.href.match("file:")||"Chinese"!==UserGroups||(isPhone()||isPad())&&"neat"===_get(htmlConfig,"phoneTemplate.name")?!1:_get(window.userInfo,"i",0)},handleSearch:function(a){this.isCrossBookSearch()?
this.analysisData=new AnalysisSearchCorss({keyword:a,matchType:this.matchType,callback:this.onCorssSearch.bind(this)}):(this.$matchType.css({display:"none"}),this.analysisData=new AnalysisSearch(a,this.doSearch.bind(this)))},searchByIndex:function(a){var b=getRealPage(a);b<=bookConfig.totalPageCount&&1<=b?(this.searchPageSwiper.css({display:"block"}),this.afterSearchThumbs(),rightToLeft?this.pageResult.html("<span style='color:"+bookConfig.searchKeywordFontColor+";'>"+a+"</span> :"+getLanguage("lblPage",
"Page")):this.pageResult.html(getLanguage("lblPage","Page")+": <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+a+"</span>"),this.thumb.attr("id",b),this.noThumbBg.attr("index",b),pageResourceLoad(b,"thumb",function(c){c.match(/^none/)?(this.noThumbBg.css({display:"block"}),this.thumb.attr("src","").css({display:"none"})):(this.thumb.attr("src",c).css({display:"inline-block"}),this.noThumbBg.css({display:"none"}))}.bind(this))):(this.afterSearchText(),this.searchPageSwiper.css({display:"none"}))},
freshSearchList:function(a){var b={};global.slideHightLightList={};window._matchEditorText&&window._matchEditorText(this.searchText).forEach(function(d,e){global.slideHightLightList[d.search_page]||(global.slideHightLightList[d.search_page]=d)});a.forEach(function(d,e){b[d.search_page]=d});for(var c in global.slideHightLightList)b[global.slideHightLightList[c].search_page]||(b[global.slideHightLightList[c].search_page]=global.slideHightLightList[c]);return Object.entries(b).map(function(d){d=$jscomp.makeIterator(d);
d.next();if(d=d.next().value)return d})},limitedCallback:function(){this.searchSwiper&&this.searchSwiper.hideLoading();(isPhone()||isPad())&&"neat"===_get(htmlConfig,"phoneTemplate.name")&&"Chinese"==UserGroups?toolBar.$searchPanel.createListEmpty(this.restrictTips):this.appendRestrictTips()},appendRestrictTips:function(){if(isPhone()||isPad())this.searchSwiper&&this.searchSwiper.css({height:"100%"}),this.searchResult&&this.searchResult.hide();this.searchSwiper.append(this.restrictTips)},setSearchBookItem:function(a){var b=
this;a&&a.length&&a.forEach(function(c,d){c=new SearchBookItem({data:c,parent:b.searchSwiperList,keyword:b.searchText,matchType:b.matchType});c.renderChildren(function(e,f){b.addItem(e,Object.assign({},f,{keyword:b.searchText,isSegmentedSearch:1==b.matchType,matchType:b.matchType}))});b.callBack.expandIconColor&&c.setCloseIconColor(b.callBack.expandIconColor);c.setExpanded(0===d)})},onCorssSearch:function(a,b){b?(this.limitedCallback(),BookEvent.trigger("searchEnd",[a,b])):(this.searchResult.css({display:"none"}),
this.hideSwiperLoading(),this.searchSwiperList.empty(),a&&a.length?(this.setSearchBookItem(a),this.refresh(),BookInfo.getBook().addSearchHighlight(),BookEvent.trigger("searchEnd",[a,b])):(this.refreshSwiper(this.searchSwiperList,[]),this.refresh(),this.searchResult.css({display:"block"}),rightToLeft?this.searchResult.html("<span style='color:"+bookConfig.searchKeywordFontColor+";'>"+a.length+"</span> "+getLanguage("lblPages","Found Pages")):this.searchResult.html(getLanguage("lblPages","Found Pages")+
" <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+a.length+"</span>")))},doSearch:function(a,b){b?this.limitedCallback():(a=this.freshSearchList(a),!a.length&&!isNaN(this.searchText)&&this.searchText<=bmtConfig.totalPageCount?this.searchResult.css({display:"none"}):this.searchResult.css({display:"block"}),this.hideSwiperLoading(),this.searchList=a,this.searchSwiperList.empty(),rightToLeft?this.searchResult.html("<span style='color:"+bookConfig.searchKeywordFontColor+";'>"+this.searchList.length+
"</span> "+getLanguage("lblPages","Found Pages")):this.searchResult.html(getLanguage("lblPages","Found Pages")+" <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+this.searchList.length+"</span>"),this.refreshSwiper(this.searchSwiperList,this.searchList),this.refresh(),BookInfo.getBook().addSearchHighlight());BookEvent.trigger("searchEnd",[a,b])},getSearchText:function(){return this.searchText},getList:function(){return this.searchList},clear:function(){$(".restrictTips")&&$(".restrictTips").remove();
search_Text=this.searchText="";this.input.val("");this.searchList=[];BookInfo.getBook().clearSearchHighlight();this.searchSwiperList.empty();this.hideSwiperLoading();this.searchResult.css({display:"block"});this.searchResult.html(getLanguage("frmSearchPrompt","Enter key to search."));this.refresh()},hideSwiperLoading:function(){this.searchSwiper&&this.searchSwiper.hideLoading&&this.searchSwiper.hideLoading()},pickElements:function(a){a.searchButtonUrl=this.searchButtonUrl;a.searchList=this.searchList;
a.searchText=this.searchText;a.input=this.input;a.searchButton=this.searchButton;a.searchResult=this.searchResult;a.searchSwiper=this.searchSwiper;a.searchSwiperList=this.searchSwiperList;a.progress=this.progress;a.progressBar=this.progressBar;a.searchPageSwiper=this.searchPageSwiper;a.pageResult=this.pageResult;this.afterSearchThumbs=a.afterSearchThumbs;this.afterSearchText=a.afterSearchText;a.search=this.search.bind(this);a.clear=this.clear.bind(this);a.restrictTips=this.restrictTips;a.$matchType=
this.$matchType;a.isCrossBookSearch=this.isCrossBookSearch.bind(this)},changeLanguage:function(){this.input.attr("placeholder",FormInfo.getFormTitle("search"));toolBar.edtPreSearch&&toolBar.edtPreSearch.find("input")[0]&&toolBar.edtPreSearch.find("input").val(getLanguage("btnSearch","Search"))}}).extend(FormElements),PcSearchFrame=Class({nailUpIcon:null,nailUpStatus:!1,create:function(a){this.elements=new SearchElements(this);this.expandIconColor="";this.nailUpStatus=bookConfig.isSearchFormNailUpEnabled;
this.initNailUpIcon();this._super(a)},onCreate:function(){this.initColorCss()},initColorCss:function(){this.stage.css({"background-color":this.mainColorObj.rgba(this.formOpacity),color:this.fontColor})},initHtml:function(){this.stage.addClass("win10_border");this.stage.append(this.title);this.stage.append(this.nailUpIcon);this.favicon&&(bookConfig.RightToLeft?this.title.append(this.favicon):this.title.prepend(this.favicon));bookConfig.SearchButtonIcon&&(this.searchButton=$("<img alt='searchButton' width='auto' height='auto' class='searchButton hover_background button' role='button' style='position:absolute;top:72px;right:25px;cursor:pointer;z-index:10;max-width:22px;max-height:22px;transform: translate(0, -50%);' src='"+
bookConfig.SearchButtonIcon+"'/>"));this.stage.append(this.close);this.stage.append(this.input);this.stage.append(this.searchButton);this.stage.append(this.searchPageSwiper);this.stage.append(this.searchResult);this.stage.append(this.$matchType);this.stage.append(this.searchSwiper);this.parent.append(this.stage)},newSearchItem:function(a,b){return new PcSearchItem(a,b)},onResize:function(){var a=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1);toolBar.getWidth();
var b=toolBar.getTopHeight()+10;this.width=250;this.height=a-87;this.maxHeight=this.height-96;this.stage.css({height:this.height+"px",top:b+"px"});this.searchSwiper.css("height",this.maxHeight+"px");this.elements.refresh()},afterSearchThumbs:function(){this.height=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1)-87;this.searchSwiper.css("height",this.height-287+"px")},afterSearchText:function(){this.height=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-
toolBar.getHeight(),1)-87;this.searchSwiper.css("height",this.height-96+"px");this.searchPageSwiper.css({display:"none"})},getList:function(){return this.elements.getList()},onShow:function(){this.changeIconColor();this.input.focus();BookInfo.getBook().addSearchHighlight();global.bookmark&&global.bookmark.visible&&global.bookmark.hide();global.frmTableOfContent&&global.frmTableOfContent.visible&&global.frmTableOfContent.hide()},onHide:function(){BookInfo.getBook().clearSearchHighlight()},initNailUpIcon:function(){this.nailUpIcon=
$("<img alt='nail up' role='button' width='auto' height='auto' class='button nailUp "+(this.nailUpStatus?"nailUpActive":"")+"' src='"+(form_icons.nailUp?"data:image/png;base64,"+form_icons.nailUp:uiBaseURL+"nailUp.png")+"'/>");this.nailUpIcon.bind(_event._click,function(){this.nailUpIcon.toggleClass("nailUpActive");this.nailUpStatus=!this.nailUpStatus;var a=$(".search_form").outerWidth(!0),b=parseInt(_get(global,"staticAd.adPosition",1));this.nailUpStatus?(bookConfig.leftMargin+=a+10,window.staticAd&&
window.staticAd.haveAd&&0<window.staticAd.data.length&&[1,2].includes(b)&&$("#slide-show").css({width:"calc(100% - 10px - "+a+"px)",right:"0px"})):(bookConfig.leftMargin-=a+10,window.staticAd&&window.staticAd.haveAd&&0<window.staticAd.data.length&&[1,2].includes(b)&&$("#slide-show").css({width:"100%",right:"0px"}));onStageResize()}.bind(this))},show:function(){this._super();if(this.nailUpStatus){var a=$(".search_form").outerWidth(!0);bookConfig.leftMargin+=a+10;onStageResize();var b=parseInt(_get(global,
"staticAd.adPosition",1));window.staticAd&&window.staticAd.haveAd&&0<window.staticAd.data.length&&[1,2].includes(b)&&$("#slide-show").css({width:"calc(100% - 10px - "+a+"px)",right:"0px"})}},hide:function(){this._super();if(this.nailUpStatus){var a=$(".search_form").outerWidth(!0);bookConfig.leftMargin-=a+10;onStageResize();a=parseInt(_get(global,"staticAd.adPosition",1));window.staticAd&&window.staticAd.haveAd&&0<window.staticAd.data.length&&[1,2].includes(a)&&$("#slide-show").css({width:"100%",
right:"0px"})}}}).extend(SlideForm),loadSearchFlag=!1,AnalysisSearch=Class({create:function(a,b){this.callback=b;this.results=[];this.search(a)},search:function(a){var b=this,c,d,e,f,g;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){switch(h.nextAddress){case 1:if(0!=loadSearchFlag){b.doSearch(a);h.jumpTo(0);break}return isTouchDevice()?h.yield(getArticleImage(fixURLValue(bookConfig.searchTextJS)),5):(e=d=!1,f=function(){d&&e&&(loadSearchFlag=!0,this.doSearch(a))}.bind(b),h.yield(getArticleImage(fixURLValue(bookConfig.searchTextJS)),
6));case 5:c=h.yieldResult;if(!c)return b.doSearch("",!0),h.return();loadJavascript(c,function(){loadSearchFlag=!0;this.doSearch(a)}.bind(b),function(){loadSearchFlag=!0;this.doSearch(a)}.bind(b));h.jumpTo(0);break;case 6:c=h.yieldResult;if(!c)return b.doSearch("",!0),h.return();loadJavascript(c,function(){d=!0;f()},function(){d=!0;f()});g=String.format(bookConfig.searchPositionJS,BookInfo.getCurrentPageIndex());return h.yield(getArticleImage(fixURLValue(g)),7);case 7:return g=h.yieldResult,g?h.yield(loadAndFixPositionScript(BookInfo.getCurrentPageIndex(),
g),8):(b.doSearch("",!0),h.return());case 8:e=!0,f(),h.jumpToEnd()}})},doSearch:function(a,b){this.results=searchFromPages(textForPages,a,"Chinese"===UserGroups);this.callback(this.results,b)},getList:function(){return this.results},clear:function(){this.results=[]}}),SearchItem=Class({create:function(a,b){this.fontColor=b.fontColor;this.parent=a;this.parm=b;this.isCrossBook=b.isCrossBook||!1;this.strategy=this.chooseStrategy(b);this.sDescription=this.strategy.getSearchResult();this.index=this.strategy.getSearchIndex();
this.sPage=this.strategy.getPageOnSearch();this.sDescription?(this.initHtml(),this.initStyle(),this.initEvent()):"function"==typeof b.emptyCallback&&b.emptyCallback()},chooseStrategy:function(a){return this.isCrossBook?new CrossBookStrategy(a):new SearchBookStrategy(a)},initHtml:function(){this.initElement();this.item.append(this.page);this.item.append(this.description);this.parent.append(this.item)},initElement:function(){this.item=$("<div class='item'></div>");rightToLeft?(this.page=$("<div class='page'>"+
this.sPage+":"+getLanguage("lblPage","Page")+"</div>"),LanguageTool.isRightToLeft(this.parm.search_text)?this.description=$("<div class='description rtl'>"+this.sDescription+"</div>"):this.description=$("<div class='description'>"+this.sDescription+"</div>")):(this.page=$("<div class='page'>"+getLanguage("lblPage","Page")+":"+this.sPage+"</div>"),this.description=$("<div class='description'>"+this.sDescription+"</div>"))},initStyle:function(){this.description.find(".highlight").css({color:bookConfig.searchKeywordFontColor})},
initEvent:function(){this.item.bind("mouseover",function(){this.item.css({"background-color":Color(this.fontColor).rgba(.25)})}.bind(this));this.item.bind("mouseleave",function(){this.item.css({"background-color":"transparent"})}.bind(this));this.item.onTap(this.onTapHandler.bind(this))},onTapHandler:function(){this.strategy.handleTap(this)},gotoPage:function(a){gotoPageFun(a,!1,"search");BookInfo.getBook().addSearchHighlight();(isPhone()||isPad())&&global.frmSearch.hide()}}),SearchBookItem=Class({create:function(a){this.parent=
a.parent;this.data=a.data;this.keyword=a.keyword;this.matchType=a.matchType;this.expanded=!1;this.render();this.bindEvent()},render:function(){var a=this.data,b=void 0===a.title?"":a.title,c=void 0===a.contents?[]:a.contents,d=void 0===a.book_url?"":a.book_url;a=getLanguage("lblPages","Found Pages");c=c.length;d=d.replace("http://","https://")+("?search="+this.keyword+"&match="+this.matchType);b=$('<div class="search-book-head">\n        <span class="search-book-title">\n          <a target="_blank" href="'+
d+'">\u300a<span title="'+b+'" >'+b+'</span>\u300b</a>\n        </span>\n       <span class="search-book-tips" >\n         '+a+" <span style='color:"+bookConfig.searchKeywordFontColor+";'>"+c+"</span>\n        "+toolbarSvgicons.arrow_down+"\n       </span>\n      </div>");a=$('<div class="search-book-item"></div>');c=$('<div class="search-book-content"></div>');a.append(b);a.append(c);this.bookHead=b;this.bookContent=c;this.closeIcon=this.bookHead.find("svg");this.bookItem=a;this.parent.append(a)},
renderChildren:function(a){var b=this,c=this.data;c=void 0===c.contents?[]:c.contents;for(var d=0;d<c.length;d++)"function"===typeof a&&a(this.bookContent,Object.assign({},c[d],{linkName:this.data.linkName||"",bookUrl:this.data.book_url||"",isCrossBook:!0,emptyCallback:function(){var e=b.bookHead.find(".search-book-tips span");e.text(e.text()-1);0==e.text()&&b.bookItem.remove()}}))},bindEvent:function(){var a=this;this.bookHead.find(".search-book-tips").on("click",function(b){b.stopPropagation();
a.expanded?a.closeIcon.css("transform","rotate(0deg)"):a.closeIcon.css("transform","rotate(180deg)");a.expanded=!a.expanded;a.bookContent.slideToggle(200,function(){global.frmSearch.onResize()})})},setExpanded:function(a){this.expanded=a;this.closeIcon.css("transform","rotate("+(a?"180deg":"0deg")+")");a?this.bookContent.show():this.bookContent.hide()},setCloseIconColor:function(a){this.closeIcon.css("fill",a)}}),PhoneSearchItem=Class({gotoPage:function(){gotoPageFun(this.index,!1,"search");BookInfo.getBook().addSearchHighlight();
(isPhone()||isPad())&&setTimeout(function(){global.frmSearch.hide()}.bind(this),1>bookConfig.flippingTime?1E3*bookConfig.flippingTime+100:bookConfig.flippingTime+100)}}).extend(SearchItem),PhoneSearchForm=Class({create:function(a){this.elements=new SearchElements(this);this._super(a)},onCreate:function(){this.stage.css({color:this.fontColor,"background-color":this.mainColorObj.rgba(this.formOpacity)});this.input.css({color:"#000000",opacity:1});var a=new Color(this.mainColor);String.format("%s %s %s %s",
a.reduce(40),a.reduce(40),a.add(40),a.add(40));isPhone()||isPad()?this.searchSwiper.css({"overflow-y":"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}):this.searchSwiper.css({overflow:"hidden"});this.favicon&&this.favicon.changeButtonColor(this.fontColor);this._super()},initHtml:function(){bookConfig.SearchButtonIcon&&(this.searchButton=$("<img alt='searchButton' width='auto' height='auto' class='searchButton hover_background button' role='button' style='max-width:22px;max-height:22px;' src='"+
bookConfig.SearchButtonIcon+"'/>"));this.container=$("<div class='phoneSearchStage' style='overflow:hidden auto;margin-top:10px;'></div>");this.title.append(this.close);this.stage.append(this.title);this.stage.append(this.input);this.stage.append(this.searchButton);this.searchSwiper.css({height:"auto"}).find(".swiper").css({position:"relative"});this.stage.append(this.$matchType);this.stage.append(this.container);this.container.append(this.searchPageSwiper).append(this.searchResult).append(this.searchSwiper)},
newSearchItem:function(a,b){return new PhoneSearchItem(a,b)},getList:function(){return this.elements.getList()},onShow:function(){this.favicon&&this.favicon.changeButtonColor(this.fontColor)},hide:function(){this._super();this.input.blur()},afterSearchThumbs:function(){this.height=windowHeight},afterSearchText:function(){this.height=windowHeight;this.searchPageSwiper.css({display:"none"})},onResize:function(){this._super();this.container.css("height",this.height-125+"px");this.searchPageSwiper.css("display");
this.input.css("width",this.width-75+"px");this.elements.refresh()},initEvent:function(){}}).extend(PhoneFormFrame);Class("LineABC",{create:function(a,b){this.a=b.y-a.y;this.b=a.x-b.x;this.c=b.x*a.y-a.x*b.y},distanceFrom:function(a){a=this.a*a.x+this.b*a.y+this.c;a=Math.abs(a);return a/Math.sqrt(this.a*this.a+this.b*this.b)}});
Class("LineSegment",{create:function(a,b){this.start=a;this.stop=b;this.degree=this.radians=this.distance=this.horizontal=this.vertical=0;this.computeLine()},computeLine:function(){this.vertical=this.stop.y-this.start.y;this.horizontal=this.stop.x-this.start.x;this.distance=Math.sqrt(this.vertical*this.vertical+this.horizontal*this.horizontal);0<this.distance&&(this.radians=Math.atan2(this.vertical,this.horizontal),this.degree=180*this.radians/Math.PI)},sin:function(){return equals(this.distance,
0)?0:this.vertical/this.distance},cos:function(){return equals(this.distance,0)?0:this.horizontal/this.distance},tan:function(){return equals(this.distance,0)?0:this.vertical/this.horizontal},ctan:function(){return equals(this.distance,0)?0:this.horizontal/this.vertical},isPoint:function(){return equals(this.distance,0)}});
Class("SearchTextItem",{create:function(){this.posIndex=-1;this.pageHeight=this.pageWidth=1;this.text="";this.points=[];this.widthList=[];this.textHeight=this.textWidth=0;this.box={left:0,top:0,right:0,bottom:0};this.line_height=this.line_width=null},refreshProperties:function(){var a=this.getPixelPoint(this.leftBottom()),b=this.getPixelPoint(this.rightBottom()),c=this.getPixelPoint(this.leftTop());this.line_width=new LineSegment(a,b);this.textWidth=this.line_width.distance*this.line_width.cos()/
this.pageWidth;this.line_height=new LineSegment(a,c);this.textHeight=this.line_height.distance*this.line_height.sin()/this.pageHeight;this.box.left=this.getMinX(this.points);this.box.top=this.getMinY(this.points);this.box.right=this.getMaxX(this.points);this.box.bottom=this.getMaxY(this.points);this.adjustWidthList()},adjustWidthList:function(){for(var a=!1,b=0;b<this.letterCount();b++)if(equals(this.widthList[b],0)){a=!0;break}if(a)for(a=this.textWidth/this.letterCount(),b=0;b<this.letterCount();b++)this.widthList[b]=
a;else if(!equals(this.line_width.degree,0)){for(b=a=0;b<this.letterCount()-1;b++)a+=this.widthList[b];this.widthList[this.letterCount()-1]=this.textWidth-a}},isLine:function(){return equals(this.textWidth,0)||equals(this.textHeight,0)},setText:function(a){a||(a="");this.text=a;this.setWidthListSize(a.length)},setWidthListSize:function(a){var b=this.widthList.length;if(a>b)for(var c=b;c<a;c++)this.widthList[c]=0;if(a<b){b=[];for(c=0;c<a;c++)b[c]=this.widthList[c];this.widthList=b}},getPixelPoint:function(a){return new Point(this.pageWidth*
a.x,this.pageHeight*a.y)},getRatioPoint:function(a){return new Point(a.x/this.pageWidth,a.y/this.pageHeight)},clone:function(a){this.pageWidth=a.pageWidth;this.pageHeight=a.pageHeight;this.text=a.text;for(var b=0;4>b;b++)this.points[b]=a.points[b].clone();this.widthList=[];for(b=0;b<a.letterCount();b++)this.widthList[b]=a.widthList[b];this.refreshProperties()},letterCount:function(){return this.widthList.length},getMaxX:function(a){for(var b=-1E8,c=0;4>c;c++)b=Math.max(b,a[c].x);return b},getMaxY:function(a){for(var b=
-1E8,c=0;4>c;c++)b=Math.max(b,a[c].y);return b},getMinX:function(a){for(var b=1E8,c=0;4>c;c++)b=Math.min(b,a[c].x);return b},getMinY:function(a){for(var b=1E8,c=0;4>c;c++)b=Math.min(b,a[c].y);return b},getMiddlePoint:function(a,b){return new Point((a.x+b.x)/2,(a.y+b.y)/2)},getMiddlePixelPoint:function(a,b){return new Point((a.x+b.x)/2*this.pageWidth,(a.y+b.y)/2*this.pageHeight)},leftBottom:function(){return this.points[0]},leftTop:function(){return this.points[3]},rightBottom:function(){return this.points[1]},
rightTop:function(){return this.points[2]},getSubTextWidth:function(a){var b=0;if(0>=a)return 0;a>this.letterCount()&&(a=this.letterCount());for(var c=0;c<a;c++)b+=this.widthList[c];return b},getSubTextPixelLength:function(a){var b=0;if(0>=a)return 0;a>this.letterCount()&&(a=this.letterCount());if(equals(this.line_width.cos(),0))b=this.line_width.distance*(a/this.letterCount())*this.line_width.sin();else for(var c=0;c<a;c++)b+=this.widthList[c]*this.pageWidth/this.line_width.cos();return b},getLettersRect:function(a,
b){var c=Math.max(a,b);a=this.getSubTextRect(Math.min(a,b));c=this.getSubTextRect(c+1);b=[];b[0]=a[1];b[3]=a[2];b[1]=c[1];b[2]=c[2];return b},getSubTextRect:function(a){var b=[],c=this.leftBottom(),d=this.leftTop(),e=this.getSubTextWidth(a),f=e*this.pageWidth;f=equals(this.line_width.cos(),0)?this.line_width.distance*(a/this.letterCount())/this.pageHeight*this.line_width.sin():f*this.line_width.tan()/this.pageHeight;a=new Point(c.x+e,c.y+f);e=new Point(d.x+e,d.y+f);b[0]=c;b[1]=a;b[2]=e;b[3]=d;return b},
getIndexByPoint:function(a,b){var c=-1;a=this.getPixelPoint(new Point(a,b));var d=this.getPixelPoint(this.leftBottom());b=this.getPixelPoint(this.rightBottom());var e=this.getPixelPoint(this.rightTop()),f=this.getPixelPoint(this.leftTop()),g=new LineABC(d,b);b=new LineABC(b,e);new LineABC(e,f);d=new LineABC(f,d);g=g.distanceFrom(a);e=b.distanceFrom(a);b=b.distanceFrom(a);a=d.distanceFrom(a);if(g<=this.line_height.distance&&e<=this.line_width.distance&&b<=this.line_height.distance&&a<=this.line_width.distance)for(b=
0;b<this.letterCount();){if(this.getSubTextPixelLength(b+1)>=a){c=b;break}b++}return c},getIndexRangeByArea:function(a){var b=-1,c=-1,d=Math.min(a.left,a.right),e=Math.min(a.top,a.bottom),f=Math.max(a.left,a.right);a=Math.max(a.top,a.bottom);for(var g=0;g<this.letterCount();g++){var h=this.getLettersRect(g,g);this.text.substr(g,1);var l=this.getMinX(h);var m=this.getMinY(h);var k=this.getMaxX(h);var n=this.getMaxY(h);h=Math.min(m,n);var p=Math.max(l,k);m=Math.max(m,n);l=Math.min(l,k)>f||p<d||h>a||
m<e;-1==b?l||(c=b=g):l||(c=g)}return-1==b||-1==c?null:{begin:b,end:c}},isSelected:function(a){var b=Math.min(a.left,a.right),c=Math.min(a.top,a.bottom),d=Math.max(a.top,a.bottom);return!(this.box.left>Math.max(a.left,a.right)||this.box.right<b||this.box.top>d||this.box.bottom<c)},isContains:function(a){if(!this.isSelected(a.box))return!1;var b=this.getOverlapArea(a.box);a=Math.min((b.right-b.left)/(a.box.right-a.box.left),(b.bottom-b.top)/(a.box.bottom-a.box.top));return Math.min((b.right-b.left)/
(this.box.right-this.box.left),(b.bottom-b.top)/(this.box.bottom-this.box.top))<a&&.8<a},getOverlapArea:function(a){return this.isSelected(a)?{left:Math.max(this.box.left,Math.min(a.left,a.right)),top:Math.max(this.box.top,Math.min(a.top,a.bottom)),right:Math.min(this.box.right,Math.max(a.left,a.right)),bottom:Math.min(this.box.bottom,Math.max(a.top,a.bottom))}:null},isSameAs:function(a){for(var b=0;4>b;b++)if(!this.points[b].equals(a.points[b]))return!1;return!0},relation:function(a){var b=new LineSegment(this.getMiddlePixelPoint(this.leftBottom(),
this.rightTop()),a.getMiddlePixelPoint(a.leftBottom(),a.rightTop())),c=new LineSegment(this.getMiddlePixelPoint(this.leftBottom(),this.leftTop()),a.getMiddlePixelPoint(a.rightBottom(),a.rightTop())),d=new LineSegment(this.getMiddlePixelPoint(this.rightBottom(),this.rightTop()),a.getMiddlePixelPoint(a.leftBottom(),a.leftTop())),e=d;c.distance<d.distance&&(e=c);c=e.distance;d=this.line_width.distance/this.letterCount();var f=Math.max(this.line_height.distance,a.line_height.distance);if(equals(this.line_width.degree,
0)&&equals(a.line_width.degree,0)&&Math.abs(this.leftBottom().y-a.leftBottom().y)>.8*f||c>=2.5*d)return SearchItemRelation.RETURN;if(this.isSelected(a.box)){if(equals(c,0))return SearchItemRelation.NEARBY;if(5>Math.abs(e.degree-b.degree)&&c>=.3*d)return SearchItemRelation.SPACE}else{if(c>=.5*d&&c<1.2*d)return 30<Math.abs(e.degree-b.degree)?SearchItemRelation.RETURN:SearchItemRelation.SPACE;if(c>=1.2*d&&c<2.5*d)return 15<Math.abs(e.degree-b.degree)?SearchItemRelation.RETURN:SearchItemRelation.DOUBLE_SPACE}return SearchItemRelation.NEARBY},
isSeparate:function(a){return equals(this.line_height.distance,a.line_height.distance)?!equals(this.box.bottom,a.box.bottom):!0}});Class("SearchRtlTextItem",{getLettersRect:function(a,b){a=this._super(a,b);b=this.leftBottom().x;var c=this.rightBottom().x;return LanguageTool.isRightToLeft(this.text)?this.flipRect(a,b,c):a},flipRect:function(a,b,c){var d=b+c-a[1].x;b=b+c-a[0].x;a[0].x=d;a[1].x=b;a[2].x=b;a[3].x=d;return a}}).extend("SearchTextItem");
Class("SearchTextPart",{create:function(a){this.endIndex=this.beginIndex=-1;this.item=a},getRect:function(){return this.item.getLettersRect(this.beginIndex,this.endIndex)},getText:function(){return this.item.text.substring(this.beginIndex,this.endIndex+1)},getBox:function(){var a=this.getRect();return{left:this.item.getMinX(a),top:this.item.getMinY(a),right:this.item.getMaxX(a),bottom:this.item.getMaxY(a)}}});
Class("SearchTextResult",{create:function(){this.parts=[]},add:function(a){this.parts.push(a)},count:function(){return this.parts.length},getText:function(){for(var a="",b=0;b<this.count();b++)if(a+=this.parts[b].getText(),b<this.count()-1){var c=this.parts[b].item.relation(this.parts[b+1].item);c==SearchItemRelation.SPACE&&(a+=" ");c==SearchItemRelation.DOUBLE_SPACE&&(a+="  ");c==SearchItemRelation.RETURN&&(a+="\r\n")}return a},getBox:function(){for(var a={left:1E8,top:1E9,right:-1E8,bottom:-1E8},
b=0;b<this.count();b++){var c=this.parts[b].getBox();a.left=Math.min(a.left,c.left);a.top=Math.min(a.top,c.top);a.right=Math.max(a.right,c.right);a.bottom=Math.max(a.bottom,c.bottom)}return a},getRects:function(){if(0==this.count())return[];for(var a=4,b=0,c=[],d=this.parts[0],e,f=0;f<this.count();f++){var g=this.parts[f];if(f<this.count()-1){var h=this.parts[f+1];e=g.item.relation(h.item);var l=g.item.isSeparate(h.item);if(e!=SearchItemRelation.NEARBY||l)e=g,g=d.getRect(),e=e.getRect(),c[b]=g[0].x<
e[0].x?g[0]:e[0],c[b+1]=e[1].x>g[1].x?e[1]:g[1],c[b+2]=e[2].x>g[2].x?e[2]:g[2],c[b+3]=g[3].x<e[3].x?g[3]:e[3],b=a,a+=4,d=h}else e=g,g=d.getRect(),e=e.getRect(),c[b]=g[0].x<e[0].x?g[0]:e[0],c[b+1]=e[1].x>g[1].x?e[1]:g[1],c[b+2]=e[2].x>g[2].x?e[2]:g[2],c[b+3]=g[3].x<e[3].x?g[3]:e[3]}return c}});
Class("SearchTextList",{create:function(){this.textItems=[];this.continuousText=""},add:function(a){this.textItems.push(a);this.refreshContinuousText()},clear:function(){this.textItems=[];this.continuousText=""},itemCount:function(){return this.textItems.length},cleanOverlappedItems:function(){for(i=0;i<this.itemCount()-1;i++)for(var a=this.textItems[i],b=i+1;b<this.itemCount();){var c=this.textItems[b];if(a.isContains(c)){var d=a.getIndexRangeByArea(c.box);if(d){var e=a.text,f=c.text.trim(),g=e.substring(d.begin,
d.end+1);if(g.trim().length){for(var h=0;h<g.length&&" "!=g.charAt(h);h++)d.begin+=1;for(h=g.length-1;0<=h&&" "!=g.charAt(h);h--)--d.end}d.end=Math.min(d.end,d.begin+f.length-1);g=e.substring(0,d.begin);d=e.substring(d.end+1,e.length);e=g+f+d;a.text=e;this.textItems.removeElement(c)}else b++}else b++}this.refreshContinuousText()},refreshContinuousText:function(){this.continuousText=this.getContinuousText()},getContinuousText:function(){for(var a="",b=0;b<this.itemCount();b++){var c=this.textItems[b];
c.posIndex=a.length;a+=c.text.toLowerCase()}return a},search:function(a){var b=[];if(""==a.trim())return[];a=a.toLowerCase();for(var c=this.searchFrom(a,0,b);-1<c;)c=this.searchFrom(a,c,b);return b},searchFrom:function(a,b,c){var d=this.getTextForSearch(b);if(!d)return-1;var e=a.length;if("Chinese"===UserGroups){d=d.indexOf(a);if(-1==d){if(-1==a.indexOf(" ")||!this.match(a,b))return-1;d=a.split(" ");a=b;for(b=0;b<d.length;b++)(e=d[b])&&(a=this.searchFrom(e,a,c));return a}d=b+d;a=d+e-1;e=new SearchTextResult;
for(b=0;b<this.itemCount();b++){var f=this.textItems[b],g=f.posIndex,h=f.posIndex+f.letterCount()-1;if(!(h<d)){if(g>a)break;h=new SearchTextPart(f);h.beginIndex=Math.max(0,d-g);h.endIndex=Math.min(f.letterCount()-1,a-g);e.add(h)}}}else{d=d.indexOf(a);if(-1==d)return-1;d=b+d;a=d+e-1;e=new SearchTextResult;for(b=0;b<this.itemCount();b++)if(f=this.textItems[b],g=f.posIndex,h=f.posIndex+f.letterCount()-1,!(h<d)){if(g>a)break;h=new SearchTextPart(f);h.beginIndex=Math.max(0,d-g);h.endIndex=Math.min(f.letterCount()-
1,a-g);e.add(h)}}c.push(e);return a+1},match:function(a,b){var c=this.getTextForSearch(b);if(!c)return!1;if("Chinese"===UserGroups){a=a.split(" ");for(var d=0;d<a.length;d++){var e=a[d];if(e){c=c.indexOf(e);if(-1==c)return!1;c=this.getTextForSearch(b+c+e.length)}}return!0}return-1!==c.indexOf(a)},getTextForSearch:function(a){var b=this.continuousText.length-a;return 0>=b?"":this.continuousText.substr(a,b)},select:function(a,b){return b?this.selectByColumnMode(a):this.selectByLineMode(a)},selectByLineMode:function(a){for(var b=
new SearchTextResult,c=-1,d=-1,e=0;e<this.itemCount();e++){var f=this.textItems[e];if(f.isSelected(a)){c=e;break}}for(e=this.itemCount()-1;0<=e;)if(f=this.textItems[e],f.isSelected(a)){d=e;break}else e--;if(-1<c&&-1<d)for(e=c;e<=d;e++){f=this.textItems[e];var g=new SearchTextPart(f);g.beginIndex=0;g.endIndex=f.letterCount()-1;if(e==c||e==d){f=f.getIndexRangeByArea(a);if(!f)continue;e==c&&(g.beginIndex=f.begin);e==d&&(g.endIndex=f.end)}b.add(g)}return b},selectByColumnMode:function(a){for(var b=new SearchTextResult,
c=0;c<this.itemCount();c++){var d=this.textItems[c];if(d.isSelected(a)){var e=new SearchTextPart(d);if(d=d.getIndexRangeByArea(a))e.beginIndex=d.begin,e.endIndex=d.end,b.add(e)}}return b}});
Class("SearchTextHighlight",{create:function(a,b,c){this.pageWidth=a;this.pageHeight=b;this.rightToLeft=c;this.searchTextList=new SearchTextList},loadFromPage:function(a){if(a&&0!=a.length){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=this.rightToLeft?new SearchRtlTextItem:new SearchTextItem;d.pageWidth=this.pageWidth;d.pageHeight=this.pageHeight;void 0!=c.word?this.loadFromOldConfig(d,c):this.loadFromNewConfig(d,c);d.refreshProperties();d.isLine()||this.searchTextList.add(d)}}this.searchTextList.cleanOverlappedItems()}},
loadFromOldConfig:function(a,b){a.setText(b.word);a.points[0]=new Point(b.left,b.top+b.height);a.points[1]=new Point(b.left+b.width,b.top+b.height);a.points[2]=new Point(b.left+b.width,b.top);a.points[3]=new Point(b.left,b.top)},loadFromNewConfig:function(a,b){a.setText(b.w);b=b.p||[];for(var c=0;4>c;c++)a.points[c]=new Point(b[2*c]||0,b[2*c+1]||0);if(!(8>=b.length)){for(c=8;c<b.length;c++)a.widthList[c-8]=b[c];this.rightToLeft&&a.widthList.reverse()}},searchText:function(a){try{if("string"==typeof a)return this.searchTextList.search(a);
for(var b=[],c=0;c<a.length;c++)if(a[c]&&!(1>=a[c].length)){var d=this.searchTextList.search(a[c]);d&&(b=b.concat(d))}return b}catch(e){return[]}},selectText:function(a){return this.searchTextList.select(a)}});
Class("SearchHighlightDOM",{create:function(a){this.content=a;this.contentWidth=a.width();this.contentHeight=a.height()},addHighlight:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=new Point(a[c].x*this.contentWidth,a[c].y*this.contentHeight);c=new LineSegment(b[0],b[1]);var d=new LineSegment(b[0],b[3]);b=c.distance/this.contentWidth*100;d=d.distance/this.contentHeight*100;var e=100*a[0].x;a=100*a[0].y-d;c=c.degree;var f=$("<div></div>");f.css({position:"absolute",left:e+"%",top:a+"%",width:b+"%",
height:d+"%","background-color":Color(bookConfig.searchHightlightColor).rgba(.6),transform:"rotate("+c+"deg)","-webkit-transform":"rotate("+c+"deg)","-ms-transform":"rotate("+c+"deg)","-o-transform":"rotate("+c+"deg)","-moz-transform":"rotate("+c+"deg)","transform-origin":"0% 0%","-webkit-transform-origin":"0% 100%","-ms-transform-origin":"0% 100%","-o-transform-origin":"0% 100%","-moz-transform-origin":"0% 100%"});this.content.append(f)}});
Class("ChatbotPanel",{isResizing:!1,isDraging:!1,create:function(a){this.parent=a;this.visible=!1;this.initChatBotBtn();this.initHtml();this.initEvent()},initChatBotBtn:function(){var a=this,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){b=bookConfig.chatBotButtonIcon||uiBaseURL+"chatbot.png";a.chatBotBtn=$("<div id='chatbotBtn' tabindex='0' role='button' class='chatbot-btn' >\n    <img src='"+b+"'/>\n    </div>");a.chatBotBtnTips=$("<div class='chatbot-btn-tips' tabindex='0' role='button'>\n        <div class='chatbot-btn-beckon' >\n          <img class='beckon-icon' src='"+
uiBaseURL+"beckon.png'/>\n          <span>"+getLanguage("chatbotBtnTips","Hi~ Ask me about the book, or anything!")+"</span>\n        </div>\n        <img class='close-icon' src='"+uiBaseURL+"close-icon.png'/>\n    </div>");a.chatBotBtnTips.css({display:"none","box-sizing":"border-box","z-index":98,padding:"0 17px",height:"56px",textAlign:"center",background:"#fff",borderRadius:"16px","font-size":"16px",color:"#333","font-weight":"400","justify-content":"space-between","align-items":"center","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.1)",
gap:"8px","font-family":"Calibri,Helvetica,sans-serif","max-width":"100%"});768>window.innerWidth&&(a.chatBotBtn.css({right:"25px"}),a.chatBotBtnTips.css({padding:"10px",width:"60%",height:"initial"}));a.chatBotBtnTips.find(".beckon-icon").css({"box-sizing":"border-box",width:"18px",height:"21px",verticalAlign:"middle","flex-shrink":0});a.chatBotBtnTips.find(".close-icon").css({"box-sizing":"border-box",width:"10px",height:"10px",cursor:"pointer","flex-shrink":0});a.setBtnSize();a.handleBtnDrag({$el:a.chatBotBtn[0],
parent:a.parent,callback:a.beforeShow.bind(a)});a.chatBotBtn.on("keydown",function(d){if("Enter"===d.key||13===d.keyCode)d.preventDefault(),a.beforeShow(d)});c.jumpToEnd()})},setBtnSize:function(){var a=this,b=bookConfig.chatBotButtonIconHeight;this.chatBotBtn.css({"z-index":"98",position:"absolute",bottom:"80px",right:"50px","box-sizing":"border-box",height:b+"px",border:0,background:"transparent",borderRadius:"50%",overflow:"hidden"});this.chatBotBtn.find("img").css({"box-sizing":"border-box",width:"100%",
height:"100%",pointerEvents:"none"});var c=this.chatBotBtn.find("img")[0];c.complete?this.chatBotBtn.css({width:c.naturalWidth*b/c.naturalHeight+"px"}):(c.addEventListener("load",function(){a.chatBotBtn.css({width:c.naturalWidth*b/c.naturalHeight+"px"})}),c.onerror=function(){console.log("iconImg onerror")})},showChatBotBtnTips:function(){var a=this,b=this.chatBotBtn[0].getBoundingClientRect();this.parent.append(this.chatBotBtnTips);this.chatBotBtnTips.fadeIn();this.isChatBotBtnTipsVisible=!0;this.chatBotBtnTips.css({display:"flex",
"box-sizing":"border-box",position:"absolute",bottom:window.innerHeight-b.bottom+"px",right:window.innerWidth-b.left+8+"px",cursor:"pointer"});this.chatBotBtnTips[0].addEventListener("click",function(c){c.target===a.chatBotBtnTips.find(".close-icon")[0]?(a.hidePopupTips(),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"chatbot","close chatBot tips"])):a.beforeShow()});this.chatBotBtnTips.on("keydown",function(c){if("Enter"===c.key||13===c.keyCode)c.preventDefault(),a.beforeShow(c)})},
handleBtnDrag:function(a){function b(n){this.isDraging=!0;m=e.getBoundingClientRect();n=n.center;h=n.x-m.x;l=n.y-m.y;$(e).css({cursor:"move"})}function c(n){if(this.isDraging){var p=n.center;n=f.width();var q=f.height(),r=e,t=$(r).outerWidth(),u=$(r).outerHeight();r=k.isChatBotBtnTipsVisible?p.x-h:p.x-t/2;p=k.isChatBotBtnTipsVisible?p.y-l:p.y-u/2;r=Math.min(n-t,Math.max(0,r));p=Math.min(q-u,Math.max(0,p));newRight=Math.min(n-r-t,Math.max(n,r));newBottom=Math.min(q-p-u,Math.max(q,p));$(e).css({left:r+
"px",top:p+"px",right:"initial",bottom:"initial"});k.chatBotBtnTips[0]&&(n=k.chatBotBtnTips[0].getBoundingClientRect(),k.chatBotBtnTips.css({left:r-n.width-8+"px",right:"initial",bottom:window.innerHeight-p-m.height+"px"}))}}function d(){this.isDraging=!1;$(e).css({cursor:"pointer"})}var e=a.$el,f=a.parent,g=a.callback;a=new Hammer(e);a.add(new Hammer.Pan({threshold:0,pointers:0}));var h=0,l=0,m,k=this;a.on("panstart panmove panend",function(n){n.preventDefault();switch(n.type){case "panstart":b(n);
break;case "panmove":c(n);break;case "panend":d(n)}});a.on("tap",function(n){g&&g(n)})},hidePopupTips:function(){this.chatBotBtnTips&&(this.isChatBotBtnTipsVisible=!1,this.chatBotBtnTips.fadeOut(),this.setPopupTipsVisible("false"))},getPopupTipsVisible:function(){var a=getHashParams("chatbotVisible"),b=GetQueryString("chatbot");if(b&&"1"==b||a&&"true"==a)return!1;try{var c=window.localStorage.getItem("isChatbotPopupTipsVisible");return c?JSON.parse(c):!0}catch(d){}},setPopupTipsVisible:function(a){try{window.localStorage.setItem("isChatbotPopupTipsVisible",
a)}catch(b){}},handleBoxDrag:function(a){function b(m){this.isDraging=!0;var k=g.getBoundingClientRect();m=m.center;h=m.x-k.x;l=m.y-k.y;$(e).css({cursor:"move",width:"100%",height:"100%"})}function c(m){if(this.isDraging){var k=m.center;m=f.width();var n=f.height(),p=$(g).outerWidth(),q=$(g).outerHeight(),r=k.x-h;k=k.y-l;r=Math.min(m-p,Math.max(0,r));k=Math.min(n-q,Math.max(0,k));$(g).css({bottom:"initial",right:"initial",left:r+"px",top:k+"px"})}}function d(){this.isDraging=!1;$(e).css({cursor:"pointer",
width:"80%",height:"50px"})}var e=a.$ele,f=a.parent,g=a.$box;a=new Hammer(e);a.add(new Hammer.Pan({threshold:0,pointers:0}));var h=0,l=0;a.on("panstart panmove panend",function(m){m.preventDefault();switch(m.type){case "panstart":b(m);break;case "panmove":c(m);break;case "panend":d(m)}})},beforeShow:function(a){this.hidePopupTips();BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"chatbot","chatbot button"]);this.showOrHide()},isRtl:function(){var a,b,c=/^(hebrew|arabic)$/.test(null==
(a=selectedLanguage)?void 0:null==(b=a.language)?void 0:b.toLowerCase());return bookConfig.RightToLeft||c},initHtml:function(){this.container=$('<div class="chatbot-container"></div>');this.chatbotBox=$('<div id="chatbotBox" class="chatbot-box"></div>');this.chatbotDrag=$('<div id="draggableBox" class="chatbot-drag"></div>');this.chatbotResize=$('<div id="resizableBox" class="chatbot-resize"></div>');this.resizeLeft=$('<div class="chatbot-resize-item chatbot-resize-left"></div>');this.resizeRight=
$('<div class="chatbot-resize-item chatbot-resize-right"></div>');this.resizeTop=$('<div class="chatbot-resize-item chatbot-resize-top"></div>');this.resizeBottom=$('<div class="chatbot-resize-item chatbot-resize-bottom"></div>');this.resizeMask=$('<div class="chatbot-resize-mask"></div>');var a=_get(window,"website_domian_wc","https://fliphtml5.com"),b=removeUrlParts(window.location.href);bookConfig.socialShareLink&&(b=bookConfig.socialShareLink);var c=getMetaTagValueByName("description"),d=getMetaTagValueByName("keywords");
a+="/chatbot/chatbot.php";b=Metacharacter(b);d=Metacharacter(d);c=Metacharacter(c);var e=this.isRtl()?"1":"0",f,g,h=(null==(f=selectedLanguage)?void 0:null==(g=f.language)?void 0:g.toLowerCase())||"english";this.frame=$("<iframe id='chatbotIframe' allow=\"microphone\" class='chatbot-frame' src='"+(a+"?url="+b+"&desc="+c+"&keyword="+d+"&isRtl="+e+"&lang="+h)+"' ></iframe>");this.container.append(this.chatbotBox);this.container.append(this.chatBotBtn);this.parent.append(this.container);this.chatbotBox.css({"box-sizing":"border-box",
"z-index":9999,position:"absolute",right:"120px",bottom:"50px",width:"421px",height:"740px",opacity:0,visibility:"hidden","border-radius":"12px"});this.chatbotResize.append(this.frame);this.chatbotResize.append(this.resizeLeft);this.chatbotResize.append(this.resizeRight);this.chatbotResize.append(this.resizeTop);this.chatbotResize.append(this.resizeBottom);this.chatbotResize.append(this.resizeMask);this.chatbotBox.append(this.chatbotDrag);this.chatbotBox.append(this.chatbotResize);this.initResizeCss();
this.chatbotDrag.css({width:"80%",left:"50%",transform:"translateX(-50%)"})},initEvent:function(){var a=this;window.addEventListener("message",function(b){var c=(null==b?void 0:b.data)||{},d=void 0===c.eventName?"":c.eventName;b=void 0===c.data?{}:c.data;if("chatbot"===(void 0===c.type?"":c.type).toLowerCase())switch(d){case "close":a.hide();break;case "changePage":b.page&&gotoPageFun(b.page);break;case "setPrompt":a.setPrompt(b);break;case "getShownPageNumber":b.realPages&&0<b.realPages.length&&
(c=b.realPages.map(function(e){return getShownPageNumber(e)}),a.postMessage({eventName:"setShownPageNumber",type:"chatBot",data:Object.assign({},{shownPages:c},b)}));break;case "getRealPageNumber":b.shownPages&&0<b.shownPages.length&&(c=b.shownPages.map(function(e){return getRealPageNumber(e)}),a.postMessage({eventName:"setRealPageNumber",type:"chatBot",data:Object.assign({},{realPages:c},b)}))}});this.handleResize()},setPrompt:function(a){var b=this;a=void 0===a.greeting?"":a.greeting;var c=this.chatBotBtnTips.find(".chatbot-btn-beckon");
c&&c.empty().text(a);this.getPopupTipsVisible()&&(a=this.chatBotBtn.find("img")[0],a.complete?this.showChatBotBtnTips():a.addEventListener("load",function(){b.showChatBotBtnTips()}))},handleResize:function(){function a(k,n){function p(u){this.isResizing=!0;g=u.center.x;h=u.center.y;l=c.width();m=c.height();switch(n){case "right":c.css({right:"initial",left:u.center.x-l+"px"});break;case "left":c.css({right:"initial",left:u.center.x+"px"});break;case "top":c.css({bottom:"initial",top:u.center.y+"px"});
break;case "bottom":c.css({bottom:"initial",top:u.center.y-m+"px"})}$(k).css({cursor:"move"});d.css({display:"block"});b.frame.css({"box-shadow":"none",border:"none"})}function q(u){if(this.isResizing){var x=Math.min(u.center.x-g,e),v=Math.min(u.center.y-h,f);if(!(u.center.x>e||u.center.y>f||0>u.center.x||0>u.center.y))switch(n){case "right":c.css({width:l+x+"px"});break;case "left":c.css({left:u.center.x+"px",width:l-x+"px"});break;case "top":c.css({top:u.center.y+"px",height:m-v+"px"});break;case "bottom":c.css({height:m+
v+"px"})}}}function r(){this.isResizing=!1;"left"!=n&&"right"!=n||$(k).css({cursor:"ew-resize"});"top"!=n&&"bottom"!=n||$(k).css({cursor:"ns-resize"});d.css({display:"none"});b.frame.css({"box-shadow":"0 0 20px 0 rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0,0,0,0.1)"})}var t=new Hammer(k);t.add(new Hammer.Pan({threshold:0,pointers:0}));t.on("panstart panmove panend",function(u){u.preventDefault();switch(u.type){case "panstart":p(u);break;case "panmove":q(u);break;case "panend":r(u)}})}document.querySelectorAll(".chatbot-resize-item").forEach(function(k){var n=
k.classList[1].split("-")[2];a(k,n)});var b=this,c=this.chatbotBox,d=this.resizeMask,e=this.parent.width(),f=this.parent.height(),g=0,h=0,l=0,m=0},initResizeCss:function(){this.resizeMask.css({display:"none",position:"absolute",left:0,top:0,right:0,bottom:0,"z-index":1E3});this.resizeLeft.css({position:"absolute",left:0,top:0,bottom:0,width:"5px",height:"100%",cursor:"ew-resize","z-index":1E3});this.resizeRight.css({position:"absolute",right:0,top:0,bottom:0,width:"5px",height:"100%",cursor:"ew-resize",
"z-index":1E3});this.resizeTop.css({position:"absolute",left:0,top:0,right:0,height:"5px",width:"100%",cursor:"ns-resize","z-index":1E3});this.resizeBottom.css({position:"absolute",left:0,bottom:0,right:0,width:"100%",height:"5px",cursor:"ns-resize","z-index":1E3})},showOrHide:function(){this.visible?this.hide():this.show()},show:function(){var a=this;this.visible||(this.visible=!0,this.chatbotBox.css({opacity:1,visibility:"visible"}),this.handleBoxDrag({$ele:this.chatbotDrag[0],parent:this.parent,
$box:this.chatbotBox[0]}),this.postMessage({messageType:"show"}),setTimeout(function(){a.focusIframe()},100),FormManager.register(this))},hide:function(){var a=this;this.visible&&(this.visible=!1,this.chatbotBox.css({opacity:0,visibility:"hidden"}),this.postMessage({messageType:"hide"}),this.blurIframe(),setTimeout(function(){a.chatBotBtn.focus()},100),FormManager.unregister(this))},postMessage:function(a){var b=document.querySelector("#chatbotIframe");b&&b.contentWindow.postMessage(a,"*")},focusIframe:function(){try{this.frame[0].focus()}catch(a){console.log("\u8bbe\u7f6eiframe\u7126\u70b9\u5931\u8d25:",
a)}},blurIframe:function(){try{this.frame[0].blur()}catch(a){console.log("\u79fb\u9664iframe\u7126\u70b9\u5931\u8d25:",a)}},handleIframeReady:function(){var a=this;this.visible&&setTimeout(function(){a.focusIframe()},100)},onResize:function(a,b){a=this.chatbotBox.height();this.chatbotBox.css({height:Math.min(b-80,a)+"px"})},changeLanguage:function(a){this.postMessage({eventName:"changeLang",type:"chatBot",data:{lang:a}})}});
Class("PhoneChatbot",{onCreate:function(){this.initChatBotBtn();this.parent.append(this.chatBotBtn);this.originHeight=$("html, body").height();this.originWidth=$("html, body").width()},initChatBotBtn:function(){var a=this,b,c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress)return b=bookConfig.chatBotButtonIcon||uiBaseURL+"chatbot.png",a.chatBotBtn=$("<div id='chatbotBtn' class='chatbot-btn' >\n    <img src='"+b+"'/>\n    </div>"),a.chatBotBtnTips=$("<div class='chatbot-btn-tips'>\n        <div class='chatbot-btn-beckon' >\n          <img class='beckon-icon' src='"+
uiBaseURL+"beckon.png'/>\n          <span>"+getLanguage("chatbotBtnTips","Hi~ Ask me about the book, or anything!")+"</span>\n        </div>\n        <img class='close-icon' src='"+uiBaseURL+"close-icon.png'/>\n    </div>"),a.chatBotBtnTips.css({display:"none","box-sizing":"border-box","z-index":98,padding:"10px",height:"initial",textAlign:"center",background:"#fff",borderRadius:"16px","font-size":"16px",color:"#333","font-weight":"400","justify-content":"space-between","align-items":"center","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.1)",
gap:"8px","font-family":"Calibri,Helvetica,sans-serif","max-width":"100%"}),a.chatBotBtnTips.find(".beckon-icon").css({"box-sizing":"border-box",width:"18px",height:"21px",verticalAlign:"middle","flex-shrink":0}),a.chatBotBtnTips.find(".close-icon").css({"box-sizing":"border-box",width:"10px",height:"10px",cursor:"pointer","flex-shrink":0}),d.yield(a.setBtnSize(),2);(c=a.getPopupTipsVisible())&&setTimeout(function(){a.showChatBotBtnTips()},100);a.handleBtnDrag({$el:a.chatBotBtn[0],parent:a.parent,
callback:a.handleShow.bind(a)});d.jumpToEnd()})},setBtnSize:function(){var a=this,b=bookConfig.chatBotButtonIconHeight;this.chatBotBtn.css({"z-index":"98",position:"absolute",bottom:_get(window.userInfo,"c",1)?"80px":"150px",right:"50px","box-sizing":"border-box",height:b+"px",border:0,background:"transparent",borderRadius:"50%",overflow:"hidden"});this.chatBotBtn.find("img").css({"box-sizing":"border-box",width:"100%",height:"100%"});return new Promise(function(c){var d=a.chatBotBtn.find("img")[0];
d.addEventListener("load",function(){a.chatBotBtn.css({width:d.naturalWidth*b/d.naturalHeight+"px"});c()})})},showChatBotBtnTips:function(){var a=this,b=this.chatBotBtn[0].getBoundingClientRect();this.parent.append(this.chatBotBtnTips);this.chatBotBtnTips.fadeIn();this.isChatBotBtnTipsVisible=!0;this.chatBotBtnTips.css({display:"flex","box-sizing":"border-box",position:"absolute",width:Math.min(window.innerWidth-b.width-50-10,.6*window.innerWidth)+"px",bottom:window.innerHeight-b.bottom+"px",right:window.innerWidth-
b.left+8+"px",cursor:"pointer"});this.chatBotBtnTips[0].addEventListener("click",function(c){c.stopPropagation();c.target===a.chatBotBtnTips.find(".close-icon")[0]?(a.hidePopupTips(),BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"chatbot","close chatBot tips"])):a.handleShow()})},handleBtnDrag:function(a){function b(n){this.isDraging=!0;m=e.getBoundingClientRect();n=n.center;h=n.x-m.x;l=n.y-m.y;$(e).css({cursor:"move"})}function c(n){if(this.isDraging){var p=n.center;n=f.width();
var q=f.height(),r=e,t=$(r).outerWidth(),u=$(r).outerHeight();r=k.isChatBotBtnTipsVisible?p.x-h:p.x-t/2;p=k.isChatBotBtnTipsVisible?p.y-l:p.y-u/2;r=Math.min(n-t,Math.max(0,r));p=Math.min(q-u,Math.max(0,p));newRight=Math.min(n-r-t,Math.max(n,r));newBottom=Math.min(q-p-u,Math.max(q,p));$(e).css({left:r+"px",top:p+"px",right:"initial",bottom:"initial"});k.chatBotBtnTips[0]&&(n=k.chatBotBtnTips[0].getBoundingClientRect(),k.chatBotBtnTips.css({left:r-n.width-8+"px",right:"initial",bottom:window.innerHeight-
p-m.height+"px"}))}}function d(){this.isDraging=!1;$(e).css({cursor:"pointer"})}var e=a.$el,f=a.parent,g=a.callback;a=new Hammer(e);a.add(new Hammer.Pan({threshold:0,pointers:0}));var h=0,l=0,m,k=this;a.on("panstart panmove panend",function(n){n.preventDefault();switch(n.type){case "panstart":b(n);break;case "panmove":c(n);break;case "panend":d(n)}});a.on("tap",function(n){n.preventDefault();g&&g(n)})},hidePopupTips:function(){this.chatBotBtnTips&&(this.isChatBotBtnTipsVisible=!1,this.chatBotBtnTips.fadeOut(),
this.setPopupTipsVisible("false"))},getPopupTipsVisible:function(){var a=getHashParams("chatbotVisible"),b=GetQueryString("chatbot");if(b&&"1"==b||a&&"true"==a)return!1;try{var c=window.localStorage.getItem("isChatbotPopupTipsVisible");return c?JSON.parse(c):!0}catch(d){}},setPopupTipsVisible:function(a){try{window.localStorage.setItem("isChatbotPopupTipsVisible",a)}catch(b){}},handleShow:function(a){this.hidePopupTips();BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"chatbot","chatbot button"]);
global.chatbotPanel.showOrHide()},isRtl:function(){var a,b,c=/^(hebrew|arabic)$/.test(null==(a=selectedLanguage)?void 0:null==(b=a.language)?void 0:b.toLowerCase());return bookConfig.RightToLeft||c},initHtml:function(){this.stage=$('<div id="chatbotBox" class="chatbot-box"></div>');var a=_get(window,"website_domian_wc","https://fliphtml5.com"),b=removeUrlParts(window.location.href);bookConfig.socialShareLink&&(b=bookConfig.socialShareLink);var c=getMetaTagValueByName("description"),d=getMetaTagValueByName("keywords");
a+="/chatbot/chatbot.php";b=Metacharacter(b);d=Metacharacter(d);c=Metacharacter(c);var e=this.isRtl()?"1":"0",f,g,h=(null==(f=selectedLanguage)?void 0:null==(g=f.language)?void 0:g.toLowerCase())||"english";this.frame=$("<iframe id='chatbotIframe' allow=\"microphone\" class='chatbot-frame' border='0' width='100%' height='100%' src='"+(a+"?url="+b+"&desc="+c+"&keyword="+d+"&isRtl="+e+"&lang="+h)+"' ></iframe>");this.stage.insertBefore(this.parent);this.stage.css({opacity:1,"z-index":"1001",transition:"all 0.3s ease",
position:"absolute",left:this.width+"px",top:0,width:"100%",height:"100%",overflow:"hidden",visibility:"hidden"});this.frame.css({border:"none",padding:0,margin:0,overflow:"hidden",display:"none"});this.stage.append(this.frame)},initEvent:function(){var a=this;window.addEventListener("message",function(b){b=(null==b?void 0:b.data)||{};var c=void 0===b.eventName?"":b.eventName,d=void 0===b.data?{}:b.data;if("chatbot"===(void 0===b.type?"":b.type).toLowerCase())switch(c){case "close":a.hide();break;
case "changePage":d.page&&(gotoPageFun(d.page),a.hide());break;case "inputFocus":a.onInputFocus();break;case "inputBlur":a.onInputBlur();break;case "getShownPageNumber":d.page&&a.postMessage({eventName:"setShownPageNumber",type:"chatBot",data:Object.assign({},{realPage:getShownPageNumber(d.page)},d)})}})},onInputFocus:function(){$("html").css({width:"100%",height:"100%"});0===$("#body-important-style").length&&$('<style id="body-important-style">').prop("type","text/css").html("body { width: 100% !important; height: 100% !important; }").appendTo("head")},
onInputBlur:function(){$("#body-important-style").remove();$("html, body").css({width:this.originWidth+"px",height:this.originHeight+"px"})},beforeHide:function(){this.frame.hide()},onShow:function(){var a=this;if(isIphone()||isIpad())window.disableResize=!0;setTimeout(function(){a.frame.show();a.postMessage({messageType:"show"})},100)},onHide:function(){if(isIphone()||isIpad())window.disableResize=!1;$("html, body").css({width:this.originWidth+"px",height:this.originHeight+"px"});this.postMessage({messageType:"hide"})},
postMessage:function(a){var b=document.querySelector("#chatbotIframe");b&&b.contentWindow.postMessage(a,"*")},changeLanguage:function(a){this.chatBotBtnTips&&this.chatBotBtnTips.find("span").text(getLanguage("chatbotBtnTips","Hi~ Ask about the book, or anything!"));this.postMessage({eventName:"changeLang",type:"chatBot",data:{lang:a}})}}).extend(PhoneFormFrame);
Class("TextSectionRenderer",{create:function(a){this.textSection=a.textSection;this.islimited=!1;this._readerTextPromise={};this._textSectionTaskId=null;this.setTextContentDebounced=debounceAsyncByKey(this.setTextContent.bind(this),200,function(b){return b[0]})},getRealPageIndex:function(a){var b=window.search_pages;return Array.isArray(b)&&0!==b.length?(b=b[a])&&"undefined"!==typeof b.index?b.index:a:a},getPageTextByIndex:function(a){a=this.getRealPageIndex(a);return window.textForPages&&0<textForPages.length?
(a=textForPages[a])?a.replace(/\r?\n|\r/g,"<br>"):"":""},getReaderTextByIndex:function(a){var b=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){b._readerTextPromise||(b._readerTextPromise={});b._readerTextPromise[a]||(b._readerTextPromise[a]=new Promise(function(d){if(window.readerConfig){var e=function(){if("function"===typeof window.getEditorText)return d(window.getEditorText(a)),!0};if(!e()){var f=function(){if(e()){var l,m;(null==(l=window.eventEmitter)?0:l.off)&&(null==(m=
window.eventEmitter)||m.off("initReaderPopDom",f))}},g,h;(null==(g=window.eventEmitter)?0:g.on)&&(null==(h=window.eventEmitter)||h.on("initReaderPopDom",f))}}else d([])}));return c.return(b._readerTextPromise[a])})},setTextSection:function(a){var b=this;this.textSection.empty();var c=this._textSectionTaskId=Date.now();a.map(function(d){return b.setTextContentDebounced(d,c)})},setTextContent:function(a,b){var c=this,d,e,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(g){if(1==g.nextAddress){if(b!==
c._textSectionTaskId)return g.return();d=[];(e=c.getPageTextByIndex(a-1))&&d.push(e);return g.yield(c.getReaderTextByIndex(a-1),2)}f=g.yieldResult;Array.isArray(f)?d.push.apply(d,$jscomp.arrayFromIterable(f)):f&&d.push(f);if(!d||!d.length)return g.return();d.map(function(h){b===c._textSectionTaskId&&c.appendText(h)});g.jumpToEnd()})},appendText:function(a){var b=this,c=$('<p tabindex="0" aria-live="polite" aria-atomic="true" role="region">'+a+"</p>");c[0].addEventListener("focus",function(){b.textSection[0].scrollTop=
c[0].offsetTop});this.textSection.append(c)}});
Class("Accessibility",{islimited:!1,create:function(a){this.parent=a;this.visible=!1;this.initAccessBtn();this.initHtml();this.textSectionRenderer=new TextSectionRenderer({textSection:this.textSection});this.initEvent();this.initTextContent()},initHtml:function(){this.accessBox=$('<section role="dialog" aria-labelledby="dialog-title" aria-describedby="dialog-description" aria-label="Accessibility" id="accessBox" class="access-box"></section>');this.head=$('<header class="access-box-head"></header>');
this.boxContent=$('<main class="access-box-content"></main>');this.bottom=$('<footer class="access-box-bottom"></footer>');this.accessBox.append(this.head);this.accessBox.append(this.boxContent);this.accessBox.append(this.bottom);this.parent.append(this.accessBox);this.rederHead();this.rederBoxContent();this.renderBottom();this.initBoxCss()},rederBoxContent:function(){this.pageNum=$('<h3 class="access-page-num" aria-live="polite" aria-label="Current page '+BookInfo.getCurrentPages().join("-")+'" tabindex="0">\n        <span>'+
getLanguage("accessPageNum","Page")+'</span>\n        <span class="access-dest-page" >'+BookInfo.getCurrentPages().join("-")+"</span>\n      </h3>");this.sizeBtnBox=$('<div class="access-size-btn-box"></div>');this.boxHead=$('<section class="access-main-head"></section>');this.textSection=$('<section class="access-text-content"></section>');this.boxHead.append(this.pageNum);this.boxHead.append(this.sizeBtnBox);this.boxContent.append(this.boxHead);this.boxContent.append(this.textSection);this.rederSizeBtn()},
rederSizeBtn:function(){this.sizeDownBtn=$('<button tabindex="-1" aria-label="'+getLanguage("decreaseFontSizeBtn","Decrease Font Size")+"\" class=\"access-down-btn access-size-btn access-btn-inactive\">\n     <img alt='accessibility icon' src='"+(/localhost/.test(location.host)?"style/icon/":uiBaseURL)+"fontSizeDown.svg'/>\n      </button>");this.sizeUpBtn=$('<button tabindex="0" aria-label="'+getLanguage("increaseFontSizeBtn","Increase Font Size")+"\" class=\"access-up-btn access-size-btn\">\n     <img alt='accessibility icon' src='"+
(/localhost/.test(location.host)?"style/icon/":uiBaseURL)+"fontSizeUp.svg'/>\n      </button>");this.sizeBtnBox.append(this.sizeDownBtn);this.sizeBtnBox.append(this.sizeUpBtn)},rederHead:function(){this.headText=$('<h1 \n        tabindex="0"\n        class="access-head-text" \n        aria-label="Accessibility title" >\n          '+getLanguage("accessibilityTitle","Text version of the book")+"\n      </h1>");this.closeBtn=$('<button tabindex="0" aria-label="Close accessibility dialog" class="access-close-btn" role="button">\n        <img alt="close" src="'+
uiBaseURL+'close.png"/>\n      </button>');this.head.append(this.headText);this.head.append(this.closeBtn)},renderBottom:function(){this.previousPage=$('<button tabindex="0" aria-label="'+getLanguage("previousPageBtn","Previous page")+'" class="access-previous-btn access-box-btn">\n      '+getLanguage("previousPageBtn","Previous page")+"\n      </button>");this.nextPage=$('<button tabindex="0" aria-label="'+getLanguage("nextPageBtn","Next page")+'" class="access-next-btn access-box-btn">\n        '+
getLanguage("nextPageBtn","Next page")+"\n      </button>");this.bottom.append(this.previousPage);this.bottom.append(this.nextPage)},initBoxCss:function(){},initAccessBtn:function(){var a=$('\n      <button \n        title="Accessibility" \n        tabindex="0"  \n        aria-label="Accessibility" \n        aria-haspopup="dialog"\n        aria-controls="accessibilityPanel" \n        id=\'accessBtn\' \n        class=\'access-btn\' >\n        <img alt=\'accessibility icon\' src=\''+(/localhost/.test(location.host)?
"style/icon/":uiBaseURL)+"accessibility.png'/>\n      </button>");this.parent.append(a);this.accessBtn=a;this.handleBtnDrag({$el:this.accessBtn[0],parent:this.parent,callback:this.showOrHide.bind(this)});bookConfig.isEncryptionBook&&a.css({top:"120px"});this.accessBtn[0].addEventListener("keydown",this.btnKeyDownEvent.bind(this))},btnKeyDownEvent:function(a){13===a.keyCode&&this.showOrHide(a)},handleBtnDrag:function(a){function b(l){this.isDraging=!0;h=e.getBoundingClientRect();l=l.center;startX=
l.x-h.x;startY=l.y-h.y;$(e).css({cursor:"move"})}function c(l){if(this.isDraging){var m=l.center;l=f.width();var k=f.height(),n=e,p=$(n).outerWidth();n=$(n).outerHeight();var q=m.x-p/2;m=m.y-n/2;q=Math.min(l-p,Math.max(0,q));m=Math.min(k-n,Math.max(0,m));newRight=Math.min(l-q-p,Math.max(l,q));newBottom=Math.min(k-m-n,Math.max(k,m));$(e).css({left:q+"px",top:m+"px",right:"initial",bottom:"initial"})}}function d(){this.isDraging=!1;$(e).css({cursor:"pointer"})}var e=a.$el,f=a.parent,g=a.callback;a=
new Hammer(e);a.add(new Hammer.Pan({threshold:0,pointers:0}));var h;a.on("panstart panmove panend",function(l){l.preventDefault();switch(l.type){case "panstart":b(l);break;case "panmove":c(l);break;case "panend":d(l)}});a.on("tap",function(l){MiniStyle.isMini()?(l=window.location.href.split("#")[0],window.open(l+"#accessibility","_blank")):g&&g(l)})},clearLimited:function(){this.islimited=!1;this.boxContent.find(".access-limited-tips").remove()},setLimited:function(){this.islimited=!0;var a=getLanguage("accessLimitedText",
"The book is protected. Please purchase it, or verify password / your email to continue reading.");a=$('<div class=\'access-limited-tips\'>\n        <p class=\'access-limited-text\' tabindex="0" aria-live="polite" aria-atomic="true" role="region"  >'+a+"</p>\n      </div>");this.boxContent.append(a);a.css({display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1.5"})},initTextContent:function(){var a=this;try{var b=function(){new AnalysisSearch("",function(c,d){d?a.setLimited():(a.clearLimited(),
c=BookInfo.getCurrentPages()||1,a.textSectionRenderer.setTextSection(c))})};this._eventBound||(BookEvent.bindOnceEvent("fillBookRestrict",function(c,d){b()}),this._eventBound=!0);b()}catch(c){}},initEvent:function(){var a=this;BookEvent.bindEvent("flipPage",function(b,c,d,e){var f,g;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){if(1==h.nextAddress){a.pageNum&&a.pageNum.find(".access-dest-page").text(d);f=d.split("-");if(!f||!f.length)return h.return();a.flipPageEvent(f);return h.yield(a.textSectionRenderer.setTextSection(f),
2)}null==(g=a.textSection.find("p")[0])||g.focus();h.jumpToEnd()})});this.closeBtn.on(_event._click,this.hide.bind(this));this.sizeDownBtn.on(_event._click,throttle(this.sizeFontSizeFun.bind(this,!1),300));this.sizeUpBtn.on(_event._click,throttle(this.sizeFontSizeFun.bind(this,!0),300));this.previousPage.on(_event._click,throttle(this.flipPageFun.bind(this,!1),300));this.nextPage.on(_event._click,throttle(this.flipPageFun.bind(this,!0),300));this.handleBoxDrag({$el:this.accessBox[0],parent:this.parent})},
flipPageEvent:function(a){a&&a.length&&(this.toggleButtonState(this.previousPage,1!==parseInt(a[0])),this.toggleButtonState(this.nextPage,!(parseInt(a[0])==bookConfig.totalPageCount||parseInt(a[1])==bookConfig.totalPageCount)))},sizeFontSizeFun:function(a){var b=parseInt(this.textSection.css("font-size"))||16,c=a?7:-7;b+=c;(a?30<b:16>b)||(this.toggleButtonState(this.sizeDownBtn,16<=b+c),this.toggleButtonState(this.sizeUpBtn,30>=b+c),this.textSection.css("font-size",b+"px"))},toggleButtonState:function(a,
b){b?(a.attr("tabindex","0"),a.removeClass("access-btn-inactive")):(a.attr("tabindex","-1"),a.addClass("access-btn-inactive"))},flipPageFun:function(a){a?nextPageFun("accessibility"):previousPageFun("accessibility")},showOrHide:function(){this.visible?this.hide():this.show()},show:function(){this.visible||(this.visible=!0,this.accessBox.addClass("access-box-active"),FormManager.register(this),globalThis.activeButton=this.accessBtn[0])},hide:function(){this.visible&&(this.visible=!1,this.accessBox.removeClass("access-box-active"),
this.accessBtn[0].focus(),FormManager.unregister(this))},onResize:function(){},changeLanguage:function(a){this.previousPage.text(getLanguage("previousPageBtn","Previous page"));this.nextPage.text(getLanguage("nextPageBtn","Next page"));this.headText.text(getLanguage("accessibilityTitle","Text version of the book"));this.pageNum.find("span").text(getLanguage("accessPageNum","Page"));this.boxContent.find(".access-limited-text").text(getLanguage("accessLimitedText","The book is protected. Please purchase it, or verify password/your email to continue reading."))}});
Class("PcAccessibility",{handleBoxDrag:function(a){function b(l){this.isDraging=!0;var m=e.getBoundingClientRect();l=l.center;g=l.x-m.x;h=l.y-m.y;$(e).css({cursor:"move"})}function c(l){if(this.isDraging){var m=l.center;l=f.width();var k=f.height(),n=$(e).outerWidth(),p=$(e).outerHeight(),q=m.x-g;m=m.y-h;q=Math.min(l-n,Math.max(0,q));m=Math.min(k-p,Math.max(0,m));$(e).css({bottom:"initial",right:"initial",left:q+"px",top:m+"px"})}}function d(){this.isDraging=!1;$(e).css({cursor:"pointer"})}var e=
a.$el,f=a.parent;a=new Hammer(e);a.add(new Hammer.Pan({threshold:0,pointers:0}));var g=0,h=0;a.on("panstart panmove panend",function(l){l.preventDefault();switch(l.type){case "panstart":b(l);break;case "panmove":c(l);break;case "panend":d(l)}})},show:function(){var a=this;this._super();this._onDocumentClick=this._onDocumentClick||this.handleDocumentClick.bind(this);setTimeout(function(){document.addEventListener("mousedown",a._onDocumentClick,!0)},0)},hide:function(){this._super();this._onDocumentClick&&
(this._onDocumentClick=null,document.removeEventListener("mousedown",this._onDocumentClick,!0))},handleDocumentClick:function(a){this.accessBox[0].contains(a.target)||this.hide()}}).extend(Accessibility);
Class("PhoneAccessibility",{initBoxCss:function(){this.accessBox.css({zIndex:999,opacity:1,transition:"all 0.3s ease",top:0,left:0,width:"100%",height:"100%","border-radius":0})},show:function(){this._super();$(tmpContainer).attr("tabindex",-1)},hide:function(){this._super();$(tmpContainer).removeAttr("tabindex")},handleBoxDrag:function(){}}).extend(Accessibility);
Class("EditItNowButton",{create:function(a){this.parent=a;this.visible=!1;this.initHtml();this.initEvent();console.log("EditItNowButton")},initHtml:function(){var a=(a=window.location.pathname.match(/\/templates\/([^\/]+)(?:\/(?:index\.html)?)?\/?$/))?a[1]:null;this.editItNowButton=$("<a href='"+(window.website_domian_wc||"https://fliphtml5.com")+"/editortv2/"+a+"?fromTemplateLink="+a+"' target='_blank' class='edit-it-now-button'>\n    <img src='"+uiBaseURL+"edit_now.svg'/>\n    "+getLanguage("editItNowButton",
"Edit it now")+" \n    <img src='"+uiBaseURL+"edit_arrow.svg'/>\n    </a>");this.editItNowButton.css({position:"absolute",bottom:"80px",right:"50px",zIndex:"2",display:"flex",alignItems:"center",justifyContent:"center",padding:"10px 18px",borderRadius:"44px",backgroundColor:"#0099ff",color:"#fff",textDecoration:"none",fontSize:"16px",lineHeight:"1.5",gap:"5px",fontWeight:"500","font-family":"Calibri,Helvetica,sans-serif"});this.parent.append(this.editItNowButton)},initEvent:function(){this.editItNowButton.on("click",
function(){console.log("editItNowButton")})}});var PcSearchItem=Class({create:function(a,b,c){b.fontColor=this.fontColor;this.mainColor=bookConfig.formBackgroundColor?bookConfig.formBackgroundColor:bookConfig.toolbarColor;this._super(a,b,c)},initHtml:function(){this._super();this.item.css({border:"1px solid "+Color(this.mainColor).add(32),background:Color(this.mainColor).add(64)})},initEvent:function(){this.item.onTap(this.onTapHandler.bind(this))}}).extend(SearchItem);var PcSearchForm=Class({create:function(a){this._super(a)},onCreate:function(){this._super()},initHtml:function(){this.inputBox=$("<div class='inputBox'></div>");this.stageBox=$("<div class='stageBox'></div>");this.inputBox.append(this.input).append(this.searchButton).append(this.nailUpIcon).append(this.close);this.stage.append(this.inputBox);this.stageBox.append(this.searchPageSwiper).append(this.searchResult).append(this.$matchType).append(this.searchSwiper);this.searchPageSwiper.css({"margin-top":"10px"});
this.stage.append(this.stageBox);this.parent.append(this.stage);this.initColorCss()},initColorCss:function(){this.inputBox.css({background:Color(this.mainColor).rgba(.95*this.formOpacity)});this.stageBox.css({background:Color(this.mainColor).rgba(.95*this.formOpacity)});this.stage.css({color:Color(this.fontColor)})},afterSearchThumbs:function(){this.height=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1)-59;this.searchPageSwiper.height();this.searchResult.height();
this.searchSwiper.css("height",this.height-313+"px")},afterSearchText:function(){this.height=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1)-59;this.searchSwiper.css("height",this.height-113+"px");this.searchPageSwiper.css({display:"none"})},onResize:function(){var a=Math.max(windowHeight-bookConfig.topMargin-bookConfig.bottomMargin-toolBar.getHeight(),1);toolBar.getWidth();this.width=250;var b=toolBar.getTopHeight()+40;this.height=a-59;this.stage.css({height:this.height+
"px",top:b+"px"});this.stageBox.css("height",this.height-69+"px");this.searchSwiper.css("height",this.height-113+"px");this.elements.refresh()},onShow:function(){this.close.changeButtonColor(this.fontColor);this.input.focus();BookInfo.getBook().addSearchHighlight()},onHide:function(){BookInfo.getBook().clearSearchHighlight()}}).extend(PcSearchFrame);var PasswardPannel=Class({create:function(){this.initHtml();this.initEvent();this.background.show();this.view.show()},initHtml:function(){this.background=$("<div class='passwardPannel-background'></div>");this.view=$("<div class='passwardPannel'></div>");this.icon=$("<div id='icon' class='icon'></div>");this.infoIcon=$("<div id='infoIcon' class='info-icon'>"+toolbarSvgicons.instructions+"</div>");this.$username=$("<input id='username_input' placeholder='"+getLanguage("lblName","Name")+"' class='username'></input>");
this.$passward=$("<input id='passward_input' type='password' placeholder='"+getLanguage("lblPassword","Password")+"' class='passward'></input>");this.loginIn=$("<p id='loginIn' class='loginIn'>"+getLanguage("lblLogin","Login")+"</p>");this.cancleIn=$("<p id='cancleIn' class='cancleIn'>"+getLanguage("lblCancel","Cancel")+"</p>");this.passwardResult=$("<span id='passwardResult' class='passwardResult'></span>");this.passwardInfo=$("<div class='passwardInfo'>"+bookConfig.passwordTips+"<span class='top'></span></div>");
this.view.append(this.icon);2==passwardType()&&(this.view.css("height","390px"),this.view.append(this.$username));this.initPrompt();this.view.append(this.$passward);this.view.append(this.loginIn);this.view.append(this.cancleIn);this.view.append(this.passwardResult);bookConfig.passwordTips&&(this.view.append(this.passwardInfo),this.view.append(this.infoIcon));$("body").append(this.background);$("body").append(this.view);this.icon.addCssSprite(phoneBaseURL+"phone_icon.png","passward",100,100,phoneIconInfo)},
initPrompt:function(){bookConfig.passwardPrompt&&(this.promptBox=$("<div class='promptBox'></div>"),this.prompt=$("<div class='prompt'></div>"),this.arrow=$("<div class='top arrow'></div>"),this.prompt.html(bookConfig.passwardPrompt),this.promptBox.append(this.prompt),this.promptBox.append(this.prompt).append(this.arrow),this.view.append(this.promptBox))},initEvent:function(){this.background.bind(_event._down,function(a){a.stopPropagation()});this.background.bind(_event._move,function(a){a.stopPropagation()});
this.background.bind(_event._end,function(a){a.stopPropagation()});this.cancleIn.bind(_event._end,function(){this.hide()}.bind(this));this.loginIn.bind(_event._end,function(){this.login()}.bind(this));this.promptBox&&(this.$passward.bind(_event._enter,function(){this.promptBox.show()}.bind(this)),this.$passward.bind(_event._leave,function(){this.$passward.is(":focus")?this.promptBox.show():this.promptBox.hide()}.bind(this)),this.$passward.bind("focus",function(){this.promptBox.show()}.bind(this)),
this.$passward.bind("blur",function(){this.promptBox.hide()}.bind(this)))},login:function(){verifyPassward(this.$passward.val(),this.$username.val())?(this.rememberAuthentication(),this.hide(),this.fillCurrentPageContent(),BookEvent.trigger("passward",[global.passward,global.username])):this.showResult()},rememberAuthentication:function(){try{global.passward=this.$passward.val(),global.username=this.$username.val(),window.localStorage.setItem(realLocation+"?passward",global.passward),window.localStorage.setItem(realLocation+
"?username",global.username)}catch(a){}},fillCurrentPageContent:function(){for(var a=1;a<=bookConfig.totalPageCount;a++)for(var b=BookInfo.getBooks(),c=0;c<b.length;c++)b[c].fillPage(a,!0);thumbnail&&thumbnail.show&&thumbnail.fillContent&&thumbnail.fillContent()},show:function(){this.background.show();this.view.show()},hide:function(){this.background.hide();this.view.hide()},showResult:function(){document.getElementById("username")&&!this.$username.val()?this.passwardResult.html(getLanguage("lblNoName",
"User name can not be empty.")):this.$passward.val()?bookConfig.securityType&&(3===parseFloat(bookConfig.securityType)?this.passwardResult.html(getLanguage("lblNoCorrectLogin","Please enter the correct user name and password.")):this.passwardResult.html(getLanguage("lblNoCorrectPass","Please enter the correct password."))):this.passwardResult.html(getLanguage("lblNoPassword","Password can not be empty."))}});var Slider=Class({create:function(a){this.parent=a.parent;this.width=a.width;this.pointerWidth=a.pointerWidth;this.totalPercent=a.totalPercent;this.endLeft=0;this.percent=1;this.init()},init:function(){this.onStepLength=this.width/this.totalPercent;this.slider=$("<div class='slider' style='width:"+this.width+"px;height:6px;'></div>");this.sliderEnter=$("<div class='sliderEnter'></div>");this.pointer=$("<div class='pointer'><div style='left:7px;top:7px;width:16px;height:16px;'></div></div>");this.thumbnail=
$("<div class='thumbnail'><span></span></div>");this.slider.append(this.sliderEnter);this.slider.append(this.pointer);this.sliderEnter.append(this.thumbnail);this.parent.append(this.slider);this.initEvent()},initEvent:function(){this.slider.onTap(function(a){this.endLeft=a.srcEvent?a.srcEvent.pageX-this.slider.offset().left:a.pageX-this.slider.offset().left;this.endLeft=Number.between(this.endLeft,0,this.width);gotoPageFun(this.getSlideIndex(this.endLeft),!1,"phone goto slider")}.bind(this));this.pointer.bind(_event._down,
function(a){this.isTouchDown=!0}.bind(this));this.slider.bind(_event._down,function(a){this.startPos=this.getPosition(a)}.bind(this));this.parent.bind(_event._move,function(a){if(this.isTouchDown){this.endPos=this.getPosition(a);var b=this.endPos.x-this.startPos.x;b=Number.between(b,-this.endLeft,this.width-this.endLeft);this.goto(this.endLeft+b,!0);a=this.getSlideIndex(this.endLeft+b);this.thumbnail.find("span").html(getShownPageNumber(a));this.thumbnail.show();var c=this;getPageDir(a,"thumb").then(function(d){c.thumbnail.css({"background-image":d&&
0>d.indexOf("none")?"url("+d+")":"",left:c.endLeft+b+"px","background-size":"74px 120px"})})}}.bind(this));this.parent.bind(_event._end,function(a){this.isTouchDown&&(this.isTouchDown=!1,this.endPos&&(this.endLeft+=this.endPos.x-this.startPos.x,gotoPageFun(this.getSlideIndex(this.endLeft),!1,"phone goto slider"),this.thumbnail.hide(),this.endPos=void 0))}.bind(this))},getSlideIndex:function(a){a=Math.ceil(a/this.onStepLength);a>=this.totalPercent&&(a=this.totalPercent);1>=a&&(a=1);return a},goto:function(a,
b){try{this.pointer.stop(),this.sliderEnter.stop()}catch(c){}b=b?"css":"animate";this.pointer[b]({left:a+"px"});this.sliderEnter[b]({width:a+"px"})},refreshSlider:function(a,b){if(this.isBetweenPagesPos(a))this.percent=this.getSlideIndex(this.endLeft);else{this.percent=a;var c=this.onStepLength*this.percent;1>=a&&(c=0);a==this.totalPercent&&(c=this.width);this.endLeft=c}this.goto(this.endLeft,b)},isBetweenPagesPos:function(a){return!this.endLeft||1==a&&0!=this.endLeft||a==this.totalPercent&&this.endLeft!=
this.width?!1:this.endLeft<=a*this.onStepLength&&this.endLeft>(a-1)*this.onStepLength?!0:!1},getPosition:function(a){a=a.originalEvent&&a.originalEvent.changedTouches?a.originalEvent.changedTouches:a.changedTouches?a.changedTouches:[a];return{x:(a[0].pageX||a[0].clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft),y:(a[0].pageY||a[0].clientY)+(document.documentElement.scrollTop||document.body.scrollTop)}},getPercent:function(){return this.percent},onResize:function(a,b){a&&(this.width=
a,this.onStepLength=this.width/bookConfig.totalPageCount,this.slider.css({width:this.width+"px"}),this.refreshSlider(this.percent,!0))},hide:function(){},show:function(){},destroy:function(){}});var FlipHistory=Class({create:function(){this.array=[];this.currentIndex=0},backward:function(){var a=this.currentIndex-1;void 0!=this.array[a]&&(this.currentIndex=a,gotoPageFun(this.array[a].index,!0,"history"))},forward:function(){var a=this.currentIndex+1;void 0!=this.array[a]&&(this.currentIndex=a,gotoPageFun(this.array[a].index,!0,"history"))},addFromCurrentIndex:function(a){this.array=this.array.slice(0,this.currentIndex+1);this.array.push({index:a});this.currentIndex=this.array.length-1},push:function(a){this.array.push({index:a})}}),
flipHistory=new FlipHistory;Class("TaskList",{create:function(){this.taskList=[];this.taskListId=[];this.finishId=[];this.largeLength=0;this.performingTasks=!1;this.taskId=0},unShiftTask:function(a){0<=this.taskListId.indexOf(a.id)||0<=this.finishId.indexOf(a.id)||(void 0==a.id&&(a.id=this.tastkId,this.taskId++),this.taskList.push(a),this.taskListId.push(a.id),this.cutTask(),this.taskInterval||this.performTaskList())},cutTask:function(){var a=this.taskList.length;if(!(a<=this.largeLength))for(var b=0;b<a-this.largeLength;b++)this.taskList.remove(0),
this.taskListId.remove(0)},performTaskList:function(a){this.taskInterval||(this.taskInterval=window.setInterval(function(){var b=this.taskList[0];b?(b(),this.finishId.push(b.id),this.taskList.remove(0),this.taskListId.remove(0)):(window.clearInterval(this.taskInterval),this.taskInterval=void 0)}.bind(this),60))},setLargeLength:function(a){this.largeLength=a}});Class("TextBubble",{$parent:null,color:null,textColor:null,text:"",padding:6,margin:2,$bubble:null,$content:null,$text:null,statics:{LEFT:1,TOP:2,RIGHT:3,BOTTOM:4,HORIZONTAL:5,VERTICAL:6},create:function(a){a=a||{};this.$parent=a.parent||$("body");this.color=Color(a.color)||Color("black");this.textColor=Color(a.textColor)||Color("white");this.text=a.text||"";this.padding=a.padding||6;this.margin=a.margin||2;this.direction=a.direction||TextBubble.VERTICAL;this.init()},init:function(){this.$bubble=
$("<div class='text_bubble' style='display:none'></div>");this.$content=$("<div class='text_bubble_content'></div>");this.$text=$("<div class='text_bubble_text'></div>");this.$parent.append(this.$bubble);this.$bubble.append(this.$content);this.$content.append(this.$text);this.$content.css({padding:this.padding+"px","background-color":this.color.rgba()});this.$text.css({color:this.textColor.toString()});this.$text.text(this.text)},setColor:function(a){this.color=Color(a.color)||Color("black");this.textColor=
Color(a.textColor)||Color("white");this.$content.css({"background-color":this.color.rgba()});this.$text.css({color:this.textColor.toString()})},setStyle:function(a){"string"==typeof a&&this.$content.addClass(a);"object"==typeof a&&this.$content.css(a)},setText:function(a){this.text=a;this.$text&&this.$text.text(this.text)},show:function(a){this.$bubble&&this.$bubble.css({display:"block"});switch(this.direction){case TextBubble.LEFT:this.showLeft(a);break;case TextBubble.TOP:this.showTop(a);break;
case TextBubble.RIGHT:this.showRight(a);break;case TextBubble.BOTTOM:this.showBottom(a);break;case TextBubble.HORIZAONTAL:this.showHorizaontal(a);break;case TextBubble.VERTICAL:this.showVertical(a)}},showLeft:function(a){var b=this.getBubbleWidth();this.bubbleLeft=a.left-b-this.margin;b=this.getBubbleHeight();this.bubbleTop=a.top+a.height/2-b/2;this.bubbleTop+b>this.$parent.height()?this.bubbleTop=this.$parent.height()-b-this.margin:this.bubbleTop=Math.max(this.margin,this.bubbleTop);this.$bubble.css({left:this.bubbleLeft+
"px",top:this.bubbleTop+"px"})},showRight:function(a){this.getBubbleWidth();this.bubbleLeft=a.left+a.width+this.margin;var b=this.getBubbleHeight();this.bubbleTop=a.top+a.height/2-b/2;this.bubbleTop+b>this.$parent.height()?this.bubbleTop=this.$parent.height()-b-this.margin:this.bubbleTop=Math.max(this.margin,this.bubbleTop);this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showTop:function(a){var b=this.getBubbleWidth();this.bubbleLeft=a.left+a.width/2-b/2;this.bubbleLeft+b>this.$parent.width()?
this.bubbleLeft=this.$parent.width()-b-this.margin:this.bubbleLeft=Math.max(this.margin,this.bubbleLeft);b=this.getBubbleHeight();this.bubbleTop=a.top-b-this.margin;this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showBottom:function(a){var b=this.getBubbleWidth();this.bubbleLeft=a.left+a.width/2-b/2;this.bubbleLeft+b>this.$parent.width()?this.bubbleLeft=this.$parent.width()-b-this.margin:this.bubbleLeft=Math.max(this.margin,this.bubbleLeft);this.getBubbleHeight();this.bubbleTop=
a.top+a.height+this.margin;this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},showVertical:function(a){var b=this.getBubbleWidth();this.bubbleLeft=a.left+a.width/2-b/2;this.bubbleLeft+b>this.$parent.width()?this.bubbleLeft=this.$parent.width()-b-this.margin:this.bubbleLeft=Math.max(this.margin,this.bubbleLeft);b=this.getBubbleHeight();a.top+a.height+b>this.$parent.height()?this.bubbleTop=a.top-b-this.margin:this.bubbleTop=a.top+a.height+this.margin;this.$bubble.css({left:this.bubbleLeft+
"px",top:this.bubbleTop+"px"})},showHorizontal:function(a){var b=this.getBubbleWidth();a.left+a.width+b>this.$parent.width()?this.bubbleLeft=a.left-b-this.margin:this.bubbleLeft=a.left+a.width+this.margin;b=this.getBubbleHeight();this.bubbleTop=a.top+a.height/2-b/2;this.bubbleTop+b>this.$parent.height()?this.bubbleTop=this.$parent.height()-b-this.margin:this.bubbleTop=Math.max(this.margin,this.bubbleTop);this.$bubble.css({left:this.bubbleLeft+"px",top:this.bubbleTop+"px"})},getBubbleWidth:function(){return this.$text.width()+
2*this.padding},getBubbleHeight:function(){return this.$text.height()+2*this.padding},hide:function(){this.$bubble&&this.$bubble.css({display:"none"})}});
Class("ArrowTextBubble",{create:function(a){a=a||{};this.arrowWidth=a.arrowWidth||8;this.arrowHeight=a.arrowHeight||4;this._super(a)},setRightArrowStyle:function(a,b){a.css({"border-left":"0px solid transparent","border-top":this.arrowHeight/2+"px solid transparent","border-right":this.arrowWidth+"px solid "+b.toString(),"border-bottom":this.arrowHeight/2+"px solid transparent"})},setLeftArrowStyle:function(a,b){a.css({"border-left":this.arrowWidth+"px solid "+b.toString(),"border-top":this.arrowHeight/
2+"px solid transparent","border-right":"0px solid transparent","border-bottom":this.arrowHeight/2+"px solid transparent"})},setBottomArrowStyle:function(a,b){a.css({"border-left":this.arrowWidth/2+"px solid transparent","border-top":"0px solid transparent","border-right":this.arrowWidth/2+"px solid transparent","border-bottom":this.arrowHeight+"px solid "+b.toString()})},setTopArrowStyle:function(a,b){a.css({"border-left":this.arrowWidth/2+"px solid transparent","border-top":this.arrowHeight+"px solid "+
b.toString(),"border-right":this.arrowWidth/2+"px solid transparent","border-bottom":"0px solid transparent"})}}).extend("TextBubble");
Class("SolidArrowTextBubble",{$arrow:null,init:function(){this._super();this.$arrow=$("<div class='text_bubble_arrow'></div>");this.$bubble.append(this.$arrow)},showLeft:function(a){this._super(a);this.getBubbleHeight();a=a.top+a.height/2-this.bubbleTop-this.arrowHeight/2;var b=this.$text.width()+2*this.padding;this.$content.css({"margin-left":"0px"});this.setLeftArrowStyle(this.$arrow,this.color);this.$arrow.css({top:a+"px",left:b+"px"})},showTop:function(a){this._super(a);this.getBubbleWidth();
a=a.left+a.width/2-this.bubbleLeft-this.arrowWidth/2;var b=this.$text.height()+2*this.padding;this.$content.css({"margin-top":"0px"});this.setTopArrowStyle(this.$arrow,this.color);this.$arrow.css({left:a+"px",top:b+"px"})},showRight:function(a){this._super(a);this.getBubbleHeight();a=a.top+a.height/2-this.bubbleTop-this.arrowHeight/2;this.$text.width();this.$content.css({"margin-left":this.arrowWidth+"px"});this.setRightArrowStyle(this.$arrow,this.color);this.$arrow.css({top:a+"px",left:"0px"})},
showBottom:function(a){this._super(a);this.getBubbleWidth();a=a.left+a.width/2-this.bubbleLeft-this.arrowWidth/2;this.$text.height();this.$content.css({"margin-top":this.arrowHeight+"px"});this.setBottomArrowStyle(this.$arrow,this.color);this.$arrow.css({left:a+"px",top:"0px"})},showVertical:function(a){this._super(a);this.getBubbleWidth();var b=a.left+a.width/2-this.bubbleLeft-this.arrowWidth/2,c=this.$text.height()+2*this.padding;this.bubbleTop<a.top?(this.$content.css({"margin-top":"0px"}),this.setTopArrowStyle(this.$arrow,
this.color),this.$arrow.css({left:b+"px",top:c+"px"})):(this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:b+"px",top:"0px"}))},showHorizontal:function(a){this._super(a);this.getBubbleHeight();var b=a.top+a.height/2-this.bubbleTop-this.arrowHeight/2,c=this.$text.width()+2*this.padding;this.bubbleLeft<a.left?(this.$content.css({"margin-left":"0px"}),this.setLeftArrowStyle(this.$arrow,this.color),this.$arrow.css({top:b+"px",
left:c+"px"})):(this.$content.css({"margin-left":this.arrowWidth+"px"}),this.setRightArrowStyle(this.$arrow,this.color),this.$arrow.css({top:b+"px",left:"0px"}))},getBubbleHeight:function(){return this.direction==TextBubble.VERTICAL||this.direction==TextBubble.TOP||this.direction==TextBubble.BOTTOM?this.$text.height()+2*this.padding+this.arrowHeight:this.$text.height()+2*this.padding},getBubbleWidth:function(){return this.direction==TextBubble.HORIZONTAL||this.direction==TextBubble.LEFT||this.direction==
TextBubble.RIGHT?this.$text.width()+2*this.padding+this.arrowWidth:this.$text.width()+2*this.padding}}).extend("ArrowTextBubble");
Class("HollowArrowTextBubble",{$arrow:null,$filled_arrow:null,create:function(a){a=a||{};this.filledColor=a.filledColor||Color("white");this._super(a)},init:function(){this._super();this.$arrow=$("<div class='text_bubble_arrow' style='z-index:1'></div>");this.$filled_arrow=$("<div class='text_bubble_arrow' style='z-index:2'></div>");this.$bubble.append(this.$arrow);this.$bubble.append(this.$filled_arrow);this.$content.css({padding:this.padding-1+"px",border:"1px solid "+this.color.toString(),"background-color":this.filledColor.toString()})},
show:function(a){this._super(a);this.getBubbleWidth();var b=a.left+a.width/2-this.bubbleLeft-this.arrowWidth/2,c=this.$text.height()+2*this.padding;this.bubbleTop<a.top?(this.$content.css({"margin-top":"0px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:b+"px",top:c+"px"}),this.setBottomArrowStyle(this.$filled_arrow,this.filledColor),this.$filled_arrow.css({left:b+"px",top:c-2+"px"})):(this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setTopArrowStyle(this.$arrow,
this.color),this.$arrow.css({left:b+"px",top:"0px"}),this.setTopArrowStyle(this.$filled_arrow,this.filledColor),this.$filled_arrow.css({left:b+"px",top:"2px"}))},getBubbleHeight:function(){return this.$text.height()+2*this.padding+this.arrowHeight}}).extend("ArrowTextBubble");Class("WeChatShare",{create:function(a){a=a||{};this.arrowWidth=a.arrowWidth||8;this.arrowHeight=a.arrowHeight||8;this._super(a)},init:function(){var a=getLanguage("infScanCodeToView","Scan code to read");this.visible=!1;this.$bubble=$("<div class='text_bubble' style='display:none'></div>");this.$content=$("<div class='text_bubble_content'></div>");this.$text=$("<div style='width:200px;height:230px;'></div>");a=$("<div>"+a+"</div>");var b=window.location.href.removeStartFrom("#p=");bookConfig.socialShareLink&&
(b=bookConfig.socialShareLink);var c=$("<div></div>");c.qrcode({width:180,height:180,text:b});isBelowIE9()?this.$arrow=$("<div class='text_bubble_arrow'></div>"):(this.$arrow=$("<canvas class='text_bubble_arrow' width = '16' height ='14'></canvas>"),this.initBorder());this.$bubble.append(this.$arrow);c.css({position:"absolute",left:"20px",top:"50px","image-redering":"pixelated"});a.css({"font-size":"20px","font-weight":"bold",margin:"0 auto","text-align":"center",color:this.textColor.value});this.$text.append(a).append(c);
this.$parent.append(this.$bubble);this.$bubble.append(this.$content);this.$content.append(this.$text);this.$content.css({padding:this.padding+"px","background-color":"#fff","-webkit-box-shadow":"0 0 3px #111 inset","-o-box-shadow":"0 0 3px #111 inset","-moz-box-shadow":"0 0 3px #111 inset","-ms-box-shadow":"0 0 3px #111 inset","box-shadow":"0 0 3px #111 inset"});this.enterEvent()},destroy:function(){this.$bubble.remove();global.WeChatShareImg=null},initBorder:function(){var a=this.$arrow[0].getContext("2d");
a.beginPath();a.fillStyle="#fff";a.moveTo(8,0);a.lineTo(0,14);a.lineTo(16,14);a.fill();a.closePath();a.lineWidth=1;a.beginPath();a.strokeStyle="#AFAFAF";a.moveTo(8,0);a.lineTo(0,14);a.shadowOffsetX=1;a.shadowBlur=1;a.shadowColor="#AFAFAF";a.stroke();a.closePath();a.beginPath();a.strokeStyle="#AFAFAF";a.moveTo(8,0);a.lineTo(16,14);a.shadowOffsetX=-1;a.shadowBlur=1;a.shadowColor="#AFAFAF";a.stroke();a.closePath()},showLeft:function(a){this._super(a);isBelowIE9()?this.$content.css({"margin-left":"3px"}):
this.$arrow.css({border:"none","margin-left":"-3px",transform:"rotateZ(90deg)","-webkit-transform":"rotateZ(90deg)","-o-transform":"rotateZ(90deg)","-moz-transform":"rotateZ(90deg)","-ms-transform":"rotateZ(90deg)"})},showTop:function(a){this._super(a);isBelowIE9()?this.$content.css({"margin-top":"3px"}):this.$arrow.css({border:"none","margin-top":"-2px",transform:"rotateZ(180deg)","-webkit-transform":"rotateZ(180deg)","-o-transform":"rotateZ(180deg)","-moz-transform":"rotateZ(180deg)","-ms-transform":"rotateZ(180deg)"})},
showRight:function(a){this._super(a);isBelowIE9()?this.$content.css({"margin-left":this.arrowHeight-3+"px"}):this.$arrow.css({border:"none","margin-left":"-1px",transform:"rotateZ(-90deg)","-webkit-transform":"rotateZ(-90deg)","-o-transform":"rotateZ(-90deg)","-moz-transform":"rotateZ(-90deg)","-ms-transform":"rotateZ(-90deg)"})},showBottom:function(a){this._super(a);isBelowIE9()?this.$content.css({"margin-top":this.arrowHeight-3+"px"}):this.$arrow.css({border:"none","margin-left":"-1px",transform:"rotateZ(0)",
"-webkit-transform":"rotateZ(0)","-o-transform":"rotateZ(0)","-moz-transform":"rotateZ(0)","-ms-transform":"rotateZ(0)"})},showVertical:function(a){this._super(a);isBelowIE9()?this.bubbleTop<a.top?this.$content.css({"margin-top":"3px"}):this.$content.css({"margin-top":this.arrowHeight-3+"px"}):this.bubbleTop<a.top?(this.$content.css({"margin-top":"3px"}),this.$arrow.css({border:"none","margin-top":"-2px",transform:"rotateZ(180deg)","-webkit-transform":"rotateZ(180deg)","-o-transform":"rotateZ(180deg)",
"-moz-transform":"rotateZ(180deg)","-ms-transform":"rotateZ(180deg)"})):(this.$content.css({"margin-top":this.arrowHeight-3+"px"}),this.$arrow.css({border:"none","margin-left":"-1px",transform:"rotateZ(0)","-webkit-transform":"rotateZ(0)","-o-transform":"rotateZ(0)","-moz-transform":"rotateZ(0)","-ms-transform":"rotateZ(0)"}))},enterEvent:function(){this.$bubble.bind("mouseenter",function(){this.visible=!0}.bind(this));this.$bubble.bind("mouseleave",function(){this.visible=!1;this.hide()}.bind(this))},
setDirection:function(a){a&&(this.direction=a)},hide:function(){this.$bubble&&setTimeout(function(){this.visible||this.$bubble.fadeOut("100",function(){this.$bubble.css({display:"none"})}.bind(this))}.bind(this),200)}}).extend("SolidArrowTextBubble");
Class("PhoneWeChatShareHelp",{create:function(a){this.container=$("<div class='PhoneWeChatShareHelp'></div>");this.initCss();a.append(this.container);this.initEvent()},initCss:function(){var a=$('<div style="width:92%;height:96%;margin:2% 4%;background:url('+phoneSvgIcons.shareToWeChat+') center top no-repeat"></div>');this.container.append(a);this.container.css({display:"none",background:"rgba(11,11,11,0.9)",width:windowWidth+"px",height:windowHeight+"px",position:"absolute","z-index":"10001"})},
onResize:function(){this.container.css({width:windowWidth+"px",height:windowHeight+"px"})},initEvent:function(){this.container.bind(_event._down,function(){this.hide()}.bind(this))},show:function(){(isPhone()||isPad()||"brief"==global.templeteName)&&this.container.css({width:windowWidth+"px",height:windowHeight+"px",display:"block"})},hide:function(){(isPhone()||isPad()||"brief"==global.templeteName)&&this.container.css({display:"none"})}});Class("PcTelephoneNumberBubble",{create:function(a){a=a||{};this.arrowWidth=a.arrowWidth||8;this.arrowHeight=a.arrowHeight||8;this._super(a)},init:function(){this.visible=!1;this.$bubble=$("<div class='text_bubble pctel_form' style='display:none'></div>");this.$content=$("<div class='text_bubble_content stage'></div>");this.$text=$("<div class='text_bubble_content swiper'></div>");this.$content.css({background:"transparent",color:this.textColor.value});this.$arrow=$("<div class='text_bubble_arrow'></div>");
this.addItem();this.$bubble.append(this.$arrow);this.$parent.append(this.$bubble);this.$bubble.append(this.$content);this.$content.append(this.$text);this.$content.css({"background-color":this.color.rgba()});this.$text.css({color:this.textColor.toString()});this.enterEvent()},addItem:function(){this.$text.html("");this.numberArray=global.phoneNumber;for(var a=0;a<this.numberArray.length;a++)this.$item=$("<div class='item'></div>"),a==this.numberArray.length-1?this.initItemArray(this.numberArray[a],
!0):this.initItemArray(this.numberArray[a]),this.$text.append(this.$item)},initItemArray:function(a,b){this.parm=a?a:{};this.parm.number||(this.parm.number="");this.button=$("<a href='tel:"+this.parm.number+"' style='border-left:1px solid rgba(222,222,222,0.25);word-break: break-word;' >"+this.parm.number+"</a>");this.parm.label?(this.label=$("<span class='number' title='"+this.parm.label+"'>"+this.parm.label+"</span>"),this.$item.append(this.label)):this.button.css({width:"200px"});this.$item.append(this.button);
b&&this.$item.css({border:"none"})},enterEvent:function(){this.$bubble.bind("mouseenter",function(){this.visible=!0}.bind(this));this.$bubble.bind("mouseleave",function(){this.visible=!1;this.hide()}.bind(this))},setDirection:function(a){a&&(this.direction=a)},showLeft:function(a){this._super(a);this.getBubbleHeight();a=a.top+a.height/2-this.bubbleTop-this.arrowHeight/2;var b=this.$text.width();this.$content.css({"margin-left":"0px"});this.setLeftArrowStyle(this.$arrow,this.color);this.$arrow.css({top:a+
"px",left:b+"px"})},showTop:function(a){this._super(a);this.getBubbleWidth();a=a.left+a.width/2-this.bubbleLeft-this.arrowWidth/2;var b=this.$text.height();this.$content.css({"margin-top":"0px"});this.setTopArrowStyle(this.$arrow,this.color);this.$arrow.css({left:a+"px",top:b+"px"})},showRight:function(a){this._super(a);this.getBubbleHeight();a=a.top+a.height/2-this.bubbleTop-this.arrowHeight/2;this.$text.width();this.$content.css({"margin-left":this.arrowWidth+"px"});this.setRightArrowStyle(this.$arrow,
this.color);this.$arrow.css({top:a+"px",left:"0px"})},showBottom:function(a){this._super(a);this.getBubbleWidth();a=a.left+a.width/2-this.bubbleLeft-this.arrowWidth/2;this.$text.height();this.$content.css({"margin-top":this.arrowHeight+"px"});this.setBottomArrowStyle(this.$arrow,this.color);this.$arrow.css({left:a+"px",top:"0px"})},showVertical:function(a){this._super(a);this.getBubbleWidth();var b=a.left+a.width/2-this.bubbleLeft-this.arrowWidth/2,c=this.$text.height();this.bubbleTop<a.top?(this.$content.css({"margin-top":"0px"}),
this.setTopArrowStyle(this.$arrow,this.color),this.$arrow.css({left:b+"px",top:c+"px"})):(this.$content.css({"margin-top":this.arrowHeight+"px"}),this.setBottomArrowStyle(this.$arrow,this.color),this.$arrow.css({left:b+"px",top:"0px"}))},showHorizontal:function(a){this._super(a);this.getBubbleHeight();var b=a.top+a.height/2-this.bubbleTop-this.arrowHeight/2,c=this.$text.width();this.bubbleLeft<a.left?(this.$content.css({"margin-left":"0px"}),this.setLeftArrowStyle(this.$arrow,this.color),this.$arrow.css({top:b+
"px",left:c+"px"})):(this.$content.css({"margin-left":this.arrowWidth+"px"}),this.setRightArrowStyle(this.$arrow,this.color),this.$arrow.css({top:b+"px",left:"0px"}))},getBubbleHeight:function(){return this.direction==TextBubble.VERTICAL||this.direction==TextBubble.TOP||this.direction==TextBubble.BOTTOM?this.$text.height()+this.arrowHeight:this.$text.height()},getBubbleWidth:function(){return this.direction==TextBubble.HORIZONTAL||this.direction==TextBubble.LEFT||this.direction==TextBubble.RIGHT?
this.$text.width()+this.arrowWidth:this.$text.width()},hide:function(){this.$bubble&&setTimeout(function(){this.visible||this.$bubble.fadeOut("100",function(){this.$bubble.css({display:"none"})}.bind(this))}.bind(this),200)}}).extend("SolidArrowTextBubble");Class("ToolbarButton",{$button:null,colorChanged:!1,fontColorChanged:!1,callback:null,color:null,fontColor:null,$parent:null,caption:"",title:null,hint:!0,language:null,create:function(){this.color=Color(bookConfig.iconColor);this.fontColor=Color(bookConfig.iconFontColor);if(isPhone()||isPad())switch(bookConfig.phoneToolbarType){case "both":this.$button=$("<div class='button mixButton'></div>");break;case "text":this.$button=$("<div class='button textButton'></div>");break;default:this.$button=$("<div class='button'></div>")}else this.$button=
$("<div class='button'></div>");this.$button.attr("tabindex",0);this.$button.attr("role","button");this.$button.attr("aria-label",this.caption);this.ButtonClickEvent=this.onButtonClick.bind(this)},setCallback:function(a){this.callback=a},onButtonClick:function(a){var b=this,c,d,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(f){switch(f.nextAddress){case 1:if(BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),b.name,b.caption]))return f.return();c=buttonComponents[b.getClassName()];
if(!c||window[c]){f.jumpTo(2);break}f.setCatchFinallyBlocks(3);d=bookConfig.UIBaseURL+"javascript/component.min.js";return f.yield(loadComponents(d),5);case 5:initForms();resizeComponents();f.leaveTryBlock(2);break;case 3:e=f.enterCatchBlock(),console.error(e);case 2:global.activeButton=b.$button;b.onClick(a);b.executeCallback();b.hideTitle();if(a)return a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0),f.return(!1);f.jumpToEnd()}})},onClick:virtual_function,executeCallback:function(){this.callback&&
this.callback instanceof Function&&this.callback(this)},click:function(a){this.onButtonClick(a)},setSrc:function(a,b){this.name=a;this.customIcon=b||"";var c=$("<img style='pointer-events:none;' width='auto' height='auto' alt='"+a+"'></img>");this.$caption=$("<span style='pointer-events:none;'></span>");b&&""!=b?c.attr("src",changeBookResourceBaseURL(b)):toolbar_icons&&toolbar_icons[a]?c.attr("src","data:image/png;base64,"+toolbar_icons[a]):c.attr("src",uiBaseURL+a+".png");this.$button.empty();this.$button.append(c);
this.$button.append(this.$caption);this.fontColorChanged=this.colorChanged=!1},setCustomIcon:function(a){this.customIcon=a},resetImg:function(){this.name&&(this.setSrc(this.name,this.customIcon),this.setCaption(this.caption))},changeColor:function(a){this.changeIconColor(a);this.changeCaptionColor(a)},changeIconColor:function(a,b){if(this.color||a)a||(a=this.color.toString()),this.$parent&&(this.colorChanged||this.$button.changeButtonColor(Color(a).toString(),!1,function(){b&&this.reflection();this.colorChanged=
!0}.bind(this)))},changeCaptionColor:function(a){if(this.fontColor||a)a||(a=this.fontColor.toString()),this.fontColorChanged||(this.$caption&&this.$caption.css("color",Color(a).toString()),this.fontColorChanged=!0)},reflection:function(){reflection&&reflection(this.$button)},initLanguage:function(a,b){this.language={key:a,defaultValue:b};this.changeLanguage()},changeLanguage:function(){if(this.language){var a=getLanguage(this.language.key,this.language.defaultValue);this.setCaption(a)}},getCaptionFontsize:function(){switch(bookConfig.phoneToolbarFontSize){case "normal":return 14;
case "large":return 16;default:return 12}},setCaption:function(a){this.caption=a;this.$button.attr("aria-label",a);this.$caption.text(a);var b=this.getCaptionFontsize();this.$caption.css({fontSize:b+"px"});this.title?this.title.setText(a):this.setTitle(a)},setTitle:function(a){"string"==typeof a?(this.$button.attr("title",a),this.title=null):(this.$button.attr("title",""),this.title=a)},showTitle:function(a){a&&"CANVAS"==a.target.tagName.toUpperCase()||!this.hint||!this.title||(this.mouse_is_enter=
!0,this.titleTimer&&window.clearTimeout(this.titleTimer),this.titleTimer=function(){if(this.mouse_is_enter){var b={left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:this.width(),height:this.height()};isFirefox()&&(b=getOffset(a),b={left:a.pageX-b.X,top:a.pageY-b.Y,width:this.width(),height:this.height()});this.title.show(b)}}.delay(this,800))},hideTitle:function(){this.mouse_is_enter=!1;this.title&&this.title.hide()},addTo:function(a){this.$parent!=a&&(this.$parent&&this.freedom(),this.$button.appendTo(a),
this.$parent=a,this.addEvents())},preTo:function(a){this.$parent!=a&&(this.$parent&&this.freedom(),this.$button.prependTo(a),this.$parent=a,this.addEvents())},addEvents:function(){var a=this;this.$button.bind("keydown",function(b){if("Enter"===b.key||" "===b.key){var c=a.$button[0].getBoundingClientRect();c=Object.assign({},b,{pageX:c.left+c.width/2+window.scrollX,pageY:c.top+c.height/2+window.scrollY,offsetX:c.width/2,offsetY:c.height/2,target:a.$button[0],stopPropagation:function(){return b.stopPropagation&&
b.stopPropagation()},cancelBubble:!1});a.onButtonClick(c)}});this.$button.bind("click",this.ButtonClickEvent);this.$button.bind("mouseenter",this.showTitle.bind(this));this.$button.bind("mouseleave",this.hideTitle.bind(this));this.$button.bind("mousedown pointerdown touchstart",function(b){toolBar.enterOption&&window.clearTimeout(toolBar.enterOption);b.stopPropagation()});this.$button.css("cursor","pointer")},freedom:function(){this.$button.remove();this.$parent=null;this.$button.unbind()},setPosition:function(a,
b){this.$button.css({left:a+"px",top:b+"px"})},setWidth:function(a){this.$button.css({width:a+"px"})},setHeight:function(a){this.$button.css({height:a+"px"})},left:function(){return this.$button.left()},top:function(){return this.$button.top()},width:function(){return this.$button.width()},height:function(){return this.$button.height()},setLink:function(){}});
Class("ButtonBevel",{color:null,$body:null,$parent:null,statics:{vertical:0,horizontal:1},create:function(a,b){this.color=Color(a);this.direction=void 0==b?ButtonBevel.vertical:b;this.init()},init:function(){this.$body=$("<div name='bevel'></div>");var a=this.color.reduce(20);this.direction==ButtonBevel.vertical?(this._width=2,this._height=30,this.$body.css({position:"absolute",width:"1px",height:"30px","background-color":a})):(this._width=30,this._height=2,this.$body.css({position:"absolute",width:"30px",
height:"1px","background-color":a}))},freedom:function(){this.$body.remove();this.$parent=null},addTo:function(a){this.$parent!=a&&(this.$parent&&this.freedom(),this.$body.appendTo(a),this.$parent=a)},setPosition:function(a,b){this.$body.css({left:a+"px",top:b+"px"})},setWidth:function(a){this._width=a;if(this.direction==ButtonBevel.vertical){var b=a%2;this.$body.css({width:(a+b)/2+"px","border-right-width":(a-b)/2+"px"})}else this.$body.css({width:a+"px"})},changeBevelColor:function(a){this.color=
a?Color(a):Color(bookConfig.iconColor);a=this.color.reduce(20);this.$body.css({"background-color":a})},setHeight:function(a){this._height=a;if(this.direction==ButtonBevel.vertical)this.$body.css({height:a+"px"});else{var b=a%2;this.$body.css({height:(a+b)/2+"px","border-bottom-width":(a-b)/2+"px"})}},left:function(){return this.$body.left()},top:function(){return this.$body.top()},width:function(){return this._width},height:function(){return this._height}});
Class("FirstPageButton",{create:function(){this._super();rightToLeft?this.setSrc("Last",bookConfig.LastButtonIcon):this.setSrc("First",bookConfig.FirstButtonIcon);this.initLanguage("btnFirstPage","First")},onClick:function(a){firstPageFun("toolbar button")}}).extend("ToolbarButton");Class("LastPageButton",{create:function(){this._super();rightToLeft?this.setSrc("First",bookConfig.FirstButtonIcon):this.setSrc("Last",bookConfig.LastButtonIcon);this.initLanguage("btnLastPage","Last page")},onClick:function(a){lastPageFun("toolbar button")}}).extend("ToolbarButton");
Class("PreviousPageButton",{create:function(){this._super();rightToLeft?this.setSrc("next",bookConfig.NextButtonIcon):this.setSrc("prev",bookConfig.PreviousButtonIcon);this.initLanguage("btnPrePage","Previous")},onClick:function(a){previousPageFun("toolbar button")}}).extend("ToolbarButton");Class("NextPageButton",{create:function(){this._super();rightToLeft?this.setSrc("prev",bookConfig.PreviousButtonIcon):this.setSrc("next",bookConfig.NextButtonIcon);this.initLanguage("btnNextPage","Next")},onClick:function(a){nextPageFun("toolbar button")}}).extend("ToolbarButton");
Class("HomeButton",{create:function(){this._super();this.setSrc("home",bookConfig.HomeButtonIcon);this.initLanguage("btnGoToHome","Home")},onClick:function(a){"%first page%"==bookConfig.HomeURL.toLowerCase()?firstPageFun("home"):void 0!=bookConfig.HomeURL&&""!=bookConfig.HomeURL&&(a=bookConfig.HomeURL,a.startsWith("%")&&a.endsWith("%")?(a=getRealPageNumber(a.slice(1,a.length-1)),gotoPageFun(a,!1,"home button")):(a=getRealURL(a),(isPhone()||isPad())&&0<=bookConfig.homeButtonOpenWindowType.indexOf("self")?
window.location.replace(a):window.open(a,bookConfig.homeButtonOpenWindowType)))}}).extend("ToolbarButton");
Class("ShareEmailButton",{emailStr:"",create:function(){this._super();this.color=Color(bookConfig.iconColor);this.fontColor=Color(bookConfig.iconFontColor);this.$button=$("<a target="+bookConfig.OpenWindow+" href='' class='button' style='text-decoration:none;'></a>");this.setLink();this.setSrc("emailButton",bookConfig.EmailButtonIcon);this.initLanguage("btnShareEmail","Share by Email")},setLink:function(){var a=this,b,c,d,e,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(g){if(1==g.nextAddress)return b=
bookConfig.btnShareWithEmailBody||"",c=bookConfig.btnShareWithEmailSubject||"",d=bookConfig.btnShareWithEmailTo||"",e=toAbsURL,g.yield(getPageDir(1,"thumb"),2);f=e(g.yieldResult);b=b.replaceAll("{thumb}",f,!0);0<=b.indexOf("{link_no_page}")&&(b=b.replaceAll("{link_no_page}",window.location.href,!0));b=b.replaceAll("{link}",window.location.href);b=b.replaceAll("{title}",window.document.title,!0);d&&(d=encodeURIComponent(d));c&&(c=encodeURIComponent(c));b&&(b=encodeURIComponent(b));a.emailStr="mailto:"+
d+"?subject="+c+"&body="+b;a.$button.attr("href",a.emailStr);g.jumpToEnd()})},onClick:function(a){}}).extend("ToolbarButton");Class("HelpButton",{create:function(){this._super();this.setSrc("Help",bookConfig.HelpButtonIcon);this.initLanguage("btnHelp","Help")},onClick:function(a){helpBody&&helpBody.showOrHide({left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:$(a.target).width(),height:$(a.target).height()})}}).extend("ToolbarButton");
Class("ThumbnailButton",{create:function(){this._super();this.setSrc("thumbnails",bookConfig.ThumbnailButtonIcon);this.initLanguage("btnThumb","Thumbnails")},onClick:function(a){thumbnail&&thumbnail.showOrHide()}}).extend("ToolbarButton");
Class("ShareButton",{create:function(){this._super();this.setSrc("sharethis",bookConfig.ShareButtonIcon);this.initLanguage("btnSocialShare","Share")},onClick:function(a){var b={left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:$(a.target).width(),height:$(a.target).height()};window.phoneTemplate&&"neat"===window.phoneTemplate.name?setTimeout(function(){sharePanel.showOrHide(b)},140):sharePanel.showOrHide(b)}}).extend("ToolbarButton");
Class("SearchButton",{create:function(){this._super();this.setSrc("search",bookConfig.SearchButtonIcon);this.initLanguage("btnSearch","Search")},onClick:function(a){frmSearch&&frmSearch.showOrHide()}}).extend("ToolbarButton");
Class("DownloadButton",{create:function(){this._super();this.setSrc("download",bookConfig.DownloadButtonIcon);this.initLanguage("btnDownload","Download")},onClick:function(a){window.sendvisitinfo&&sendvisitinfo(8,BookInfo.getCurrentPageIndex());window.downloadconfig?global.downLoadBody||(global.downLoadBody=new PcDownloadForm({parent:tmpContainer,formType:"download",rightToLeft:rightToLeft})):""!=bookConfig.DownloadURL&&window.open(bookConfig.DownloadURL,"_blank");global.downLoadBody&&downLoadBody.showOrHide()}}).extend("ToolbarButton");
Class("BookmarkButton",{create:function(){this._super();this.setSrc("bookmark",bookConfig.BookmarkButtonIcon);getLanguage("AnnotMark","")?this.initLanguage("AnnotMark","bookmark"):this.initLanguage("btnBookMark","Bookmark")},onClick:function(a){bookmark.showOrHide()}}).extend("ToolbarButton");
Class("TableOfContentButton",{create:function(){this._super();this.setSrc("tableOfContent",bookConfig.TableOfContentButtonIcon);getLanguage("AnnotMark","")?this.initLanguage("btnBookMark","Table Of Contents"):this.initLanguage("btnTableOfContent","Table Of Contents")},onClick:function(a){getLanguage("btnTableOfContent","Table Of Contents");getLanguage("AnnotMark","")&&getLanguage("btnBookMark","Table Of Contents");frmTableOfContent&&frmTableOfContent.showOrHide()}}).extend("ToolbarButton");
Class("LanguageButton",{create:function(){this._super();this.setSrc("languageChange",bookConfig.LanguageButtonIcon);this.initLanguage("btnLanguage","Language change")},onClick:function(a){global.languagePanel&&languagePanel.showOrHide()}}).extend("ToolbarButton");Class("PrintButton",{create:function(){this._super();this.setSrc("print",bookConfig.PrintButtonIcon);this.initLanguage("btnPrint","Print")},onClick:function(a){printBody&&printBody.showOrHide()}}).extend("ToolbarButton");
Class("MessageButton",{create:function(){this._super();this.setSrc("message",bookConfig.MessageButtonIcon);this.initLanguage("btnMessage","Message")},onClick:function(a){window.bookLeaveMessage&&bookLeaveMessage.showOrHide()}}).extend("ToolbarButton");
Class("AboutButton",{create:function(){this._super();this.setSrc("about",bookConfig.AboutButtonIcon);this.initLanguage("btnAbout","About")},onClick:function(a){aboutBody&&aboutBody.showOrHide({left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:$(a.target).width(),height:$(a.target).height()})}}).extend("ToolbarButton");
Class("MoreButton",{create:function(){this._super();this.setSrc("moreBar");this.initLanguage("btnMore","More")},onClick:function(a){moreBar.visible?moreBar.hide():(a={left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:this.width(),height:this.height()},moreBar.show(a))}}).extend("ToolbarButton");Class("AnnotationButton",{create:function(){this._super();this.setSrc("annotation",bookConfig.AnnotationButtonIcon);this.initLanguage("btnNote","Annotation")},onClick:function(a){global.annotationPannel.showOrHide()}}).extend("ToolbarButton");
Class("VideoButton",{create:function(){this._super();this.setSrc("videoGallery",bookConfig.VideoButtonIcon);this.initLanguage("btnVideo","Video Gallery")},onClick:function(a){videoGallery&&videoGallery.showOrHide()}}).extend("ToolbarButton");Class("SlideshowButton",{create:function(){this._super();this.setSrc("photoGallery",bookConfig.SlideshowButtonIcon);this.initLanguage("btnSlideShow","Slideshow")},onClick:function(a){photoGallery.showOrHide()}}).extend("ToolbarButton");
Class("BackwardButton",{create:function(){this._super();rightToLeft?this.setSrc("forward",bookConfig.ForwardButtonIcon):this.setSrc("backward",bookConfig.BackwardButtonIcon);this.initLanguage("btnPageBack","Backward")},onClick:function(a){flipHistory.backward()}}).extend("ToolbarButton");
Class("ForwardButton",{create:function(){this._super();rightToLeft?this.setSrc("backward",bookConfig.BackwardButtonIcon):this.setSrc("forward",bookConfig.ForwardButtonIcon);this.initLanguage("btnPageForward","Forward")},onClick:function(a){flipHistory.forward()}}).extend("ToolbarButton");
var buttonComponents={VideoButton:"PcVideoGalleryForm",BookmarkButton:"PcBookmarkForm",TableOfContentButton:"PcTableOfContentForm",SearchButton:"PcSearchForm",HelpButton:"PcHelpForm",AboutButton:"PcAboutForm",PrintButton:"PcPrintForm",LanguageButton:"PcLanguageForm",DownloadButton:"PcDownloadForm",ShareButton:"PcShareForm",MagnifierButton:"WindowMagnifierBox",SlideshowButton:"PhotoGallery",AnnotationButton:"AnnotationPannel",PhoneSearchButton:"PhoneSearchForm",PhoneBookmarkButton:"PhoneBookmarkForm",
PhonePrintButton:"PhonePrintForm",PhoneDownloadButton:"PhoneDownloadForm",PhoneLanguageButton:"PhoneLanguageForm",PhoneAboutButton:"PhoneAboutForm",PhoneTableOfContentButton:"PhoneTableOfContentForm",PhoneShareButton:"PhoneShareForm",PhoneNumberButton:"TelephoneNumberForm",PhoneVideoButton:"PhoneVideoGalleryForm",PhoneSlideshowButton:"PhotoGallery",PhoneAnnotationButton:"PhoneAnnotationPannel"};
function loadComponents(a){var b=$("<div style='width: 100%;height: 100%;left:0;top:0;position: absolute;z-index: 10000;background: rgb(50, 50, 50,0.3);'><img src='"+uiBaseURL+"loading.gif' style='width:24px;height:24px;left:0;top:0;bottom:0;right:0;margin:auto;position: absolute;'/></div>");$("body").append(b);return new Promise(function(c,d){var e=document.createElement("script");e.type="text/javascript";e.src=a;e.onload=function(){b.remove();c()};e.onerror=function(){b.remove();d(Error("\u811a\u672c\u52a0\u8f7d\u5931\u8d25: "+
a))};document.head.appendChild(e)})};Class("ToolbarStateButton",{status:-1,getFunctionName:function(a){var b=this.getClass().prototype,c;for(c in b)if(a==b[c])return c},bindStates:function(){this.states=[];for(var a=0;a<arguments.length;a++){var b=arguments[a],c=this.getFunctionName(b);this[c]=function(d,e){return function(){this.status!=e&&(this.status=e,d.apply(this,arguments),StateSynchronous.instance().reportChanged(this))}}(b,a);this.states[a]=c}StateSynchronous.instance().registButton(this)},setStatus:function(a){(a=this[this.states[a]])&&
a.apply(this)},setStatusQuietly:function(a){if(this.status!=a){var b=this.getClass().prototype[this.states[a]];b&&(this.status=a,b.apply(this))}},getStatus:function(){return this.status},onClick:virtual_function,initLanguage:function(){this.language=[];for(var a=0;a<arguments.length;a++){var b=arguments[a],c;for(c in b)this.language.push({key:c,defaultValue:b[c]})}},changeLanguage:function(){if(this.language){var a=this.language[this.status];a=getLanguage(a.key,a.defaultValue);this.setCaption(a)}}}).extend("ToolbarButton");
Class("ZoomButton",{create:function(){this._super();this.bindStates(this.setAsZoomin,this.setAsZoomout);this.initLanguage({btnZoomIn:"Zoom In"},{btnZoomOut:"Zoom Out"});this.setAsZoomin()},setAsZoomin:function(){this.setSrc("ZoomIn",bookConfig.ZoomInButtonIcon);this.changeLanguage();this.changeColor()},setAsZoomout:function(){this.setSrc("ZoomOut",bookConfig.ZoomOutButtonIcon);this.changeLanguage();this.changeColor()},executeZoomout:function(){var a=BookInfo.getBook().showPage;if(bookType===BookType.documentView_book||
bookType===BookType.singleDocumentView_book)a=BookInfo.getBook().docViewBook;a.onDoubleTap.bind(a)({pointers:[{pageX:windowWidth/2,pageY:windowHeight/2}]});auto_player.isPlaying()&&auto_player.stop();"popular"==global.templeteName&&setLogoIndex({zIndex:"99"})},executeZoomin:function(){var a=BookInfo.getBook().showPage;if(bookType===BookType.documentView_book||bookType===BookType.singleDocumentView_book)a=BookInfo.getBook().docViewBook;a.onDoubleTap.bind(a)({pointers:[{pageX:windowWidth/2,pageY:windowHeight/
2}]});auto_player.isPlaying()&&auto_player.stop();"popular"==global.templeteName&&setLogoIndex({zIndex:"0"})},zoomout:function(){this.executeZoomout();this.setAsZoomin()},zoomin:function(){this.executeZoomin();this.setAsZoomout()},onClick:function(a){BookInfo.isZoomming()||(BookInfo.zoomStatus()?this.zoomout():this.zoomin())}}).extend("ToolbarStateButton");
Class("AutoPlayButton",{create:function(){this._super();this.bindStates(this.setAsStart,this.setAsStop);this.initLanguage({btnAutoFlip:"Auto Flip"},{btnStopAutoFlip:"Stop Auto Flip"});this.setAsStart()},setAsStart:function(){this.setSrc("autoPlay",bookConfig.AutoPlayStartButtonIcon);this.changeLanguage();this.changeColor()},setAsStop:function(){this.setSrc("stopAutoPlay",bookConfig.AutoPlayStopButtonIcon);this.changeLanguage();this.changeColor()},onClick:function(){auto_player&&(auto_player.isPlaying()?
auto_player.stop():auto_player.start())}}).extend("ToolbarStateButton");
Class("FullscreenButton",{create:function(){this._super();this.bindStates(this.setAsFullScreen,this.setAsExitFullScreen);this.initLanguage({btnFullscreen:"Fullscreen"},{btnExitFullscreen:"Exit Fullscreen"});this.setAsFullScreen()},setAsFullScreen:function(){this.setSrc("fullscreen",bookConfig.FullscreenButtonIcon);this.changeLanguage();this.changeColor()},setAsExitFullScreen:function(){this.setSrc("exitFullscreen",bookConfig.ExitFullscreenButtonIcon);this.changeLanguage();this.changeColor()},onClick:function(){readAsFullscreen()}}).extend("ToolbarStateButton");
Class("WeChatShareButton",{create:function(){this._super();this.bindStates(this.setWeChatShare);this.initLanguage({btnWeCharShare:"WeChat Share"});this.setWeChatShare();this.$button.attr("title","")},setWeChatShare:function(){this.setSrc("wechat",bookConfig.WeChatShareButtonIcon);this.changeLanguage();this.changeColor()},onClick:function(){},addEvents:function(){this._super();this.onMouseEnter()},onMouseEnter:function(){this.$button.bind("mouseenter",function(a){a.stopPropagation();a.preventDefault();
global.WeChatShareImg.visible=!0;global.WeChatShareImg.show({left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:$(a.target).width(),height:$(a.target).height()})}.bind(this));this.$button.bind("mouseleave",function(a){global.WeChatShareImg.visible=!1;setTimeout(function(){global.WeChatShareImg.visible||global.WeChatShareImg.hide()}.bind(this),200)}.bind(this))}}).extend("ToolbarStateButton");
Class("TelephoneNumberButton",{create:function(){this._super();this.bindStates(this.setTelephoneNumber);this.initLanguage({btnPhoneNumber:"phone"});this.setTelephoneNumber();this.$button.attr("title","")},setTelephoneNumber:function(){this.setSrc("phone",bookConfig.PhoneButtonIcon);this.changeLanguage();this.changeColor()},onClick:function(a){global.PcTelephoneNumberFrame.visible?(global.PcTelephoneNumberFrame.visible=!1,setTimeout(function(){global.PcTelephoneNumberFrame.visible||global.PcTelephoneNumberFrame.hide()}.bind(this),
200)):(global.PcTelephoneNumberFrame.visible=!0,global.PcTelephoneNumberFrame.show({left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:$(a.target).width(),height:$(a.target).height()}))},addEvents:function(){this._super();this.onMouseEnter()},onMouseEnter:function(){this.$button.bind("mouseenter",function(a){a.stopPropagation();a.preventDefault();global.PcTelephoneNumberFrame.visible=!0;global.PcTelephoneNumberFrame.show({left:a.pageX-a.offsetX,top:a.pageY-a.offsetY,width:$(a.target).width(),height:$(a.target).height()})}.bind(this));
this.$button.bind("mouseleave",function(a){global.PcTelephoneNumberFrame.visible=!1;setTimeout(function(){global.PcTelephoneNumberFrame.visible||global.PcTelephoneNumberFrame.hide()}.bind(this),200)}.bind(this))}}).extend("ToolbarStateButton");
Class("BackgroundSoundButton",{create:function(){this._super();this.soundBtnState=bookConfig.FlipSound||bookConfig.BackgroundSoundURL;this.bindStates(this.setAsSoundOn,this.setAsSoundOff);this.initLanguage({btnSoundOn:"Sound On"},{btnSoundOff:"Sound Off"});this.changeSoundBtnState()},changeSoundBtnState:function(){this.soundBtnState?this.setAsSoundOn():this.setAsSoundOff()},setAsSoundOn:function(){this.setSrc("soundOn",bookConfig.BackgroundSoundButtonOnIcon);this.changeLanguage();this.changeColor();
this.soundBtnState=!0},setAsSoundOff:function(){!isPhone()&&!isPad()&&bookConfig.BackgroundSoundURL&&bookConfig.FlipSound&&bookConfig.BackgroundSoundButtonVisible||(this.setSrc("soundOff",bookConfig.BackgroundSoundButtonOffIcon),this.changeLanguage(),this.changeColor(),this.soundBtnState=!1)},onClick:function(){bookConfig.BackgroundSoundURL||window.mulEditorInfo&&window.mulEditorInfo.hasMusic?settingBody&&settingBody.showOrHide():bookConfig.BackgroundSoundURL?isPlaying?global.bgSound.pause():global.bgSound.play():
(global.flipSoundIsPlaying=!global.flipSoundIsPlaying,global.flipSoundIsPlaying?this.setAsSoundOn():this.setAsSoundOff())},addEvents:function(){this._super();this.onMouseEnter()},onMouseEnter:function(){bookConfig.BackgroundSoundURL&&(this.$button.bind("mouseenter",function(a){a&&"CANVAS"==a.target.tagName.toUpperCase()||setTimeout(function(){if(isFirefox()){var b=getOffset(a);volumeControlBar.show({left:a.pageX-b.X,top:a.pageY-b.Y,width:$(a.target).width(),height:$(a.target).height()})}else volumeControlBar.show({left:a.pageX-
a.offsetX,top:a.pageY-a.offsetY,width:$(a.target).width(),height:$(a.target).height()})},200)}.bind(this)),this.$button.bind("mouseleave",function(a){setTimeout(function(){volumeControlBar.visible||volumeControlBar.hide()},200)}.bind(this)))}}).extend("ToolbarStateButton");
Class("SelectTextButton",{create:function(){this._super();this.bindStates(this.setAsUnSelect,this.setAsSelect);this.initLanguage({btnSelectText:"Select Text"},{btnSelectText:"Select Text"});this.setAsUnSelect()},setAsSelect:function(){this.setSrc("text",bookConfig.SelectTextButtonIcon);this.changeColor("#bdc5e9");this.changeLanguage()},setAsUnSelect:function(){this.setSrc("text",bookConfig.SelectTextButtonIcon);this.changeColor();this.changeLanguage()},select:function(a){var b,c,d,e,f,g,h,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){switch(m.nextAddress){case 1:b=
BookInfo.getCurrentPages(),c=0;case 2:if(!(c<b.length)){m.jumpTo(4);break}d=getSearchRealPageIndex(b[c]);if(-1==d){m.jumpTo(3);break}e=!1;for(f=0;f<positionForPages.length;f++)if(positionForPages[f]&&positionForPages[f].page&&positionForPages[f].page==d){e=!0;break}if(e){m.jumpTo(3);break}g=String.format(bookConfig.searchPositionJS,d);1<d&&(g=g.replace("[1]","["+d+"]"));h=/\.*\/?(\w+\/)*\w+(\[|\()?\d+(\]|\))?\.js/gi;l=/\.*\/?(\w+\/)*\w+?\.js/gi;if(!g.match(h)&&!g.match(l)){m.jumpTo(4);break}return m.yield(getArticleImage(fixURLValue(g)),
6);case 6:return g=m.yieldResult,m.yield(loadAndFixPositionScript(d,g),3);case 3:c++;m.jumpTo(2);break;case 4:BookInfo.getBook()&&BookInfo.getBook().select(),m.jumpToEnd()}})},unSelect:function(){BookInfo.getBook()&&BookInfo.getBook().unSelect()},onClick:function(){BookInfo.getBook()&&BookInfo.getBook().flipping||(this.status?(this.setAsUnSelect(),this.unSelect(),this.status=0):(this.setAsSelect(),this.select(),this.status=1))}}).extend("ToolbarStateButton");
Class("MunuZoomButton",{create:function(){this._super()},changeColor:function(){this.changeIconColor("#333");this.changeCaptionColor("#333")}}).extend("ZoomButton");Class("MunuFullscreenButton",{create:function(){this._super()},changeColor:function(){this.changeIconColor("#333");this.changeCaptionColor("#333")}}).extend("FullscreenButton");
Class("MagnifierButton",{create:function(){this._super();this.bindStates(this.setAsZoomin,this.setAsZoomout);this.initLanguage({btnMagnifierIn:"Magnifier In"},{btnMagnifierOut:"Magnifier Out"});this.setAsZoomin()},setAsZoomin:function(){this.setSrc("magnifier",bookConfig.MagnifierButtonIcon);this.changeLanguage();this.changeColor();global.canMagnifierZoom=!1},setAsZoomout:function(){this.setSrc("magnifier",bookConfig.MagnifierButtonIcon);this.changeLanguage();this.changeColor("#bdc5e9");global.canMagnifierZoom=
!0},magnifierZoom:function(){BookInfo.getBook()&&BookInfo.getBook().magnifierZoom()},unMagnifierZoom:function(){BookInfo.getBook()&&BookInfo.getBook().unMagnifierZoom()},onClick:function(a){BookInfo.getBook().status_zoom||(global.canMagnifierZoom?(!bookConfig.MagnifierButtonVisible||global.magnifierZoomBox||global.isBelowIE11()||(global.magnifierZoomBox=new WindowMagnifierBox(tmpContainer)),this.setAsZoomin(),this.unMagnifierZoom()):(this.setAsZoomout(),this.magnifierZoom()))}}).extend("ToolbarStateButton");var getLogoLink=function(){return[bookConfig.appLogoLinkURL,bookConfig.appLogoOpenWindow]},initLogoBar=function(a){if(bookConfig.appLogoIcon){var b=$("#logoBar");b.html("");a=b.height();var c=bookConfig.logoHeight,d=bookConfig.logoPadding,e=["popular","courts"].includes(global.templeteName)?bookConfig.logoTop:parseInt((a-c)/2),f=getLogoLink(),g=$("<img style='position:absolute;left:0;top:0;'/>");g.attr({src:bookConfig.appLogoIcon});g.on("load",function(){b.html(g);g.css({height:c+"px",top:e+"px"});
b.css({left:d+"px",width:g[0].naturalWidth*c/g[0].naturalHeight+"px"});f[0]&&0>f[0].indexOf("javascript:void(0)")&&(g.click(function(){BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"logoImage","logo"]);if(!BookEvent.trigger("jumpLink",["logo",BookInfo.getCurrentPageIndex(),f[0]])){var h=getTarget();h="book_"+(void 0===h.uLink?"":h.uLink)+"_"+(void 0===h.bLink?"":h.bLink);h=f[0].includes("yunzhan365")||f[0].includes("fliphtml5")?appendParamToUrl(f[0],"i="+h):f[0];window.open(h,f[1])}}),
g.css({cursor:"pointer"}));if(global.toolBar&&global.toolBar.onResize)toolBar.onResize();"popular"===global.templeteName&&(BookEvent.bindEvent("zoomIn",function(){b.css("zIndex","0")}),BookEvent.bindEvent("zoomOut",function(){b.css("zIndex","99")}))})}},setPageIndexTextField=function(){setCurrentIndexTextField(BookInfo.getBook().getCurrentPageIndex(),bookType==BookType.normal_book||bookType==BookType.slide_book||bookType==BookType.catalog_book);void 0!=$("#currentPageIndexTextField")&&null!=$("#currentPageIndexTextField")&&
void 0!=$("#currentPageIndexTextField")[0]&&null!=$("#currentPageIndexTextField")[0]&&($("#currentPageIndexTextField").bind("keydown",function(a){13==a.keyCode&&(a=$("#currentPageIndexTextField").val(),a=parseInt(getRealPage(a)),isNaN(a)||(a=Math.min(Math.max(a,1),bookConfig.totalPageCount),gotoPageFun(a,!1,"page input")))}),$("#currentPageIndexTextField").bind("blur",function(){window.setTimeout(function(){setCurrentIndexTextField(BookInfo.getCurrentPageIndex())},400);this.onFocus=!1}),$("#currentPageIndexTextField").bind("focus",
function(a){BookEvent.trigger("clickButton",[BookInfo.getCurrentPageIndex(),"page input","page input"]);$("#currentPageIndexTextField").val("");this.onFocus=!0}))},initCreateButton=function(){function a(b){if(!b||0<b.c)b=$("#createButton"),b.length&&b.empty().css("display","none");else if(global.toolBar.addTopRightButton&&global.toolBar.addTopRightButton(),b=$("#createButton"),b.length){b.empty().css("display","flex");var c=getTarget();c=$("<a href='https://www.yunzhan365.com?i=btn_"+(void 0===c.uLink?
"":c.uLink)+"_"+(void 0===c.bLink?"":c.bLink)+"' target='_blank'>\n        <img src='"+uiBaseURL+"upload.png' />\n        "+getLanguage("fbCreateButton","\u514d\u8d39\u5236\u4f5c")+"\n      </a>");b.append(c);window.eventEmitter&&eventEmitter.off("loadUserInfo",a)}}window.userInfo?a(window.userInfo):window.eventEmitter&&eventEmitter.on("loadUserInfo",a)};
function getTarget(){var a=1,b=window.location.host;var c=window.location.pathname;var d="",e="";if(!window.yz_temp_link){if(b.match("www.yunzhan365.com")||b.match("test.yunzhan365.com")){if(b.match("www.yunzhan365.com/view"))return;a=c.indexOf("/",1)+1;var f=c.indexOf("/",a);var g=c.indexOf("/",f+1);d=c.substring(a,f);e=c.substring(f+1,g)}else if("book.yunzhan365.com"==b||"test2.yunzhan365.com"==b||"book.asflip.com"==b||"bookh.yunzhan365.com"==b||"online.fliphtml5.com"==b||"t.flipbuilder.com"==b)f=
c.indexOf("/",1),g=c.indexOf("/",f+1),d=c.substring(a,f),e=c.substring(f+1,g);try{/^https?:\/\/[^/]+\/books(?:\/|$)/.test(location.href)&&(f=c.indexOf("/",1),g=c.indexOf("/",f+1),d=window.userInfo.d,e=c.substring(f+1,g))}catch(h){}return{uLink:d,bLink:e}}}
getAppLogoLinkURL=function(){if(!bookConfig.appLogoLinkURL)return"";var a=bookConfig.appLogoLinkURL,b=getTarget();b="book_"+(void 0===b.uLink?"":b.uLink)+"_"+(void 0===b.bLink?"":b.bLink);return a.includes("yunzhan365")||a.includes("fliphtml5")?appendParamToUrl(a,"i="+b):a};var setLogoIndex=function(a){a=void 0===a.zIndex?"99":a.zIndex;if(bookConfig.appLogoIcon){var b=$("#logoBar");b&&b.css("zIndex",a)}};(function(a){function b(c){if(!c)return 0;c=parseFloat(c.replace("px",""));return isNaN(c)?0:c}a.fn.left=function(){return b(this.css("left"))};a.fn.top=function(){return b(this.css("top"))};a.fn.right=function(){return b(this.css("right"))};a.fn.bottom=function(){return b(this.css("bottom"))}})(jQuery);
Class("Toolbar",{topBar:null,bottomBar:null,buttons:null,visible:!0,isMoving:!1,extendedBar:null,color:null,isRenderToolbar:!0,iInputSize:4,create:function(a,b){this.isRenderToolbar=bookConfig.ToolBarVisible;"undefined"!==typeof b&&(this.isRenderToolbar=b);this.parent=a;this.isRenderToolbar&&(this.color=Color(bookConfig.toolbarColor),this.topBarAlpha=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha),this.bottomBarAlpha=Math.min(bookConfig.bottomToolBarAlpha,bookConfig.ToolBarAlpha),this.initButtons(),
this.initBar(),this.initExtendedbar(),this.initEvents(),this.onResize())},initButtons:function(){this.buttons=new ObjectPool;this.buttons.add(new FirstPageButton);this.buttons.add(new PreviousPageButton);this.buttons.add(new NextPageButton);this.buttons.add(new LastPageButton);bookConfig.enablePageBack&&(this.buttons.add(new BackwardButton),this.buttons.add(new ForwardButton));bookConfig.HomeButtonVisible&&this.buttons.add(new HomeButton);bookConfig.ZoomButtonVisible&&this.buttons.add(new ZoomButton);
bookConfig.SearchButtonVisible&&this.buttons.add(new SearchButton);bookConfig.ThumbnailsButtonVisible&&this.buttons.add(new ThumbnailButton);bookConfig.TableOfContentButtonVisible&&this.buttons.add(new TableOfContentButton);bookConfig.BookMarkButtonVisible&&this.buttons.add(new BookmarkButton);bookConfig.AutoPlayButtonVisible&&this.buttons.add(new AutoPlayButton);bookConfig.BackgroundSoundButtonVisible&&this.buttons.add(new BackgroundSoundButton);bookConfig.AnnotationButtonVisible&&this.buttons.add(new AnnotationButton);
bookConfig.VideoButtonVisible&&this.buttons.add(new VideoButton);bookConfig.SlideshowButtonVisible&&this.buttons.add(new SlideshowButton);bookConfig.WeChatShareButtonVisible&&this.buttons.add(new WeChatShareButton);bookConfig.ShareButtonVisible&&this.buttons.add(new ShareButton);bookConfig.PhoneButtonVisible&&this.buttons.add(new TelephoneNumberButton);bookConfig.PrintButtonVisible&&this.buttons.add(new PrintButton);bookConfig.MessageButtonVisible&&this.buttons.add(new MessageButton);bookConfig.DownloadButtonVisible&&
this.buttons.add(new DownloadButton);bookConfig.FullscreenButtonVisible&&this.buttons.add(new FullscreenButton);1<language.length&&1<bookConfig.language.split(";").length&&this.buttons.add(new LanguageButton);bookConfig.aboutButtonVisible&&this.buttons.add(new AboutButton);bookConfig.HelpButtonVisible&&this.buttons.add(new HelpButton);bookConfig.EmailButtonVisible&&this.buttons.add(new ShareEmailButton);bookConfig.SelectTextButtonVisible&&this.buttons.add(new SelectTextButton);bookConfig.MagnifierButtonVisible&&
!global.isBelowIE11()&&this.buttons.add(new MagnifierButton);this.btnMore=new MoreButton;this.buttons.add(this.btnMore);this.sortXMLButton();this.buttons.each(function(a){a.setCallback(this.afterButtonClick.bind(this));this.setButtonTitle(a)}.bind(this))},sortXMLButton:function(){if(bookConfig.buttonsSortXML){var a=bookConfig.buttonsSortXML.slice().reverse(),b=a.indexOf("autoflip");0<=b&&(a[b]="autoplay");for(b=0;b<a.length;b++){if("btnshare"==a[b]&&bookConfig.ShareButtonVisible){var c=this.getButton("ShareButton",
"sharethis");this.buttons.remove(c)}else c=this.pickButton(a[b]);c&&(this.buttons.objects.unshift(c),this.buttons.length+=1)}}},resetButtonColor:function(){for(var a=0;a<this.buttons.objects.length;a++){var b=this.buttons.objects[a];b.resetImg();b.color=Color(bookConfig.iconColor);b.fontColor=Color(bookConfig.iconFontColor);b.changeIconColor(bookConfig.iconColor);b.changeCaptionColor(bookConfig.iconFontColor);b.title&&b.title.setColor({color:bookConfig.toolbarColor,textColor:bookConfig.iconFontColor})}bookConfig.QRCode&&
global.qrButton&&global.qrButton.visible&&global.qrButton.resetIconColor()},resetButtonTitleColor:function(){for(var a=0;a<this.buttons.objects.length;a++){var b=this.buttons.objects[a];b.title&&b.title.setColor({color:bookConfig.toolbarColor,textColor:bookConfig.iconFontColor})}},resetToolbarColor:function(){this.color=Color(bookConfig.toolbarColor);this.topBarAlpha=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha);this.topBar&&this.topBar.css({"background-color":this.color.rgba(this.topBarAlpha)});
this.bottomBar&&this.bottomBar.css("background-color",this.color.rgba(this.topBarAlpha));this.extendedBar&&this.extendedBar.$bar.css({"background-color":this.color.rgba(this.topBarAlpha)});this.topBarAlpha?(this.topBar&&this.topBar.css({"box-shadow":"","-webkit-box-shadow":""}),this.bottomBar&&this.bottomBar.css({"box-shadow":"","-webkit-box-shadow":""})):(this.topBar&&this.topBar.css({"box-shadow":"none","-webkit-box-shadow":"none"}),this.bottomBar&&this.bottomBar.css({"box-shadow":"none","-webkit-box-shadow":"none"}));
this.resetButtonTitleColor();global.PcTelephoneNumberFrame&&global.PcTelephoneNumberFrame.setColor({color:bookConfig.toolbarColor,textColor:bookConfig.iconFontColor})},setButtonTitle:function(a){if("WeChatShareButton"==a.getClassName())global.WeChatShareImg=new WeChatShare({parent:this.parent,color:"#fff",textColor:bookConfig.toolbarColor,margin:10,padding:10,arrowHeight:12,arrowWidth:12});else if("TelephoneNumberButton"==a.getClassName())global.PcTelephoneNumberFrame=new PcTelephoneNumberBubble({parent:this.parent,
color:this.color,textColor:a.fontColor,margin:4,padding:"15",arrowHeight:8,arrowWidth:8});else{var b=new TextBubble({parent:this.parent,text:a.caption,color:this.color,textColor:a.fontColor,margin:7});a.setTitle(b)}},initBar:virtual_function,initExtendedbar:virtual_function,onResize:virtual_function,initEvents:function(){function a(){this.extendedBar.visible&&this.extendedBar.hide()}this.topBar&&this.topBar.bind("click",a.bind(this));this.bottomBar&&this.bottomBar.bind("click",a.bind(this))},getHeight:function(){return this.getTopHeight()+
this.getBottomHeight()},getTopHeight:function(){var a=this.visible?this.topBar?this.topBar.height()+this.topBar.top():0:0;thumbnail&&(a+=thumbnail.getTopHeight());return a},getLogoHeight:function(){return this.topBar?this.topBar.height():0},getBottomHeight:function(){var a=this.visible?this.bottomBar?this.bottomBar.height()+this.bottomBar.bottom():0:0;NeatStyle.isNeat()&&(a="fresh"===global.templeteName?55:40);thumbnail&&(a+=thumbnail.getBottomHeight());return a},getWidth:function(){return this.getLeftWidth()+
this.getRightWidth()},getLeftWidth:function(){return 0},getRightWidth:function(){return 0},show:function(){if(!this.isMoving&&!this.visible&&this.isRenderToolbar)if(isIE8())this.topBar&&this.topBar.css({display:"block"}),this.bottomBar&&this.bottomBar.css({display:"block"}),this.visible=!0;else{this.isMoving=!0;if(this.topBar){var a=transformCSS({tran:{x:0,y:0}});animateOnce(this.topBar,a,500)}this.bottomBar&&(a=transformCSS({tran:{x:0,y:0}}),animateOnce(this.bottomBar,a,500));this.visible=!0;BookEvent.trigger("showToolbar",
[]);(function(){this.isMoving=!1}).delay(this,500)}},hide:function(a){if(!this.isMoving&&this.visible&&this.isRenderToolbar){var b=this.getTopHeight()+5,c=this.getBottomHeight()+5;isIE8()?(this.topBar&&this.topBar.css({display:"none"}),this.bottomBar&&this.bottomBar.css({display:"none"}),this.visible=!1):(this.isMoving=!0,this.topBar&&(b=transformCSS({tran:{x:0,y:-b}}),a?animateOnce(this.topBar,b,500):this.topBar.css(b)),this.bottomBar&&(c=transformCSS({tran:{x:0,y:c}}),a?animateOnce(this.bottomBar,
c,500):this.bottomBar.css(c)),this.visible=!1,BookEvent.trigger("hideToolbar",[]),function(){this.isMoving=!1}.delay(this,500))}},matchButton:function(a){a=this.buttons.match(a);return 0==a.length?null:a.get(0)},getButton:function(a,b){a=this.buttons.find(a);return 0==a.length?null:1<=a.length&&b?(a=a.objects.filter(function(c){return c.name==b}),a[0]):a.get(0)},pickButton:function(a){(a=this.getButton(a))&&this.buttons.remove(a);return a},removeButton:function(a){"string"==typeof a&&(a=this.getButton(a));
a&&(a.$button.remove(),this.buttons.remove(a))},addButton:function(a){a&&this.buttons.add(a)},changeFullscreenIcon:function(a){var b=this.getButton("fullscreen");b&&(a?b.setAsExitFullScreen():b.setAsFullScreen(),function(){this.onResize()}.delay(this,100))},changeLanguage:function(){this.buttons.each(function(a){a.changeLanguage()})},buttonsInExtendedBar:function(){var a=new ObjectPool;this.buttons.each(function(b){b.$parent==this.extendedBar.$bar&&a.add(b)}.bind(this));return a},afterButtonClick:function(a){this.extendedBar.visible&&
(a!=this.btnMore?isPhone()||isPad()||this.extendedBar.hide():(a=this.buttonsInExtendedBar(),a.each(function(b){b.changeColor()}),a=null))},isRightToLeft:function(){var a=getLanguage("btnSearch","Search");return LanguageTool.isRightToLeft(a)},addCustomButton:function(a){},removeCustomButton:function(a){},resetPageNumberSize:function(a){if(this.iInputSize&&this.iInputSize!=a){this.iInputSize=a;try{if(this.edtPageNumber){var b=this.edtPageNumber.find("input");b.attr("size",a);b.css("width","auto");var c=
b.width();this.edtPageNumber.css("width",c);this.edtPageWidth=c;this.onResize()}}catch(d){}}}});
Class("ExtendedBar",{$bar:null,visible:!1,color:null,height:10,isMoving:!1,create:function(a){this.$parent=a;this.color=Color(bookConfig.toolbarColor);this.toolBarAlpha=bookConfig.ToolBarAlpha;this.$bar=$("<div class='extendedBar'></div>");!this.isRightToLeft()||isPhone()||isPad()||this.$bar.addClass("rtl");this.$parent.append(this.$bar);this.$bar.css({"background-color":this.color.rgba(this.toolBarAlpha),display:"none",zIndex:101});wrapFormManagerRegister(this)},setStyle:function(a){this.$bar.css(a)},
isRightToLeft:function(){var a=getLanguage("btnSearch","Search");return LanguageTool.isRightToLeft(a)},show:function(a){if(1!=this.isMoving&&1!=this.visible){this.visible=this.isMoving=!0;this.$bar.css({left:a.left+a.width-this.width+"px",top:a.top+a.height+10+"px"});var b=0;this.$bar.css({display:"block",opacity:0});var c=function(){b+=.1;this.$bar.css({opacity:b});equals(b,1)&&(c.stop(),this.isMoving=!1)}.interval(this,40)}},hide:function(){if(1!=this.isMoving&&0!=this.visible){this.isMoving=!0;
this.visible=!1;var a=1,b=function(){a-=.1;this.$bar.css({opacity:a});equals(a,0)&&(b.stop(),this.$bar.css("display","none"),this.isMoving=!1)}.interval(this,40)}},resize:virtual_function});
try{if((isPhone()||isPad())&&window.htmlConfig&&window.htmlConfig.phoneTemplate){var $jscomp$optchain$tmpm1884673415$0,phoneTemplateName=null==($jscomp$optchain$tmpm1884673415$0=window.htmlConfig.phoneTemplate)?void 0:$jscomp$optchain$tmpm1884673415$0.name,$jscomp$optchain$tmpm1884673415$1,phoneTemplatePath=null==($jscomp$optchain$tmpm1884673415$1=window.htmlConfig.phoneTemplate)?void 0:$jscomp$optchain$tmpm1884673415$1.path;if(phoneTemplateName&&phoneTemplatePath&&["neat","classical"].includes(phoneTemplateName.toLowerCase())){var toolbarUrl=
phoneTemplatePath+"PhoneToolBar.min.js?"+(new Date).getTime();loadJavascript(toolbarUrl)}}}catch(a){};var ThumbnailCell=Class({create:function(a,b){this.parent=a;this.margin=12;this.index=b;this.item=$("<div aria-label='"+getLanguage("ariaPage","page")+" "+this.index+"' tabindex='-1' class='item button'></div>");this.initHtml();this.initEvent();this.onResize()},onResize:function(){this.imageHeight=80;this.length=this.imageWidth=parseInt(bookConfig.largePageWidth*this.imageHeight/bookConfig.largePageHeight);this.item.css({width:this.imageWidth+"px"});this.image.css({width:this.imageWidth+"px"});this.noThumbBg.css({width:this.imageWidth+
"px"})},initHtml:function(){this.initStructure();this.item.append(this.noThumbBg).append(this.image);this.item.append(this.title);this.parent.append(this.item)},initStructure:function(){this.image=$("<img/>");this.noThumbBg=$("<div class='noThumbBg' style='display:none;margin: 0 auto;background:"+bookConfig.pageBackgroundColor+";height:100%;'></div>");this.title=$("<p class='title'>"+getShownPageNumber(this.index)+"</p>");this.loading()},loading:function(){this.image.css({"background-color":"#ffffff",
"background-image":"url("+bookConfig.pageLoadingUrl+")","background-repeat":"no-repeat","background-position":"center"})},unLoading:function(){this.image.removeAttr("style")},setStyle:function(a){this.item.css(a)},initEvent:function(){this.item.onTap(function(){gotoPageFun(this.index,!1,"thumbnail")}.bind(this))},fillContent:function(a){a=function(b){this.unLoading();b.match(/^none/)?(this.noThumbBg.css({display:"block",width:this.imageWidth+"px"}),this.image.attr("src","").css({display:"none"})):
(this.image.attr("src",b),this.noThumbBg.css({display:"none"}),this.image.css({display:"inline-block","max-width":"100%","max-height":"100%","object-fit":"contain"}))}.bind(this);pageResourceLoad(this.index,"thumb",a)},getDom:function(){return this.item},fission:function(){this.item.removeClass("highlight");this.item.addClass("focus")},merge:function(){this.item.removeClass("focus")},setHighLight:function(a){this.index==a&&this.item.addClass("highlight")},clearHighLight:function(){this.item.removeClass("highlight")}});var ThumbnailItem=Class({create:function(a,b){this.parent=a;this.margin=12;this.pages=b;this.cells=[];this.initHtml();this.onResize()},onResize:function(){for(var a=this.length=0;a<this.cells.length;a++)this.length+=this.cells[a].length;this.item.css({width:this.length+"px"})},initHtml:function(){this.item=$("<div class='item_focus focus'></div>");this.initStructure();this.addItem();this.item.append(this.title);this.parent.append(this.item)},initStructure:function(){this.initCells();for(var a=getShownPageNumber(this.cells[0].index),
b=1;b<this.cells.length;b++)a=a+"-"+getShownPageNumber(this.cells[b].index);this.title=$("<div class='title'>"+a+"</div>")},fillContent:function(){for(var a=this.cells.length,b=0;b<a;b++)this.cells[b].fillContent(0)},addItem:function(){for(var a=this.cells.length,b=0;b<a;b++)this.item.append(this.cells[b].getDom())},initCells:function(){for(var a=0;a<this.pages.length;a++){var b=new ThumbnailCell(this.item,this.pages[a]);this.cells.push(b)}},setPosition:function(a,b){this.item.css(b,a+"px")},fission:function(){this.item.removeClass("focus");
1==this.cells.length?(BookInfo.isLeftPage(this.cells[0].index,!0)?this.cells[0].setStyle({left:"-3px",right:"auto"}):this.cells[0].setStyle({right:"-3px",left:"auto"}),this.cells[0].fission()):(this.cells[0].fission(),this.cells[1].fission(),this.cells[0].setStyle({left:"-3px",right:"auto"}),this.cells[1].setStyle({right:"-3px",left:"auto"}))},merge:function(){this.item.addClass("focus");1==this.cells.length?(this.cells[0]&&this.cells[0].setStyle({left:"0",right:"0"}),this.cells[0].merge()):(this.cells[0].merge(),
this.cells[1].merge(),this.cells[0].setStyle({left:"0",right:"auto"}),this.cells[1].setStyle({right:"0",left:"auto"}))},setHighLight:function(a){for(var b=0;b<this.cells.length;b++)this.cells[b].setHighLight(a);this.item.addClass("highlight")},clearHighLight:function(){this.item.removeClass("highlight");for(var a=0;a<this.cells.length;a++)this.cells[a].clearHighLight()}});var ThumbnailFrame=Class({create:function(a){this._super(a);this.direction=rightToLeft?Direction.right:Direction.left;this.leftButtonUrl=uiBaseURL+"prev_page.png";this.rightButtonUrl=uiBaseURL+"next_page.png";this.itemArray=[];this.taskList=new TaskList;this.taskList.setLargeLength(5);this.initDefaultDom();this.initHtml();this.initEvent();this.onResize();this.initCss();bookConfig.ToolBarVisible||this.hide()},initHtml:virtual_function,initCss:function(){rightToLeft&&this.stage.addClass("rightToLeft");
this.stage.css({bottom:"0",opacity:"0",display:"none"});this.initColorCss()},initColorCss:function(){this.stage.css({color:this.fontColor})},initDefaultDom:function(){this.closeUrl=form_icons.close?"data:image/png;base64,"+form_icons.close:uiBaseURL+"close.png";this.close=$("<img alt='close' width='auto' height='auto' class='close' src='"+this.closeUrl+"'/>");this.close.click(this.hide.bind(this));this.close.changeButtonColor(this.fontColor);this.leftBtn=$("<div class='leftBtn btn'><img src='"+this.leftButtonUrl+
"'/></div>");this.rightBtn=$("<div class='rightBtn btn'><img src='"+this.rightButtonUrl+"'/></div>");this.initSwiper()},initSwiper:function(){this.thumbnailSwiper=$("<div class='thumbnailSwiper stage'></div>");this.thumbnailSwiperList=$("<div class='swiper'></div>");this.progress=$("<div class='progress'></div>");this.progressBar=$("<div class='progressBar'></div>");this.refreshSwiper(this.thumbnailSwiperList);this.thumbnailSwiper.append(this.thumbnailSwiperList);this.thumbnailSwiper.append(this.progress);
this.progress.append(this.progressBar)},initEvent:function(){this.stage.bind("mousedown touchstart",function(a){a.stopPropagation()});if(this.leftBtn)this.leftBtn.onTap(function(){this.thumbnailSwiper.move(rightToLeft?-170:170)}.bind(this));if(this.rightBtn)this.rightBtn.onTap(function(){this.thumbnailSwiper.move(rightToLeft?170:-170)}.bind(this));rightToLeft?this.thumbnailSwiper.scroll({},Direction.right):this.thumbnailSwiper.scroll({},Direction.left)},onResize:function(){if(bookConfig.ToolBarVisible)if(this.refresh(),
this.thumbnailSwiperList.width()<.9*windowWidth-52){var a=this.thumbnailSwiperList.width()+52;this.stage.css({width:a+"px",left:(windowWidth-a)/2+"px"})}else this.stage.css({width:"90%",left:"5%"})},refresh:function(){this.thumbnailSwiper.refreshData()},refreshSwiper:function(a){this.length=0;for(var b=BookInfo.getThumbnailPages(),c=0;c<b.length;c++)this.addItem(a,b[c]);a.css("width",this.length+"px")},mergeAll:function(){for(var a=0;a<this.itemArray.length;a++)this.itemArray[a].merge()},fissionAll:function(){for(var a=
0;a<this.itemArray.length;a++)this.itemArray[a].fission()},addItem:function(a,b){a=new ThumbnailItem(a,b);a.setPosition(this.length,this.direction);this.length+=a.length;this.length+=a.margin;this.itemArray.push(a)},clearHighLight:function(){$(".highlight").removeClass("highlight")},setHighLight:function(a){$(".highlight").removeClass("highlight");for(var b=0;b<this.itemArray.length;b++)0<=this.itemArray[b].pages.indexOf(a)&&this.itemArray[b].setHighLight(a);window.setTimeout(this.thumbnailSwiper.animateToCenterItem,
10)},getShowStatu:function(){return this.visible},getHeight:function(){return this.getTopHeight()+this.getBottomHeight()},getTopHeight:function(){return 0},getBottomHeight:function(){return this.visible?106:0},fillImage:function(a){this.itemArray&&this.itemArray[a]&&!this.itemArray[a].fill&&(this.LoadCount++,this.itemArray[a].fillContent(),this.itemArray[a].fill=!0)},fillContent:function(){this.interval&&!this.interval.isRunning()?this.interval.start():this.interval=function(){this.performTask()}.interval(this,
60)},performTask:function(){var a=this.getShownItems(),b=a[1];for(a=a[0];a<=b;a++){var c=function(){thumbnail.fillImage(this.index)}.bind({index:a});c.id=a;this.taskList.unShiftTask(c)}},getShownItems:function(){var a=this.thumbnailSwiper.stageLength,b=-this.thumbnailSwiper.getCurrentLength(),c=2*this.itemArray[0].cells[0].length+this.itemArray[0].margin;a=parseInt(a/c)+2;b=parseInt(b/c);c=Math.min(b+a,this.itemArray.length);b=Math.max(0,b);return[b,c]},showOrHide:function(){this.visible?this.hide():
this.show()},show:function(){bookConfig.ToolBarVisible&&!this.running&&(this.visible=this.running=!0,this.setHighLight(BookInfo.getCurrentPageIndex()),this.stage.css({display:"block"}),this.stage.animate({bottom:"74px",opacity:"1"},300,function(){this.running=!1;this.onShow();this.setA11yAndFocus()}.bind(this)),this.refresh(),this.fillContent(),BookInfo.getBook().adjustBookPosition())},hide:function(){this.running||(this.running=!0,this.visible=!1,this.stage.animate({bottom:"0",opacity:"0"},300,function(){this.stage.css({display:"none"});
this.running=!1;this.onHide()}.bind(this)),this.interval&&this.interval.stop(),BookInfo.getBook().adjustBookPosition())}}).extend(FormFrame);var ThumbnailForm=Class({create:function(a){this.direction=0;this._super(a);this.pages=[];this.width=.7*windowWidth;this.bookType=BookInfo.getBookType();this.isMerge=!1;this.progressBarWidth=0},initThumbSize:function(){this.imgHeight=80;this.imgCellWidth=this.imgWidth=parseInt(bookConfig.largePageWidth*this.imgHeight/bookConfig.largePageHeight)},initHtml:function(){this.stage=$("<div class='thumbnail_win10'></div>");this.stage.append(this.leftBtn);this.stage.append(this.thumbnailSwiper);this.stage.append(this.rightBtn);
this.parent.append(this.stage);this.lineStage=$("<div class='thumbnail_progress' ></div>");bookConfig.ToolBarVisible||this.lineStage.css({display:"none"});this.progressBg=$("<div class='progressBg'></div>");this.progress=$("<div class='progress'></div>");this.progressBar=$("<div class='progressBar'></div>");this.resetProgressCss();this.initEnterThumb();this.progress.append(this.progressBar);this.progressBg.append(this.progress);this.lineStage.append(this.progressBg);this.parent.append(this.lineStage)},
resetProgressCss:function(){this.progressBar.css({background:Color(bookConfig.iconColor).toString()});this.progress.css({background:Color(bookConfig.iconColor).toString()})},initEnterThumb:function(){this.initThumbSize();this.enterThumb=$("<div class='enterThumb' style='height:80px;'></div>");this.leftThumb=$("<div class='leftThumb thumb' ></div/>");this.rightThumb=$("<div class='rightThumb thumb' ></div/>");this.titleBox=$("<div class='titleBox' style=''></div/>");this.enterTitle=$("<p class='title' style='color:"+
Color(bookConfig.formFontColor).toString()+"'></p>");rightToLeft?this.enterThumb.append(this.rightThumb).append(this.leftThumb).append(this.titleBox.append(this.enterTitle)):this.enterThumb.append(this.leftThumb).append(this.rightThumb).append(this.titleBox.append(this.enterTitle));this.parent.append(this.enterThumb)},initEvent:function(){this._super();this.progressBg.bind(_event._click,function(a){a&&(this.tapLeft=a.srcEvent?a.srcEvent.pageX:a.pageX-this.progress.offset().left,0>this.tapLeft&&(this.tapLeft=
0),this.tapLeft>this.width-12&&(this.tapLeft=this.width-12),a=Math.ceil(this.tapLeft/this.progressBarWidth),this.pages[a-1]&&gotoPageFun(this.pages[a-1][0],!1,"thumbnail"),1==a?this.progressBar.animate({left:0}):a==this.pages.length?this.progressBar.animate({left:this.width-12}):this.progressBar.animate({left:this.tapLeft}))}.bind(this));this.progressBg.bind("mousemove",function(a){a.stopPropagation();var b=a.pageX-this.imgCellWidth/2,c=a.pageY-a.offsetY-this.imgHeight-8;a.target==this.progress[0]&&
(c-=3);a=Math.ceil((a.pageX-this.progress.offset().left)/this.progressBarWidth);1>=a&&(a=1);this.showItem(b,c,this.pages[a-1])}.bind(this));this.progressBg.bind("mouseenter",function(a){a.stopPropagation();this.progressBar.css({cursor:"pointer"});var b=a.pageX-this.imgCellWidth/2,c=a.pageY-a.offsetY-this.imgHeight-8;a=Math.ceil((a.pageX-this.progress.offset().left)/this.progressBarWidth);1>=a&&(a=1);this.showItem(b,c,this.pages[a-1])}.bind(this));this.progressBg.bind("mouseleave",function(a){a.stopPropagation();
this.progressBar.css({cursor:"auto"});this.hideItem()}.bind(this));this.progressBar.bind("mouseenter",function(a){a.stopPropagation();this.showItem(a.pageX-a.offsetX-this.imgCellWidth/2,a.pageY-a.offsetY-this.imgHeight-8)}.bind(this));this.progressBar.drag({reference:this.progress,direction:"horizontal",callback:function(a){this.tapLeft=a.srcEvent.pageX-this.progress.offset().left;this.tapLeft=0>this.tapLeft?1:this.tapLeft>this.width-12?this.width-12:this.tapLeft;a=Math.ceil(this.tapLeft/this.progressBarWidth);
this.pages[a-1]&&gotoPageFun(this.pages[a-1][0],!1,"thumbnail")}.bind(this)});this.lineStage.bind(_event._click,function(a){a.stopPropagation()}.bind(this));this.stage.bind(_event._click,function(a){a.stopPropagation()}.bind(this))},showItem:function(a,b,c){c=c||BookInfo.getCurrentPages();this.leftThumb.removeClass("single");this.rightThumb.removeClass("single");rightToLeft?(2==c.length&&(this.imgCellWidth=2*this.imgWidth,this.rightThumb.css({width:"50%"}),this.fillHoverContent(c[0],this.rightThumb),
this.fillHoverContent(c[1],this.leftThumb),this.enterTitle.html(c[1]+"-"+c[0])),1==c.length&&(this.imgCellWidth=this.imgWidth,this.rightThumb.css({width:"100%"}),this.leftThumb.addClass("single"),this.fillHoverContent(c[0],this.rightThumb),this.enterTitle.html(c[0]))):(2==c.length&&(this.imgCellWidth=2*this.imgWidth,this.leftThumb.css({width:"50%"}),this.fillHoverContent(c[0],this.leftThumb),this.fillHoverContent(c[1],this.rightThumb),this.enterTitle.html(c[0]+"-"+c[1])),1==c.length&&(this.imgCellWidth=
this.imgWidth,this.leftThumb.css({width:"100%"}),this.fillHoverContent(c[0],this.leftThumb),this.rightThumb.addClass("single"),this.enterTitle.html(c[0])));this.enterThumb.css({left:a+"px",top:b+"px",width:this.imgCellWidth+"px"});this.enterThumb.show()},fillHoverContent:function(a,b){var c=function(d){d.match(/^none/)?b.css({background:bookConfig.pageBackgroundColor}):b.css({background:"url("+d+") center center no-repeat","background-size":"cover"})}.bind(this);pageResourceLoad(a,"thumb",c)},hideItem:function(){this.enterThumb.hide()},
setHighLight:function(a){this._super(a);if(!this.isStay())if(this.bookType!=BookInfo.getBookType())this.bookType=BookInfo.getBookType();else for(var b=0;b<this.pages.length;b++)0<=this.pages[b].indexOf(a)&&(this.tapLeft=0==b?0:b==this.pages.length-1?this.width-12:b*this.progressBarWidth+this.progressBarWidth/2,this.progressBar.animate({left:this.tapLeft}))},isStay:function(){for(var a=0,b=0,c=0,d=BookInfo.getCurrentPageIndex(),e=0;e<this.pages.length;e++)if(0<=this.pages[e].indexOf(d)){c=e;b=e*this.progressBarWidth;
a=(e+1)*this.progressBarWidth;break}return 0==c?0<=b&&this.tapLeft<a:c==this.pages-1?this.tapLeft>b&&this.tapLeft<=a:this.tapLeft>b&&this.tapLeft<a},singleBookPages:function(){this.pages=[];for(var a=0;a<bookConfig.totalPageCount;a++)this.pages.push([a+1])},onResize:function(){this._super();this.pages=BookInfo.getThumbnailPages();var a=BookInfo.getBookType();1!=a&&a!==BookType.documentView_book&&a!==BookType.singleDocumentView_book||this.singleBookPages();a=this.pages.length;this.width=.7*windowWidth;
this.progressBarWidth=this.width/a;for(var b=BookInfo.getCurrentPageIndex(),c=0;c<a;c++)if(0<=this.pages[c].indexOf(b)){this.tapLeft=0==c?0:c==a-1?this.width-12:c*this.progressBarWidth+this.progressBarWidth/2;this.progressBar.css({left:this.tapLeft+"px"});break}this.stage.css({left:(windowWidth-this.stage.width())/2+"px"});1>=a&&(this.hide(),this.hideItem())},hide:function(){this._super()},resetLineStageBottom:function(a){this.lineStage.css({bottom:a+"px"})}}).extend(ThumbnailFrame);var toolbar_icons={home:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUyODdDRDk2OTA3NDExRThCOEE5QkYwRTI5RkE3NTIwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUyODdDRDk3OTA3NDExRThCOEE5QkYwRTI5RkE3NTIwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTI4N0NEOTQ5MDc0MTFFOEI4QTlCRjBFMjlGQTc1MjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTI4N0NEOTU5MDc0MTFFOEI4QTlCRjBFMjlGQTc1MjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz48lzXTAAAAaUlEQVR42uySUQrAMAhDlwPutB4wQ2iZdJra/wmFQnxPWgTJS9QMUTVACNYAJ4LKio6ACcBKsgoopqVZFHD33qxnCjpwKnHBCfyRRIHDNu53Acac6hPRXaxfoDdR1TvABeEY92WReQQYAOX/gg+FJMLGAAAAAElFTkSuQmCC",
ZoomIn:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBCNTlFMzE2OTA3MTExRTg4MjI5QkFCNjlCNTBFMkZGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBCNTlFMzE3OTA3MTExRTg4MjI5QkFCNjlCNTBFMkZGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEI1OUUzMTQ5MDcxMTFFODgyMjlCQUI2OUI1MEUyRkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEI1OUUzMTU5MDcxMTFFODgyMjlCQUI2OUI1MEUyRkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5CMEetAAAAQUlEQVR42mL8//8/Ax6wGUr74lLASMAAmCQjLgVMDBSCUQMgBmyGhjY2jBwb2PBmil0wmg4GgwEsBOS3EDIAIMAAHnsaJXEt28cAAAAASUVORK5CYII=",
ZoomOut:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZDMzM1RDE3OTA3MDExRTg4QkREQTg3NjZFNDRFNUYwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZDMzM1RDE4OTA3MDExRTg4QkREQTg3NjZFNDRFNUYwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkMzMzVEMTU5MDcwMTFFODhCRERBODc2NkU0NEU1RjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkMzMzVEMTY5MDcwMTFFODhCRERBODc2NkU0NEU1RjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4OtRdbAAAAKklEQVR42mL8//8/AyWAcdSAQWAAExBvBuL/ZOLNTAwUgtFYGBYGAAQYAC81OUGEwzCaAAAAAElFTkSuQmCC",
search:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIyNDNBRThGOTA3MDExRTg4RUEzQ0NFRTdEREMyMDlBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIyNDNBRTkwOTA3MDExRTg4RUEzQ0NFRTdEREMyMDlBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjI0M0FFOEQ5MDcwMTFFODhFQTNDQ0VFN0REQzIwOUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjI0M0FFOEU5MDcwMTFFODhFQTNDQ0VFN0REQzIwOUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6RfcCgAAAA0klEQVR42qSTUQqCQBCGR0k9RPS0tzBPEnSV7RL21Ht7jKCzJBT0WqAv0yi/sdqutvXDxwwzsz/KzhIzk0UhGOEi1IgGdXLRJwthz9Nq+4nP4IChp6AFJaSIGnXG3IfBGs2HkHs+NUefMT8wOKKhff8JdpgzY4MrGmrGQGGususRdzadMqEhv1KhxkzWF2PhhnxF01oi3u1ia3BCvpkx2CKeB1UsScgtFK49KL/cg9K3SMm/mzh+CxXeQuV4C73e10iBsg9EMYUrss1+MRiYvAQYAF8xKLGoryeSAAAAAElFTkSuQmCC",
thumbnails:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE0NjE0MUJDOTA3MDExRThBNTU5RTlEQzQ5NEI4NjdCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE0NjE0MUJEOTA3MDExRThBNTU5RTlEQzQ5NEI4NjdCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTQ2MTQxQkE5MDcwMTFFOEE1NTlFOURDNDk0Qjg2N0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTQ2MTQxQkI5MDcwMTFFOEE1NTlFOURDNDk0Qjg2N0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5jkVdMAAAAWUlEQVR42mL4////5v/YAUicAYpxqmEEkQy4ASOUxqkG2QBGJPH/OAzAUDO4DCArDJiAeAsOuS042ChqGPE7gDCg2ACQFzZD/YiONyOpw6lmNCENhoQEEGAAIzCS2YhU92kAAAAASUVORK5CYII=",
tableOfContent:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc5Rjc0QzQzOTA3NDExRThBMjM1RUY1MDQ0MUY0NzJGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc5Rjc0QzQ0OTA3NDExRThBMjM1RUY1MDQ0MUY0NzJGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzlGNzRDNDE5MDc0MTFFOEEyMzVFRjUwNDQxRjQ3MkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzlGNzRDNDI5MDc0MTFFOEEyMzVFRjUwNDQxRjQ3MkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Fix5oAAAAQ0lEQVR42mL4////5v/kg82MIJKBAoBsACOJev9TxQAmLBKboZLY8GZ0xUwMFIJRLwwLL1DVALIAKAy2UKB/C0CAAQCmbHynDzBCxQAAAABJRU5ErkJggg==",
bookmark:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4QUNGRkJEOTA3NDExRTg5N0M4RDU1NjczRUIwMjczIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4QUNGRkJFOTA3NDExRTg5N0M4RDU1NjczRUIwMjczIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QThBQ0ZGQkI5MDc0MTFFODk3QzhENTU2NzNFQjAyNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QThBQ0ZGQkM5MDc0MTFFODk3QzhENTU2NzNFQjAyNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Wa7BKAAAAaklEQVR42sSTUQ7AIAhD4YA7rQd8C5sfujgF/JAEjcbWkoIAhXgYRizVTpILfZaGQJ1Adgl6GScUpAnYLSFMUOp+ZUpg5LmXgFnjrEpgAPje/SqY/YanlWXhBh6CiJXv22acxZndON8CDACbYbhBYqhb8QAAAABJRU5ErkJggg==",
autoPlay:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYzMjNEQTZDOTA3MDExRTg4RDFGQjY1OEQ1QTNFRUE3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYzMjNEQTZEOTA3MDExRTg4RDFGQjY1OEQ1QTNFRUE3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjMyM0RBNkE5MDcwMTFFODhEMUZCNjU4RDVBM0VFQTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjMyM0RBNkI5MDcwMTFFODhEMUZCNjU4RDVBM0VFQTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6iGZQvAAAA9ElEQVR42qSTXwqCQBDGt/9EnUQl7a3D9NCJ0jKhu0S3iIzo0W7QQ0mxzcSXDMvKGg380N359sOZHZXWWhl4xJLIiTs4Ys8z9XLRJzbES9cH57bE0DTgwzuIHsSKmBFjwO8pchx7nKkMMiSuxBR7XUt5ETQaX/sx8Iknao0gXBAXPE2jEFo+4/NGDMdYiGTYjKozCt3WqNM0OFmMFLQcuRKN6VsMOsTcMOL84NvwtnJHC8jo4Vm6Sjg7SjjIhqx/aGKKXMKLQFxj2OAaJ+IaA3OQCjELdYNUQJs1GeURcI7y3z+ThEc7wd2XxI27jb3A1L8FGABDGj68AbpCSAAAAABJRU5ErkJggg==",
stopAutoPlay:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgyQTY1QUZBOTA3MDExRThCMDkzQkZDQUQ3NEM2NDkwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgyQTY1QUZCOTA3MDExRThCMDkzQkZDQUQ3NEM2NDkwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODJBNjVBRjg5MDcwMTFFOEIwOTNCRkNBRDc0QzY0OTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODJBNjVBRjk5MDcwMTFFOEIwOTNCRkNBRDc0QzY0OTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7wszaFAAAA80lEQVR42qSTYQ7BQBCFl1ARTlKNll/Owp2U0MRRJLiF4JdEwg38QMh6U49sNt1omeTLmN03L3Z3qrTWysIHQ7AFF7Lhmm/rzcIDU/DQ7pC9GajbBtK8oOgKxqAHmkR+T7gnsWLPxyDhxgl0uFbJOF5Ejea/TQ1a4M6zRhlNNiG10tOShZiOsSF6h6v+9CjetuY58xr0WG9LcjFKKQ/UwE29QjOXHLVoL6Ivq9+iypwa7Fl0CxgEzAcxmLPoFzAYMC/lQgLjGcMcz9g2njGwB+lozIJrkI7UJnlGuUG+jvLfH5OJjPYI7MANnMGaa4GtfwowAIdQmw1nQ/+cAAAAAElFTkSuQmCC",
soundOn:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkMyODczREZFOTA3MDExRThCQzQxRDg2QkZENDE2QkJFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkMyODczREZGOTA3MDExRThCQzQxRDg2QkZENDE2QkJFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzI4NzNERkM5MDcwMTFFOEJDNDFEODZCRkQ0MTZCQkUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzI4NzNERkQ5MDcwMTFFOEJDNDFEODZCRkQ0MTZCQkUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5fASldAAAA5UlEQVR42mL4//8/Aw4MApuxiGsAsT2UzYRPMwwgi6sB8TsgfgbEoiAxQprRDWAG4oNQ8anYDPiPwwCQkwOhbB0g/gvE34BYAp8mGFCEKv4IxGJQuQ1QuUwmBkzAiMa/D8Q7gZgPiHOgYuuhtBcDFn+iewfmBRA4jxSYIHCLEawC01YQ+I/kIm4g/gLEn6EugfG/YvMCSYBYA8yg9F0oLQOln7GgOZcBh3fyofRmKG0Lpa+SEo0fYKkPiLdA5TLISUh6QPwPaqgoOUn5MFS8H1deICYzPQFiIXwGEMrOdlA2C0CAAQAUKmc6qAYipQAAAABJRU5ErkJggg==",
soundOff:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5NzhCMEFDOTA3MDExRTg4RDk5Qjg0Q0RFQTBDREZDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5NzhCMEFEOTA3MDExRTg4RDk5Qjg0Q0RFQTBDREZDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTk3OEIwQUE5MDcwMTFFODhEOTlCODRDREVBMENERkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTk3OEIwQUI5MDcwMTFFODhEOTlCODRDREVBMENERkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6DMfy5AAAAZUlEQVR42mL4//8/Aw4MApvxyIMxI4jAApAFGRnwAGwGoAuQZAA25xA0AJem/+QawIjmGmyGwfkwAxjxBCQjDq+RZADOwKWbAQS9QHEgUhSNFCckqiZlkjMTEy6DofQWBgIAIMAAFp56HjmPpS4AAAAASUVORK5CYII=",
annotation:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFBQkZBMEYyOTA3NTExRThBOEQ1RkE0MDhENDcyMTc3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFBQkZBMEYzOTA3NTExRThBOEQ1RkE0MDhENDcyMTc3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUFCRkEwRjA5MDc1MTFFOEE4RDVGQTQwOEQ0NzIxNzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUFCRkEwRjE5MDc1MTFFOEE4RDVGQTQwOEQ0NzIxNzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6CPOUiAAAAV0lEQVR42mL4////5v/kg82MIJKBAoBsACOJev8PDgMYkAKEAYrxBepmJHVgwMRAIaCbF5CdPgS8gA9jeI9UF6Ane0ZKDGBEDwOSwg5hJOnZGSVcAAIMACwWUHNLenxuAAAAAElFTkSuQmCC",
videoGallery:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRFQ0VGRjY1OTE0RDExRTg5RkZCQjRDNjYzN0IyNjg4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRFQ0VGRjY2OTE0RDExRTg5RkZCQjRDNjYzN0IyNjg4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REVDRUZGNjM5MTREMTFFODlGRkJCNEM2NjM3QjI2ODgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REVDRUZGNjQ5MTREMTFFODlGRkJCNEM2NjM3QjI2ODgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6yVtHEAAAAYElEQVR42mL8//8/AyWAkVIDGIAGbP5PPACpZUDGIBeQ6gRGdC/8xyaBzbFo6kD8LeQa8J8SFzBQ6oVhYABKIDLAUkjA/gIB9EQCw1A5GICJgxMWxQmJKkl5YHMjQIABAOOV445CBL8WAAAAAElFTkSuQmCC",
photoGallery:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkNBQ0NERjk5M0NGMTFFOEIwNjhCNjM3MEMxRDFGOTciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkNBQ0NERjg5M0NGMTFFOEIwNjhCNjM3MEMxRDFGOTciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QThBQ0ZGQkQ5MDc0MTFFODk3QzhENTU2NzNFQjAyNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QThBQ0ZGQkU5MDc0MTFFODk3QzhENTU2NzNFQjAyNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5/9RoXAAAAh0lEQVR42qRTCwrAIAidsst1ju2GdaXFbuEqgkVp9hFemPFMX3kQkaV1sxDXY8POwodJbroYq6AJ8BlmLM1v0ffF3ueYhGTYyT3UUp3gDngDnoCr6pcVu3wF6InFVMaKqJGbGA6SoaqQtAQkiAmaiD0yG8NJcnOGC2RxFjT1xY/kNobRfQIMAKlhky5xLnp4AAAAAElFTkSuQmCC",
sharethis:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMxQzUzNjNFOTA3MTExRTg5QTk2OTM2NkIzQjMyMDRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMxQzUzNjNGOTA3MTExRTg5QTk2OTM2NkIzQjMyMDRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzFDNTM2M0M5MDcxMTFFODlBOTY5MzY2QjNCMzIwNEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzFDNTM2M0Q5MDcxMTFFODlBOTY5MzY2QjNCMzIwNEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7FR4iOAAAAsElEQVR42mL4////5v/YAUicAQnDALIYAxMDA4MPA2ngPzKHEWwklE2iZkZyDMAwhBgD5IE4Aoi9gFgFiMWBmBlhHI7AAWJOIO4D4l//8QBcBogC8Tmo+F8gXg7EflBxFIuwGcAGxCegYreA2AiL6/Aa0A/l3wNiMXyaQRg9EOWA+C4Qg9KHORCfwRMbm7EFYgOUvYyQzbgC8QiU7UGsAeQkJJQERVUDyAKUGrAFIMAAT/amrJbES1AAAAAASUVORK5CYII=",
print:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQyRjE0QTgxOTA3NDExRTg5REY0RDg5MzQzRjcyQzkwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQyRjE0QTgyOTA3NDExRTg5REY0RDg5MzQzRjcyQzkwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDJGMTRBN0Y5MDc0MTFFODlERjREODkzNDNGNzJDOTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDJGMTRBODA5MDc0MTFFODlERjREODkzNDNGNzJDOTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6mUSseAAAAdUlEQVR42rRTAQ6AIAgU//8b/N+VWzlEJCxjw6nAzYMzAUjCGc/GsobqIqw7OEZtMwGgSSG2A+TT+QpAJVqu41xfEOVtN0MA0GIttgBkdckO/8bbo7Cig4GCKRRnjI1CedF8fBXSbeU3KYc/kx5jpB9dziHAAGYDh6QynuKeAAAAAElFTkSuQmCC",
message:"iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAHBJREFUOE9jZKASYKSSOQxwg/4DATmGMgIBSN8QMQjmXFxeRQ4GvF6jmkGkBDpZLsIWs/QxiGpeGxwGIbsCKVA/AsULgAG6gJArsWZaqEEXgZoTgIZcIGQISl5DcxHIBSCXfCDGEJwGEasZWR3VyiMAblRNE0EOyTsAAAAASUVORK5CYII=",download:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY2MzM2RkFCOTA3NDExRTg4MTk1ODk5RERGNzY4MjQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY2MzM2RkFDOTA3NDExRTg4MTk1ODk5RERGNzY4MjQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjYzMzZGQTk5MDc0MTFFODgxOTU4OTlEREY3NjgyNDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjYzMzZGQUE5MDc0MTFFODgxOTU4OTlEREY3NjgyNDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6uwmVAAAAAWElEQVR42mL4////5v8IAGIzIGEYQBZDUc/EwMDgw0A+8GEEGw8BjFgUEJQbpgYg83GxiTIAF2Akxgv/CWgmKgz+49FMv1jABwahAWQBUG7cQoH+LQABBgDGy4V0fgo4vwAAAABJRU5ErkJggg==",
fullscreen:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUwOTU1NjMyOTA3MTExRTg4OUY5RkQ1QTk3Qzc4QzcxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUwOTU1NjMzOTA3MTExRTg4OUY5RkQ1QTk3Qzc4QzcxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTA5NTU2MzA5MDcxMTFFODg5RjlGRDVBOTdDNzhDNzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTA5NTU2MzE5MDcxMTFFODg5RjlGRDVBOTdDNzhDNzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz78H2N/AAAAVElEQVR42mL4////5v+YACTGgIaxqmP4jx0Qa8B/RhDBAAGMDKQBsL6BN4AFiLcwkAe2wFzAQAkYJgZshrJ9SdS7eXCkA4oNoDgzMVGQEsGpESDAAMCP4lqUlx+TAAAAAElFTkSuQmCC",
exitFullscreen:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY3MDU2QkQ1OTA3MTExRThBMDBDOEFGQTJEODIyOTZBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY3MDU2QkQ2OTA3MTExRThBMDBDOEFGQTJEODIyOTZBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjcwNTZCRDM5MDcxMTFFOEEwMEM4QUZBMkQ4MjI5NkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjcwNTZCRDQ5MDcxMTFFOEEwMEM4QUZBMkQ4MjI5NkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6d6a+uAAAAV0lEQVR42mL8//8/AxrYDKV9iRFnxGIATICRGHEmBgoBVQzYDHXefyRn4gPIajfjcsEWIsWwBiL9w2DwxcJ/pFSHnhL/ExsLPkSKDYekzEJsisMlDhBgAGCiJ585jJHOAAAAAElFTkSuQmCC",
languageChange:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc4QUQ3MDY0OTE0QzExRTg4Rjk5ODFEQzU5NkJFQzU5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc4QUQ3MDY1OTE0QzExRTg4Rjk5ODFEQzU5NkJFQzU5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzhBRDcwNjI5MTRDMTFFODhGOTk4MURDNTk2QkVDNTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzhBRDcwNjM5MTRDMTFFODhGOTk4MURDNTk2QkVDNTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7BaHzlAAAA8klEQVR42qSTYQqCQBCFxwgj6iQqWf86S90piwo6SlDdIrID2Anqh0mxvYlHbIuS5MDH6sybh7s7ijFGHAIwAynIyYm5wNXbLz5YgaepDq1tQNc10OYdRXewAGPQJ/q8ZE3jwJ6PwZqFCxgx1y7Z3pAaw699G4Tgwb0OLbEpMVBiarUn1ERCceI0Vxl89QhP23CfYn6HUKuRenowIuKDDiikXqg2V/2/Bn1wBbemWzi24LKl64SrV4JYNY0p1726RdY1xhWnbt/IwLrGyB2kzJqFqkHKqF3XGeUe+TnKjX8mGx3tOTiDAtz0tJmLXP1LgAEAvvbcwelD9qgAAAAASUVORK5CYII=",
about:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI1RTk5NTU5OTA3MTExRThBMUJCRTBGMDRFOEY3MDZGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI1RTk5NTVBOTA3MTExRThBMUJCRTBGMDRFOEY3MDZGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjVFOTk1NTc5MDcxMTFFOEExQkJFMEYwNEU4RjcwNkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjVFOTk1NTg5MDcxMTFFOEExQkJFMEYwNEU4RjcwNkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5GOKiRAAAA9UlEQVR42qSTbw7BQBDFhwQRTkKj+NSzcCd/QhNHkeAWoj5JJNzABxqy3sirbDcVLZP8st3ZN6/d3akYY8ShBUYgAleyY67l6u1JFczBw3wOXVuAumugxSuKbmAKAtAk+jzjmsaGNW+DkAtn0MvYVkKXGsOvfRm0wZ177ToFSdg5n1qtaWtiTNE4441ZBqka4Wkb7lNyErAmKunBiEgV1EAs6TAcS05etVfVl+W3qHB8GRw46Rcw8Dge1WDJyaCAwZDjWg/Es67Rz3ELHesaPbeRThm94DbSidowTys3yNdW/vtnstHWnoA9iMEFbJnzXP1TgAEAfEWYB3vdpAkAAAAASUVORK5CYII=",
Help:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkMyODI2OUJGOTA3MTExRTg4MzUxQjFGNjAxMjFEQjM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkMyODI2OUMwOTA3MTExRTg4MzUxQjFGNjAxMjFEQjM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzI4MjY5QkQ5MDcxMTFFODgzNTFCMUY2MDEyMURCMzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzI4MjY5QkU5MDcxMTFFODgzNTFCMUY2MDEyMURCMzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz67Y3T+AAABB0lEQVR42qSTTw4BUQzGy4IIp7BkwtjNAZyCveP4EyQ4iWS4heAAnIAFQp6Wb6TqTWahyS8z0/e177WvQ845MtSYPrNjLmALX83q9UeBmTAPl26yNmNKNoEExxBdmRETMRUg72Osia0R80kwxcKRaXnKSgihcTjtK0GduaPWEMK2OfpcJWlCKzF1cQwgGijR3FN/T61/YgjddqhTJ7DJtC+Cb0eqMYWUupPmtpWvmDQ8K0Hs2Z1wM2KntBIINdudbQmbPBEt6W0d+rYFk2Oq9GtdPFeSLVDX2PScIDa7N9Q1BnaQDmoWfAlCaBxiMke5DDJH+e+fSSOjPWT2zI05S7fhC6z+KcAApws5HVbWn0AAAAAASUVORK5CYII=",
moreBar:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhERTYzQ0U1OTA3MTExRThCNjA1QkVBRTQyMzA3NjQ3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhERTYzQ0U2OTA3MTExRThCNjA1QkVBRTQyMzA3NjQ3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OERFNjNDRTM5MDcxMTFFOEI2MDVCRUFFNDIzMDc2NDciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OERFNjNDRTQ5MDcxMTFFOEI2MDVCRUFFNDIzMDc2NDciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5fV7SjAAAATUlEQVR42mL8//8/AyWAiYFCMGoAxAAvIH4GxZ5IcsSJA6Px+X8EeAaKVigmShzkgr84XEecONAUL6ipIFs8kWwiSpxxNCUOAgMAAgwAPvGCSgnYXRIAAAAASUVORK5CYII=",
soundAdd:"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEFBNzMxOUFCQjgwMTFFNkFFNTJGQ0IwMjg0MjJBRTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEFBNzMxOUJCQjgwMTFFNkFFNTJGQ0IwMjg0MjJBRTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4QUE3MzE5OEJCODAxMUU2QUU1MkZDQjAyODQyMkFFNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4QUE3MzE5OUJCODAxMUU2QUU1MkZDQjAyODQyMkFFNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqAv3nkAAABBSURBVHjaYvz//z8DLQETA43BqAWjFmCA/1A8GkTUAyxEhDkx4oyD1geMOFzOOJqK6BYHDMSmltE4GLWAdgAgwAAU3Qgykbj+1QAAAABJRU5ErkJggg==",
soundReduce:"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTE1MjRBQzlCQjgwMTFFNjk0MzRGREJFRTk5OTY1OUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTE1MjRBQ0FCQjgwMTFFNjk0MzRGREJFRTk5OTY1OUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MTUyNEFDN0JCODAxMUU2OTQzNEZEQkVFOTk5NjU5QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MTUyNEFDOEJCODAxMUU2OTQzNEZEQkVFOTk5NjU5QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po2FvM0AAAA1SURBVHjaYvz//z8DLQETA43BqAWjFoxaQAcLWAjIE1uOMA5aHzCORvKoBaMWjFrAwAAQYADvCQQywiPpxwAAAABJRU5ErkJggg==",
emailButton:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJDODgyNzlGOTE0QzExRThCOUFDQzUzQkM1Q0VCNjYxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJDODgyN0EwOTE0QzExRThCOUFDQzUzQkM1Q0VCNjYxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkM4ODI3OUQ5MTRDMTFFOEI5QUNDNTNCQzVDRUI2NjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkM4ODI3OUU5MTRDMTFFOEI5QUNDNTNCQzVDRUI2NjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz79c3mXAAAAh0lEQVR42sSTYQqAIAyFnXSAukmdXe9RN8lOsGaMGmMWtR8NPlT0PZ5MARGDpyKRCPxIAnRGiGK+8bgQAwGKiSjqLOW4aiQKz2eir+GYurfyXuH1UdIgNEwscWgZWCaW+NZAm1jiRwNpYolPnWwjvOwg6ja638E/Bp2+05cE2REgg/c77wIMAH3bQKs4488ZAAAAAElFTkSuQmCC",
wechat:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA5NzYzRTE0OTE0RDExRThBOEE5RTU5REE3RTFDRjY1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA5NzYzRTE1OTE0RDExRThBOEE5RTU5REE3RTFDRjY1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDk3NjNFMTI5MTREMTFFOEE4QTlFNTlEQTdFMUNGNjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDk3NjNFMTM5MTREMTFFOEE4QTlFNTlEQTdFMUNGNjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6INsd7AAAA3ElEQVR42qSTgQ2CMBBFqQvICB2BERzBDWQENpAN1AnUDXAC2AA2UCegTlD/JXfJ2bSNSX/y6JUcl7tPa7z3VYk2VaF0AQtO4Ak8M4JDtgKNAPZg9WnNoObcH+jRqMQOTIn9HCtAI/SqoQkswf7FcQPacAKDKg7rNjPlg/2QQrTegRMPcrolvKF3rXgwJD4+q5hyXCTeiQefSOtWxVewcjwypKO42aiqpCX4G0nJQRLnL2yaU6bl9JYOLKP/cdhVTF0VOxyKNlOkpxzzx22s+QBZZuF1IEzpdf4KMABXqr/AqwuHnAAAAABJRU5ErkJggg==",
magnifier:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTAyNThBQjlBNDQ4MTFFOUE5Q0I5OTI3ODk1RkNGRTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTAyNThBQjhBNDQ4MTFFOUE5Q0I5OTI3ODk1RkNGRTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEI1OUUzMTY5MDcxMTFFODgyMjlCQUI2OUI1MEUyRkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEI1OUUzMTc5MDcxMTFFODgyMjlCQUI2OUI1MEUyRkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Cz38mAAABCElEQVR42pyTOw6CQBCGF1uhUw/gGfQAm3AD9Qr09sRCE+7AGexQKz2DIdjYyBl8FWjhOuC/ZiQLRif5Msxj/+xmBqGUEowWERAJkYGYmKImyvBgQBxVtZ3QYxTICw80LghJ2EAip9AzKAu0oZ7bhBW1uYh9dpMOF5iisGSHPeQORMjyEfIBF4iRlKxxDUKI6LxEb8IFMiSd0vU9XJ8/w0F8qxNwDRPQz7ARX7RAQwixFy/rwY+IlLDAhuii1odP4QuBCN9jeBeHtM2R4z2rdxUj0WP0Tdv2bYxVi9QEko1Pm3GVh8S5ZpXPJhFR8TPtiDtxJbbEjP1MHyJWofK7KT6Ff8zS/inAADvIotdAqCFrAAAAAElFTkSuQmCC",
text:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ3OTdFQ0UxOTE0QjExRThCRTkwQjgzQTczOEVDMUVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ3OTdFQ0UyOTE0QjExRThCRTkwQjgzQTczOEVDMUVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDc5N0VDREY5MTRCMTFFOEJFOTBCODNBNzM4RUMxRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDc5N0VDRTA5MTRCMTFFOEJFOTBCODNBNzM4RUMxRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5czB/EAAAAR0lEQVR42mL4////5v/kg82MIJKBAoBsACMWeYJyA28ACxBvIdP7W2AuwKcInwsYRg0YNgYwgAxAw/hy52Z09UwMFAKAAAMATv6tq6AUEv8AAAAASUVORK5CYII=",
phone:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjEyOUM0OTA1NDU3MTFFQTkyNEM5NzFGNDkzNzk2QjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjEyOUM0OTE1NDU3MTFFQTkyNEM5NzFGNDkzNzk2QjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMTI5QzQ4RTU0NTcxMUVBOTI0Qzk3MUY0OTM3OTZCMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyMTI5QzQ4RjU0NTcxMUVBOTI0Qzk3MUY0OTM3OTZCMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqH/sRYAAAEnSURBVHjajNK/L4NRFMbxU0S0kWAWkiZ2k8Vi8WMRo42hU9OpXTsQm7/AQiQ2g0iExCD9EwyIpJNRwiAYNKFc38MjeVVf9z3Jp+k9bc577/NeCyEYijjDC64wrn6Uf0zgEW84RhtN9GYdsI93LKhZDd+1nXXABW46fjhFC4OxAT1m9oQR+12HGMCcRcoHHGEYi4n+Etq4jA3wbfQrxFv0aWse5HnWDJLBbWm927GODjA90d/GciJIr4bWJWxgLG3AKB6U/hQKulxBF+yn/L7sdBvgZnT+Z8yqt67bWVfvBB+4xlC3c5V1lFesppx9RbvZSwunrK36oErKf/zNNf5LeBr3etIB5tUvJAKuxd5zHmu4C3/LA7bcV5LxyqGKSa2b2PQvnwIMAJHCuD8uLG4ZAAAAAElFTkSuQmCC",
previous_normal:"iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAG8SURBVHjazNi9axVBFMbh5xoDgcBtUmml1W00XSRdsBA/EAQJJKDg3yZEULAJiB9YBLugXbC5VVJpZRMIBK5xbU6xDLtk997d2Uz5whx+MDPnfc+MiqJwldb1nuvfxQPM8AHHl2241iPMOp5jjDU8bbKpL6AJnmHU9jT6ALqFbSyVtAJfhwC6gV0sJ/oX/MwNtIaXWEn0bzhsWqQroDFeYTXRf+CgTaEugFYDZpzoR/jYttiiQCt4EcdVXlPsx2XOBrSMHdxM9BO8x8U8RecFWoqnfTvRf+NtdGa5gEbR9CaJ/gd7OF/kDswD9DhsobxO8Rpni76QtkD3cS/RzgLmtIv+0QZoE1uJdo43cVxyAk3wKNFmcYF/dek9bYDK61887ZOunbnPPNQr0LRi33ZEjcGAPld06t2KTp3tyA4jSjTxsmx36ADfG7p9tkv9KaJFkzyUBaiIaDFtmBizPPuL6EPHDTN1lj40w7uKTl01dWRrjHVeVjWXZevUdW6/jidDWUddHtqIyDKIl9Ulxq2ILoOYa12mfog7Q7l91dQxim+ZweJH1Vz2t8nGPj+sjgKo/GF1+Uhz1b70/g8AzSxa9/kpHEkAAAAASUVORK5CYII=",
previous_normal_down:"iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBERjAxRUY0OTA3MzExRTg4NDA4ODQxNkJEREEzMUI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBERjAxRUY1OTA3MzExRTg4NDA4ODQxNkJEREEzMUI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MERGMDFFRjI5MDczMTFFODg0MDg4NDE2QkREQTMxQjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MERGMDFFRjM5MDczMTFFODg0MDg4NDE2QkREQTMxQjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7kTgTuAAABVUlEQVR42mL8//8/w2ACTDQ2PwqIHwPxLSB2JEoHKIRohKOB+N9/BLhFjD5ahZAfEM8DYkYkMY6BCiEHIP76HxWAQiqcGP3UdowREH/4jwnyiTWDmo5RBeJXWBzTRIo51HKMDBA/xuKYqaSaRQ3HiALxTSyOWQLEjPR2ED8Qn8HimI1AzEqOmZQ4hguI92FxzH6oHAM9HcQKDQV0cBYaagz0dBAjNH2gg5vQ9MRAbwdNweKYx9CcxkBvBzVicQyo7FGjVnlGiuJ8LI4BlcrG1CztiVXoh8UxX6H1FlWrH2Jre180/h8gjgTiA0OtgUYzB21G47MA8XIgdqC6i4Zqoh6U2X5QFoyDsuoYdJXroGx+DMoG2qBswg7KRv6g7AYNyo7ioOxKI7effqI56tFAjn5sAuIkUN2NJPaDGI0sNGzaLIU6qBOIvwNxOjGaGAfbkB5AgAEAvtEBWGoX6OYAAAAASUVORK5CYII=",
next_normal_down:"iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA2QjBFRTZGOTA3MzExRThCNzJFQkE1QTZCNjc2RENDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA2QjBFRTcwOTA3MzExRThCNzJFQkE1QTZCNjc2RENDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDZCMEVFNkQ5MDczMTFFOEI3MkVCQTVBNkI2NzZEQ0MiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDZCMEVFNkU5MDczMTFFOEI3MkVCQTVBNkI2NzZEQ0MiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4x+kIXAAABS0lEQVR42tSYsWoCQRCG94IBSWOVLm3yAPEF9AG0DZouL+AzxGeIrZWQ+rQ3eYDkAe7KXJcqjZCAuP4DAx7rFHtwdzMZ+EDuTvgYdndmJ/HeO0txEfndEOSgANNGjShDEeT+FAfwGPm/ysRmqFv6nYAlGGtm6IEzU44dGNSdoSofz/x5/IB7LSFiLkh9g1stIWIhSBXgRksoAStBKgPXGkLEJUgFqQ/Q0xAirsCbILXld60LOc7GpyCVchZbF3K8bjJBasXrrXUhxzusEKRetISIOz6TwnjWEiL6fHqHMdMSclzfdoLUuM5qXyXewQTsg+ejOhs0cx1jlRiAV9AJnm/q7If+5aI2te1NHYymSoep4mqq/TDVoJlrYU01+aauQaYuiuau0l+BzF9sf9PU9OO3XI/BE1hrTj+GPCOi3TRtajZEJNZGekcBBgBrqGu1PoiOrQAAAABJRU5ErkJggg==",
next_normal:"iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAGbSURBVHjazNi9Sx1BFMbhZ/0AQbCx0spUNpJOsQsWYhKEQBAUDORvu2DAgE2afGAhdpJ0Js2tkspUNoIgqNk0p7gMd8gS3BlPtbwsyw/m7HveM03bth5TTXV87wm2MY1jfK8NtI35eH6NBud9AE38B3iDV1iuCXSM0WabxA6WagH9wJdEm8YeFmoAwRlOE20Gb0b6qygQnOBbos3iLeZqAMHHMX/YXEDN1gBq8QHDRJ/HfhxjUSC4xxF+JfoidqPhiwLBLQ7xe4yr74Q1FAWCGxzgMtGXwzyb0kBwjQGuEv0pXtQAEjCDgButNWzUABLH9i6OcbSeYb0GEFxEo98m+vOuw/ihgYQVHOHPmEavAlTcqf9VS+FD6beHNYAWI5KkTv25BlBulp1GdCl6ZLlp/zUiS9EeyuWhc3wq3dS5xDiMiNKWBMpl6p/hQ/clf/vc1nGB92Oculeg3F6Wm2W9A72MaNFl2vcOtIHVjnmod6D1iBJdEmPvQCvY6pipiwBtJvk4t3UUA7rrsJc9SDUdb9CKXVg1j+1K7+8AtGZbxYrUVJsAAAAASUVORK5CYII="};Class("ButtonQueue",{create:function(a){this.container=a.container;this.extended=a.extended;this.topRightBar=a.container.topRightBar;this.bottomLeftBar=a.bottomBar.leftBar;this.bottomRightBar=a.bottomBar.rightBar;this.color=a.color;this.edtNumber=a.edtNumber?a.edtNumber:{body:null,width:0,top:0,space:0};this.buttonWidth=a.buttonWidth;this.buttonTop=a.buttonTop;this.buttons=a.buttons.clone();this.buttonCount=this.buttons.length;this.buttons.each(function(b){b.freedom();b.hint=!0});this.pickButtons()},
pickButtons:function(){this.btnFirst=this.buttons.find("first").get(0);this.btnPrevious=this.buttons.find("previous").get(0);this.btnNext=this.buttons.find("next").get(0);this.btnLast=this.buttons.find("last").get(0);this.btnMore=this.buttons.find("more").get(0);this.about=this.buttons.find("about").get(0);this.help=this.buttons.find("help").get(0);this.buttons.remove(this.about);this.buttons.remove(this.help);this.buttons.remove(this.btnFirst);this.buttons.remove(this.btnPrevious);this.buttons.remove(this.btnNext);
this.buttons.remove(this.btnLast);this.buttons.remove(this.btnMore);this.pageButtonCount=4;bookConfig.enablePageBack&&(this.btnBackward=this.buttons.find("backward").get(0),this.btnForward=this.buttons.find("forward").get(0),this.buttons.remove(this.btnBackward),this.buttons.remove(this.btnForward),this.pageButtonCount=6);this.buttonCount=this.buttons.length},sort:virtual_function});
Class("PCButtonQueue",{sort:function(){this.about&&(this.about.preTo(this.topRightBar),this.about.hint=!1);this.help&&(this.help.preTo(this.topRightBar),this.help.hint=!1);var a=Math.floor(((.3*windowWidth-104)/2-this.edtNumber.width+20)/36);var b=Number.between(a+Math.floor((.3*windowWidth-104)/2/36),0,this.buttonCount);var c=(.3*windowWidth-104)/2;this.bottomLeftBar.css({width:c+"px"});this.bottomRightBar.css({width:c+"px"});b<this.buttonCount&&b--;for(c=0;c<this.buttons.length;c++){var d=this.buttons.get(c);
c<a?(d==this.buttons.find("sound").get(0)&&bookConfig.BackgroundSoundURL&&(VolumeControlBar.config.direction=VolumeControlBar.TOP,d.title=!1),"WeChatShareButton"==d.getClassName()&&global.WeChatShareImg.setDirection(TextBubble.TOP),"TelephoneNumberButton"==d.getClassName()&&global.PcTelephoneNumberFrame.setDirection(TextBubble.TOP),"ShareButton"==d.getClassName()&&global.sharePanel&&(global.sharePanel.direction="top"),d.addTo(this.bottomLeftBar)):c>=a&&c<b?(d==this.buttons.find("sound").get(0)&&bookConfig.BackgroundSoundURL&&
(VolumeControlBar.config.direction=VolumeControlBar.TOP,d.title=!1),"WeChatShareButton"==d.getClassName()&&global.WeChatShareImg.setDirection(TextBubble.TOP),"TelephoneNumberButton"==d.getClassName()&&global.PcTelephoneNumberFrame.setDirection(TextBubble.TOP),"ShareButton"==d.getClassName()&&global.sharePanel&&(global.sharePanel.direction="top"),d.addTo(this.bottomRightBar)):(d==this.buttons.find("sound").get(0)&&bookConfig.BackgroundSoundURL&&(VolumeControlBar.config.direction=VolumeControlBar.DEFAULT,
d.title=!1),"WeChatShareButton"==d.getClassName()&&global.WeChatShareImg.setDirection(TextBubble.LEFT),"TelephoneNumberButton"==d.getClassName()&&global.PcTelephoneNumberFrame.setDirection(TextBubble.LEFT),"ShareButton"==d.getClassName()&&global.sharePanel&&(global.sharePanel.direction="left"),d.addTo(this.extended),d.hint=!1)}b<this.buttonCount&&this.btnMore.addTo(this.bottomRightBar)},addPageButtons:function(a){function b(n){n.addTo(e);n.setPosition(f,h);f+=g}function c(){f+=k;0<d?(l.css({left:f+
"px",top:m+"px",width:d+"px",display:"block"}),l.find("input").css({width:d+"px"}),f+=d):l.css({display:"none"});f+=k}var d=this.edtNumber.width;d=5<d?d:0;var e=this.container.body,f=a,g=this.buttonWidth,h=this.buttonTop,l=this.edtNumber.body,m=this.edtNumber.top,k=this.edtNumber.space;rightToLeft?(bookConfig.enablePageBack&&b(this.btnForward),b(this.btnLast),b(this.btnNext),c(),b(this.btnPrevious),b(this.btnFirst),bookConfig.enablePageBack&&b(this.btnBackward)):(bookConfig.enablePageBack&&b(this.btnBackward),
b(this.btnFirst),b(this.btnPrevious),c(),b(this.btnNext),b(this.btnLast),bookConfig.enablePageBack&&b(this.btnForward));return f}}).extend("ButtonQueue");Class("MobileButtonQueue",{sort:function(a,b){a=this.edtNumber.width+2*this.edtNumber.space+4*this.buttonWidth;this.addPageButtons(a,(this.container.width-a)/2);this.buttons.each(function(c){c.addTo(this.extended)}.bind(this))}}).extend("ButtonQueue");Class("PCToolbar",{isShowLogo:!0,initBar:function(){VolumeControlBar.config={color:this.color.toString(),iconColor:Color(bookConfig.iconColor).toString(),direction:VolumeControlBar.BOTTOM};this.topRightBar=$('<div class="topRightBar" id = "topRightBar"></div>');this.bottomBar=$('<div class="bottomBar" id = "bottomBar"></div>');this.bottomLeftBar=$('<div class="bottomLeftBar" id = "bottomLeftBar"></div>');this.bottomRightBar=$('<div class="bottomRightBar" id = "bottomRightBar"></div>');this.logoBar=
$("<div id='logoBar' class='logoBar'></div>");this.edtPageNumber=$("<div class='pageNumber' id='tfPageIndex'><label><input aria-label='"+getLanguage("ariaPageNumber","page number")+"' aria-labelledby='currentPageIndex' type='text' id='currentPageIndexTextField' autocomplete='off' size='5' value='' /></label></div>");this.parent.append(this.logoBar);this.parent.append(this.topRightBar);bookConfig.appLogoIcon||this.logoBar.css({display:"none",height:"0"});!bookConfig.aboutButtonVisible&&window.userInfo&&
0<window.userInfo.c&&this.topRightBar.css({display:"none",height:"0"});this.bottomBar.append(this.buttonBar);this.bottomBar.append(this.bottomLeftBar).append(this.bottomRightBar);this.bottomLeftBar.append(this.edtPageNumber);this.parent.append(this.bottomBar);this.initPageNumber()},showOrHideLogoBar:function(a){bookConfig.appLogoIcon||(a=!1);a?(this.logoBar&&this.logoBar.css({display:"block"}),this.isShowLogo=!0):(this.logoBar&&this.logoBar.css({display:"none"}),this.isShowLogo=!1)},initPageNumber:function(){var a=
this.edtPageNumber.find("input"),b=parseInt(bookConfig.totalPageCount),c=16;""==bookConfig.pageNumberCaption&&(1E4<=b&&(c=16),1E4>b&&(c=10),1E3>b&&(c=7),100>b&&(c=4),10>b&&(c=3));a.attr("size",c);Color(this.color.add(120));a.css({color:bookConfig.iconColor,background:"transparent",border:"none"});this.edtPageWidth=this.edtPageNumber.width()},initExtendedbar:function(){this.extendedBar=new PCExtendedBar(this.parent);global.moreBar=this.extendedBar},resetToolbarColor:function(){this.color=Color(bookConfig.toolbarColor);
this.topBarAlpha=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha);this.extendedBar&&this.extendedBar.$bar.css({"background-color":this.color.rgba(this.topBarAlpha)});this.resetButtonTitleColor();global.PcTelephoneNumberFrame&&global.PcTelephoneNumberFrame.setColor({color:bookConfig.toolbarColor,textColor:bookConfig.iconFontColor})},setButtonTitle:function(a){if("WeChatShareButton"==a.getClassName())global.WeChatShareImg=new WeChatShare({parent:this.parent,color:"#fff",textColor:bookConfig.toolbarColor,
margin:10,padding:10,arrowHeight:12,arrowWidth:12});else if("TelephoneNumberButton"==a.getClassName())global.PcTelephoneNumberFrame=new PcTelephoneNumberBubble({parent:this.parent,color:this.color,textColor:a.fontColor,margin:4,padding:15,arrowHeight:8,arrowWidth:8});else{var b=new TextBubble({parent:this.parent,text:a.caption,direction:TextBubble.TOP,color:this.color,textColor:a.fontColor,margin:7});a.setTitle(b)}},addTopRightButton:function(){this.topRightButton||(this.topRightButton=$("<div class='topRightButton' id='createButton'></div>"),
bookConfig.ToolBarVisible?(this.topRightBar.append(this.topRightButton),this.onResize()):this.parent.append(this.topRightButton))},removeTopRightButton:function(){this.topRightButton&&(this.topRightButton.remove(),this.topRightButton=null)},onResize:function(a,b){if(bookConfig.ToolBarVisible){a=void 0==a?this.parent.width():parseInt(a);void 0==b?this.parent.height():parseInt(b);a=a-a/4-a/4;b=this.edtPageWidth+150+20;a<b&&(a=b);b=this.logoBar.find("img").height()+10;var c,d=null==(c=BookInfo)?void 0:
c.top();d&&this.isShowLogo&&d<b&&(bookConfig.topMargin=b,BookInfo.getBook().adjustBookPosition());this.buttonBarWidth=a;this.resetButtonPosition()}},afterButtonClick:function(a){this.extendedBar.visible&&"btnSocialShare"!=a.language.key&&(a!=this.btnMore?isPhone()||isPad()||this.extendedBar.hide():(a=this.buttonsInExtendedBar(),a.each(function(b){b.changeColor()}),a=null))},resetButtonPosition:function(){(new PCButtonQueue({buttons:this.buttons,buttonWidth:30,buttonTop:5,color:this.color,bottomBar:{leftBar:this.bottomLeftBar,
rightBar:this.bottomRightBar},container:{body:this.buttonBar,topRightBar:this.topRightBar,width:this.buttonBarWidth},extended:this.extendedBar.$bar,edtNumber:{body:this.edtPageNumber,width:this.edtPageWidth,top:8,space:5}})).sort();this.extendedBar.resize(this.buttonsInExtendedBar());this.extendedBar.hide();this.buttons.each(function(a){a.changeColor()}.bind(this))}}).extend("Toolbar");
Class("PCExtendedBar",{create:function(a){this._super(a)},resize:function(a){for(var b=0;b<a.length;b++)a.get(b).setPosition(5,5+30*b);this.width=160;this.height=30*a.length+10;this.$bar.css({width:this.width+"px",height:this.height+"px"})},show:function(a){if(1!=this.isMoving&&1!=this.visible){this.visible=this.isMoving=!0;this.$bar.css({left:a.left+a.width-this.width+"px",top:a.top+a.height+10-this.$bar.height()-32+"px"});var b=0;this.$bar.css({display:"block",opacity:0});var c=function(){b+=.1;
this.$bar.css({opacity:b});equals(b,1)&&(c.stop(),this.isMoving=!1)}.interval(this,40)}}}).extend("ExtendedBar");var hexcase=0,b64pad="",chrsz=8;function compareov(){var a=Date.parse(new Date);return orgt(a)===vldt(a)}function orgt(a){return binl2hex(core_hx(str2binl(a),a.length*chrsz))}function vldt(a){return binl2hex(core_hx(str2binl(a),a.length*chrsz))}
function core_hx(a,b){a[b>>5]|=128<<b%32;a[(b+64>>>9<<4)+14]=b;b=1732584193;for(var c=-271733879,d=-1732584194,e=271733878,f=0;f<a.length;f+=16){var g=b,h=c,l=d,m=e;b=hx_ff(b,c,d,e,a[f+0],7,-680876936);e=hx_ff(e,b,c,d,a[f+1],12,-389564586);d=hx_ff(d,e,b,c,a[f+2],17,606105819);c=hx_ff(c,d,e,b,a[f+3],22,-1044525330);b=hx_ff(b,c,d,e,a[f+4],7,-176418897);e=hx_ff(e,b,c,d,a[f+5],12,1200080426);d=hx_ff(d,e,b,c,a[f+6],17,-1473231341);c=hx_ff(c,d,e,b,a[f+7],22,-45705983);b=hx_ff(b,c,d,e,a[f+8],7,1770035416);
e=hx_ff(e,b,c,d,a[f+9],12,-1958414417);d=hx_ff(d,e,b,c,a[f+10],17,-42063);c=hx_ff(c,d,e,b,a[f+11],22,-1990404162);b=hx_ff(b,c,d,e,a[f+12],7,1804603682);e=hx_ff(e,b,c,d,a[f+13],12,-40341101);d=hx_ff(d,e,b,c,a[f+14],17,-1502002290);c=hx_ff(c,d,e,b,a[f+15],22,1236535329);b=hx_gg(b,c,d,e,a[f+1],5,-165796510);e=hx_gg(e,b,c,d,a[f+6],9,-1069501632);d=hx_gg(d,e,b,c,a[f+11],14,643717713);c=hx_gg(c,d,e,b,a[f+0],20,-373897302);b=hx_gg(b,c,d,e,a[f+5],5,-701558691);e=hx_gg(e,b,c,d,a[f+10],9,38016083);d=hx_gg(d,
e,b,c,a[f+15],14,-660478335);c=hx_gg(c,d,e,b,a[f+4],20,-405537848);b=hx_gg(b,c,d,e,a[f+9],5,568446438);e=hx_gg(e,b,c,d,a[f+14],9,-1019803690);d=hx_gg(d,e,b,c,a[f+3],14,-187363961);c=hx_gg(c,d,e,b,a[f+8],20,1163531501);b=hx_gg(b,c,d,e,a[f+13],5,-1444681467);e=hx_gg(e,b,c,d,a[f+2],9,-51403784);d=hx_gg(d,e,b,c,a[f+7],14,1735328473);c=hx_gg(c,d,e,b,a[f+12],20,-1926607734);b=hx_hh(b,c,d,e,a[f+5],4,-378558);e=hx_hh(e,b,c,d,a[f+8],11,-2022574463);d=hx_hh(d,e,b,c,a[f+11],16,1839030562);c=hx_hh(c,d,e,b,a[f+
14],23,-35309556);b=hx_hh(b,c,d,e,a[f+1],4,-1530992060);e=hx_hh(e,b,c,d,a[f+4],11,1272893353);d=hx_hh(d,e,b,c,a[f+7],16,-155497632);c=hx_hh(c,d,e,b,a[f+10],23,-1094730640);b=hx_hh(b,c,d,e,a[f+13],4,681279174);e=hx_hh(e,b,c,d,a[f+0],11,-358537222);d=hx_hh(d,e,b,c,a[f+3],16,-722521979);c=hx_hh(c,d,e,b,a[f+6],23,76029189);b=hx_hh(b,c,d,e,a[f+9],4,-640364487);e=hx_hh(e,b,c,d,a[f+12],11,-421815835);d=hx_hh(d,e,b,c,a[f+15],16,530742520);c=hx_hh(c,d,e,b,a[f+2],23,-995338651);b=hx_ii(b,c,d,e,a[f+0],6,-198630844);
e=hx_ii(e,b,c,d,a[f+7],10,1126891415);d=hx_ii(d,e,b,c,a[f+14],15,-1416354905);c=hx_ii(c,d,e,b,a[f+5],21,-57434055);b=hx_ii(b,c,d,e,a[f+12],6,1700485571);e=hx_ii(e,b,c,d,a[f+3],10,-1894986606);d=hx_ii(d,e,b,c,a[f+10],15,-1051523);c=hx_ii(c,d,e,b,a[f+1],21,-2054922799);b=hx_ii(b,c,d,e,a[f+8],6,1873313359);e=hx_ii(e,b,c,d,a[f+15],10,-30611744);d=hx_ii(d,e,b,c,a[f+6],15,-1560198380);c=hx_ii(c,d,e,b,a[f+13],21,1309151649);b=hx_ii(b,c,d,e,a[f+4],6,-145523070);e=hx_ii(e,b,c,d,a[f+11],10,-1120210379);d=hx_ii(d,
e,b,c,a[f+2],15,718787259);c=hx_ii(c,d,e,b,a[f+9],21,-343485551);b=safe_add(b,g);c=safe_add(c,h);d=safe_add(d,l);e=safe_add(e,m)}return[b,c,d,e]}function hx_cmn(a,b,c,d,e,f){return safe_add(bit_rol(safe_add(safe_add(b,a),safe_add(d,f)),e),c)}function hx_ff(a,b,c,d,e,f,g){return hx_cmn(b&c|~b&d,a,b,e,f,g)}function hx_gg(a,b,c,d,e,f,g){return hx_cmn(b&d|c&~d,a,b,e,f,g)}function hx_hh(a,b,c,d,e,f,g){return hx_cmn(b^c^d,a,b,e,f,g)}function hx_ii(a,b,c,d,e,f,g){return hx_cmn(c^(b|~d),a,b,e,f,g)}
function safe_add(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}function bit_rol(a,b){return a<<b|a>>>32-b}function str2binl(a){for(var b=[],c=(1<<chrsz)-1,d=0;d<a.length*chrsz;d+=chrsz)b[d>>5]|=(a.charCodeAt(d/chrsz)&c)<<d%32;return b}function binl2hex(a){for(var b=hexcase?"0123456789ABCDEF":"0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(a[d>>2]>>d%4*8+4&15)+b.charAt(a[d>>2]>>d%4*8&15);return c};Log.debug("browser : %s, system : %s",Instance.JSON(_agent_.browser),Instance.JSON(_agent_.system));
var ready=function(){window.setTimeout(function(){var a;if(null!=(a=window.onBookLoad)&&a.isReady){var b=function(){window.waitForLoading?window.setTimeout(function(){main()},250):main()};(function(){var c,d,e="Chinese"==UserGroups?(null==(c=window.bookConfig)?void 0:c.bookBaseURL)||"":(null==(d=window.bookConfig)?void 0:d.bookResourceBaseURL)||"";if(window.bookConfig&&e){e.endsWith("/")||(e+="/");try{$.ajax({url:e+"bookinfo.js",type:"get",crossDomain:!0,success:function(f){f&&(eval(f),window.book_visit=
book_visit);b()},error:function(f){b()}})}catch(f){b()}}else b()})()}else ready()},10)};ready();
function main(){if(isBelowIE9())alert(getLanguage("infNotSupportHtml5","Your browser can not support HTML5."));else if(global.bookConfig){initBrowserType();initConfig();if(window.userInfo&&bookConfig.isBookDomainAccessEnabled){var a=window.userInfo.f;try{if(a&&Array.isArray(a)&&0!==a.length&&!(-1<a.indexOf(window.location.hostname))){$("body").empty();$("body").attr("style","");$("body").css({display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",background:"#ffffff",
color:"#000000","text-align":"center","font-size":"20px"});$("body").append("<img style='width:98px;height:98px;' src='"+uiBaseURL+"only-wechat.svg'/><p style='margin-top:35px;'>\u5185\u5bb9\u4e0d\u5b58\u5728</p>");return}}catch(b){}}if(bookConfig.OnlyOpenInWechat||bookConfig.onlyOpenInDingDing)if(a=function(b){$("body").empty();$("body").attr("style","");$("body").css({display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",background:"#ffffff",color:"#000000",
"text-align":"center","font-size":"20px"});$("body").append("<img style='width:98px;height:98px;' src='"+uiBaseURL+"only-wechat.svg'/><p style='margin-top:35px;'>"+b+"</p>");$("body").removeAttr("id")},isDingDing()){if(!bookConfig.onlyOpenInDingDing){a("\u8bf7\u5728\u5fae\u4fe1\u5ba2\u6237\u7aef\u6253\u5f00\u94fe\u63a5");return}}else if(isWeChat()){if(!bookConfig.OnlyOpenInWechat){a("\u8bf7\u5728\u9489\u9489\u5ba2\u6237\u7aef\u6253\u5f00\u94fe\u63a5");return}}else{a(bookConfig.OnlyOpenInWechat?bookConfig.onlyOpenInDingDing?
"\u8bf7\u5728\u5fae\u4fe1\u6216\u8005\u9489\u9489\u5ba2\u6237\u7aef\u6253\u5f00\u94fe\u63a5":"\u8bf7\u5728\u5fae\u4fe1\u5ba2\u6237\u7aef\u6253\u5f00\u94fe\u63a5":"\u8bf7\u5728\u9489\u9489\u5ba2\u6237\u7aef\u6253\u5f00\u94fe\u63a5");return}bookConfig.OnlyOpenInIframe&&(window.parent===window.self||("Chinese"===UserGroups?0:NeatStyle.isNeat()||0<=window.location.hash.indexOf("isOldNeat")))?($("body").empty(),$("body").attr("style",""),$("body").css({background:"#ffffff",color:"#000000","text-align":"center",
"font-size":"20px"}),$("body").append("<img style='margin-top:45px;width:98px;height:98px;' src='"+uiBaseURL+"only-wechat.svg'/><p style='margin-top:35px;'>"+bookConfig.OnlyOpenInIframeInfo+"</p>")):initStage()}else alert(getLanguage("msgConfigMissing","Configuration file is missing, unable to open the book.")),function(){window.location=window.location.href}.delay(500)}
function initConfig(){global.originTotalPageCount=parseInt(bookConfig.totalPageCount);global.totalPageCount=originTotalPageCount+(1==originTotalPageCount%2&&!bookConfig.isTheBookOpen||0==originTotalPageCount%2&&bookConfig.isTheBookOpen?1:0);global.bmtConfig||(global.bmtConfig=[])}
function initStage(){_agent_.browser.device==_agent_.browser.DEVICE_PAD&&$("html").css({height:window.innerHeight+"px"});global.pageIndexTextField=$("#currentPageIndexTextField");global.windowWidth=$("body").width();global.windowHeight=$("body").height();preloadImages()}
function initReaderPopDom(){window.readerCurrentPlayer=null;window.readerConfig&&!window.setVuePopDom?setTimeout(initReaderPopDom,200):window.readerConfig&&window.setVuePopDom&&!window.vuePopDom&&($("body").append($("<div id='ReaderPop' style='position: absolute;z-index: 3;top: 0;left: 0;display: block;overflow: hidden;' class='ReaderPop'></div>")),window.setVuePopDom({dom:".ReaderPop",pageIndex:0,width:$("body").width(),height:$("body").height()}).then(function(a){window.vuePopDom=a;window.vuePopDom.resize(this.width,
this.height);var b;null==(b=window.eventEmitter)||b.emit("initReaderPopDom",a)}.bind(this)))}function preloadImages(){global.toolBarIconsURL=[];global.phoneIconsURL=[];var a=function(b){window.jsLoadingBar&&jsLoadingBar.destroy();init();setTimeout(function(){window.scrollTo(0,1)},0)};isPhone()||isPad()?a():(window.jsLoadingBar&&jsLoadingBar.destroy(),init())}
function init(){var a,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return c.yield(checkExpandComponentConfig(),2);onFirstVisit();initToolbar();initReaderPopDom();"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&bookType==BookType.catalog_book&&window.catalogBook&&(catalogBook.guidBar=new GuidToolbar(catalogBook.parent),catalogBook.guidBarHeight=50,toolBar&&toolBar.hide(),catalogBook.mode="simple",thumbnail&&thumbnail.visible&&thumbnail.show());initComponents();
window.initForms&&initForms();if("article4"==global.templeteName)return bookType=-1,null==(a=global.phoneArticleReader)||a.onResize(),null==(b=global.phoneArticleList)||b.onResize(),winodwDynamicResize(),c.return();isPhone()||isPad()||initLogoBar();initFlipSound();changeShowBook(bookType);window.top!==window.self&&initFh5BrandBar();onStageResize();scrapURL();setPageIndexTextField();controlAudioVolume();addGoogleAdSense();googleAnalytics();googleTagManager();baiduAnalytics();winodwDynamicResize();
initEvents();global.initBookValues&&initBookValues();onBookReady();onInit();c.jumpToEnd()})}function initFh5BrandBar(){var a;0===(null==(a=window.userInfo)?void 0:a.c)&&(a=document.referrer)&&(a=new URL(a),a.hostname.match("fliphtml5")||global.brandBar||!global.BrandBar||(global.brandBar=new BrandBar(tmpContainer,a)))}function onInit(){}
function onBookReady(){global.flipPageAudio&&flipPageAudio.start();var a=GetQueryString("search");a&&(a=decodeURIComponent(a));var b=GetQueryString("match");b&&(b=decodeURIComponent(b));a&&global.frmSearch&&window.setTimeout(function(){(isPhone()||isPad())&&"neat"===_get(htmlConfig,"phoneTemplate.name")&&"Chinese"==UserGroups?setTimeout(function(){toolBar.showSearchPanel(function(){toolBar.$searchPanel.handleSearch(!1,a)})},200):(frmSearch.show(),frmSearch.search(a,b),BookEvent.bindOnceEvent("searchEnd",
function(c){c&&0<c.length&&gotoPageFun(c[0].search_page,!1,"search")}))},30);showInstruction();showBookInstruction();showSwitchTips()}function onFirstVisit(){var a=window.location.href.replace(window.location.hash,"");try{window.localStorage[a]?authentication():window.localStorage.setItem(a,"true")}catch(b){}}
function showInstruction(){(isPhone()||isPad())&&bookConfig.showInstructionOnStart&&(global.handSwipeHelp||(global.handSwipeHelp=new HandSwipeHelp(tmpContainer)),global.handSwipeHelp.show())}
function showBookInstruction(){if((isPhone()||isPad())&&bookConfig.showBookInstructionOnStart){var a=tmpContainer;"neat"===_get(htmlConfig,"phoneTemplate.name")&&"Chinese"==UserGroups&&(a=$("body"));global.bookInstructions||(global.bookInstructions=new BookInstructions(a));a=parseInt(window.localStorage.getItem(window.realLocation+"?showBookInstructionCountOnStart"))||0;"0"!==bookConfig.alwaysShowBookInstructionOnStart&&a>=bookConfig.showBookInstructionCountOnStart||(global.bookInstructions.showOrHide(),
"0"==bookConfig.alwaysShowBookInstructionOnStart?a&&window.localStorage.removeItem(window.realLocation+"?showBookInstructionCountOnStart"):window.localStorage.setItem(window.realLocation+"?showBookInstructionCountOnStart",a+1))}}
function showSwitchTips(){(isPhone()||isPad())&&bookConfig.showSwitchTipsOnStart&&bookConfig.DoubleSinglePageButtonVisible&&(global.doubleSinglePageForm||(global.doubleSinglePageForm=new DoubleSinglePageForm({parent:$("body"),formType:"doublepage",rightToLeft:rightToLeft}),global.doubleSinglePageForm.onResize()),global.doubleSinglePageForm&&global.doubleSinglePageForm.show())}
function authentication(){try{global.passward=window.localStorage[realLocation+"?passward"],global.username=window.localStorage[realLocation+"?username"]}catch(a){}}bdor.m="m";
window.addEventListener("popstate",function(a){try{try{var b=window.location.href,c=b.lastIndexOf("/"),d=b.substr(c+1),e=parseInt(d.removeStartFrom("."));if(isNaN(e)){window.phoneArticleReader&&window.phoneArticleReader.hide();var f=window.location.hash;""!=f&&3<f.length&&"#p="==f.substr(0,3)&&(currentPageIndex=parseInt(getRealPageNumber(decodeURIComponent(f.substr(3,f.length-3)))),currentPageIndex=Number.between(currentPageIndex,1,originTotalPageCount),gotoPageFun(currentPageIndex,!1,"popstate"))}else window.phoneArticleReader&&
window.phoneArticleReader.showArticleById(e,!0),window.articleReader&&window.articleReader.showArticleById(e,!0)}catch(g){console.log(g)}}catch(g){}},!1);bdor[33]=function(a,b){return a/bdor[30](b,20)};bdor[36]=36;global.bdor[35]=function(){return 3}();global.bdor[37]=80;bdor[10]="l";bdor[29]="t";bdor[7]="m";bdor[8]="o";bdor[9]="j";function initToolbar(){var a=isShowOrHideToolbar();initToolbarSvgIcons();window.initPhoneSvgIcons&&initPhoneSvgIcons();!isSlideBook()||isPhone()||isPad()||"lite"!=bookConfig.ToolbarViewMode||(global.toolBar=new PCSlideToolbar(tmpContainer));var b="article zoom btnshare reader calendar phoneticreading pageflip shopping goto bookmark number sound search print annotation wechat email download language home autoflip select about message fullscreen report doublesinglepage videogallery".split(" ");b=bookConfig.isArticlePhoneMoreButtonVisible?
b:"";"article"==global.templeteName&&(isPhone()||isPad())&&(global.toolBar=new PhoneArticleToolbar(tmpContainer,b));"article2"==global.templeteName&&(isPhone()||isPad())&&(global.toolBar=new PhoneArticleToolbar2(tmpContainer,b));"article3"==global.templeteName&&(isPhone()||isPad())&&(global.toolBar=new PhoneArticleToolbar3(tmpContainer,b));if(!isPhone()&&!isPad()||"article4"!=global.templeteName){if((isPhone()||isPad())&&!global.toolBar){if("neat"===_get(htmlConfig,"phoneTemplate.name")&&"Chinese"==
UserGroups){a=function(){window.hasOwnProperty("PhoneNeatToolbar")&&(global.toolBar=new PhoneNeatToolbar(tmpContainer),"Chinese"!=UserGroups||isWechatMiniProgram()||initCreateButton(),NeatStyle.isNeat()&&NeatStyle.init(),clearInterval(c),c=null)};var c=null;c=setInterval(a,200);a();return}"Classical"===_get(htmlConfig,"phoneTemplate.name")?global.toolBar=new PhoneToolbar2(tmpContainer):global.toolBar=new PhoneToolbar(tmpContainer)}b=["lively","minimalist"].includes(global.templeteName)||bookConfig.ToolBarVisible;
global.toolBar||(global.toolBar=new PCToolbar(tmpContainer,b));global.toolBar&&(a?toolBar.show(!1):toolBar.hide(!1));(global.templeteName.includes("article")||window.book_visit&&window.book_visit.periodicalId)&&"article4"!==global.templeteName&&initCalendarButton();NeatStyle.isNeat()&&NeatStyle.init();"Chinese"!=UserGroups||isWechatMiniProgram()||initCreateButton()}}
function isShowOrHideToolbar(){return bookConfig.isNeat&&NeatStyle.isNeat()||MiniStyle.isMini()&&!isPhone()&&!isPad()?!1:["lively","minimalist"].includes(global.templeteName)?!0:bookConfig.ToolBarVisible?!0:!1}
function initCalendarButton(){function a(f){return window.toolbar_icons&&toolbar_icons[f]?"data:image/png;base64,"+toolbar_icons[f]:uiBaseURL+f+".png"}if(!isPhone()&&!isPad()){var b=$("<div class='toolbar_head'></div>"),c=Color(bookConfig.toolbarColor),d=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha);if(global.templeteName.includes("article")){var e=a("reader");e=$("<div class='btn articleBtn'><img src='"+e+"'/><span>"+getLanguage("btnArticlePages","\u7248\u9762")+"</span></div>");b.append(e);
e.changeButtonColor(bookConfig.iconColor);e.css({"background-color":c.rgba(d)});e.click(function(){global.pcArticlePages&&global.pcArticlePages.show()})}window.book_visit&&window.book_visit.periodicalId&&(e=a("calendar"),e=$("<div class='btn calendarBtn' style='margin-top:18px;'><img src='"+e+"'/><span>"+getLanguage("btnCalendar","\u5f80\u671f")+"</span></div>"),b.append(e),e.changeButtonColor(bookConfig.iconColor),e.css({"background-color":c.rgba(d)}),e.click(function(){var f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(g){if(1==
g.nextAddress){if(global.pcArticlePeriodical)return g.jumpTo(2);f=bookConfig.UIBaseURL+"javascript/pcperiodical.min.js";return g.yield(loadComponents(f),3)}2!=g.nextAddress&&(global.pcArticlePeriodical=new PcArticlePeriodical({parent:tmpContainer,formType:"calendar",rightToLeft:rightToLeft,isPhone:!0}),global.pcArticlePeriodical.onResize());global.pcArticlePeriodical&&global.pcArticlePeriodical.show();g.jumpToEnd()})}));b.css("color",bookConfig.iconColor);tmpContainer.append(b)}}
function createReadBookBtn(a){if(!document.querySelector(".phoneticBtn")){var b=a||{};a=void 0===b.duaration?5:b.duaration;var c=void 0===b.tipsText?"":b.tipsText;b=Color(bookConfig.toolbarColor);var d=Math.min(bookConfig.topToolBarAlpha,bookConfig.ToolBarAlpha),e=function(h){return window.zoom_icons&&zoom_icons[h]?"data:image/png;base64,"+zoom_icons[h]:uiBaseURL+h+".png"}("phonetic");e=$("<div class='btn phoneticBtn' style='margin-top:18px;'><img src='"+e+"'/><span>"+getLanguage("btnPhoneticReading",
"\u542c\u4e66")+"</span></div>");var f=$("<span></span>");f.css({display:"inline-block",position:"absolute",top:"-4px",left:"9px",width:"0",height:"0","border-bottom":"4px solid "+b.rgba(d),"border-left":"4px solid transparent","border-right":"4px solid transparent"});c=c?c:getLanguage("btnPhoneticTips","\u672c\u4e66\u53ef\u4ee5\u8fb9\u542c\u8fb9\u770b\u54e6~");var g=$("<div class='phoneticTips'><span>"+c+"</span></div>");g.append(f);g.css({display:"none",position:"absolute",top:"40px",left:"10px",
padding:"5px",width:"130px","line-height":"24px","background-color":b.rgba(d),"border-radius":"2px","font-size":"12px","font-weight":"500","text-align":"center"});g.delay(3E3).fadeIn(200).delay(1E3*a).fadeOut(200);g.click(function(){g.stop().fadeOut(200)});e.append(g);document.querySelector(".toolbar_head")||(a=$("<div class='toolbar_head'></div>"),a.css("color",bookConfig.iconColor),tmpContainer.append(a));$(".toolbar_head").append(e);e.changeButtonColor(bookConfig.iconColor);e.css({"background-color":b.rgba(d)});
e.click(function(){window.phoneticReading&&window.phoneticReading.showOrHide()})}}bdor[42]=function(){}();
function initComponents(){"article4"==global.templeteName&&(bookConfig.flipshortcutbutton=!1,bookConfig.BackgroundSoundButtonVisible=!1,bookConfig.ThumbnailsButtonVisible=!1,bookConfig.SearchButtonVisible=!1,bookConfig.isChatBotButtonVisible=!1,bookConfig.isAccessibilityButtonVisible=!1,bookConfig.QRCode=!1,bookConfig.appLargeLogoIcon=!1,bookConfig.EnableReportButton=!1,bookConfig.addCurrentPage=!1,bookConfig.BackgroundSoundURL="");var a=["lively","minimalist"];!bookConfig.flipshortcutbutton||global.flipShotButton||
"catalog"==bookConfig.FlipStyle.toLowerCase()||a.includes(global.templeteName)||(global.flipShotButton=new FlipShotButton(tmpContainer));if(isPhone()||isPad()){if("article4"==global.templeteName){global.phoneArticleReader||(global.phoneArticleReader=new PhoneArticleReader4({parent:tmpContainer,formType:"reader",rightToLeft:rightToLeft,isPhone:!0}));global.phoneArticleList||(global.phoneArticleList=new PhoneArticleList({parent:tmpContainer,formType:"articlelist",rightToLeft:rightToLeft,isPhone:!0}));
return}bookConfig.BackgroundSoundButtonVisible&&!global.settingBody&&(global.settingBody=new PhoneSettingForm({parent:tmpContainer,formType:"setting",rightToLeft:rightToLeft}));bookConfig.ThumbnailsButtonVisible&&(global.thumbnail||(global.thumbnail="Classical"===_get(htmlConfig,"phoneTemplate.name")?new PhoneThumbnailForm2({parent:tmpContainer,formType:"thumbnail",rightToLeft:rightToLeft}):new PhoneThumbnailForm({parent:tmpContainer,formType:"thumbnail",rightToLeft:rightToLeft})),"thumbnails"==bookConfig.mobileLeftRightPnlShowOption&&
(global.thumbnail.show(),global.thumbnail.stage&&global.thumbnail.stage.show()));global.phoneGotoPagePanel||(global.phoneGotoPagePanel=new phoneGotoPage(tmpContainer));bookConfig.searchbarAlwaysShowOnMobile&&!global.phoneSearchBar&&bookConfig.SearchButtonVisible&&(global.phoneSearchBar=new PhoneSearchBar(tmpContainer));bookConfig.SearchButtonVisible&&!global.frmSearch&&(global.frmSearch=new PhoneSearchForm({parent:tmpContainer,formType:"search",rightToLeft:rightToLeft}));bookConfig.phoneFlipShortcutButton&&
!global.phoneGotoPagePanel&&global.phoneGotoPagePanel.showPageFlipButton();0<=global.templeteName.indexOf("article")&&("article"!=global.templeteName||global.phoneArticleReader||(global.phoneArticleReader=new PhoneArticleReader({parent:tmpContainer,formType:"reader",rightToLeft:rightToLeft,isPhone:!0})),"article3"!=global.templeteName||global.phoneArticleReader||(global.phoneArticleReader=new PhoneArticleReader3({parent:tmpContainer,formType:"reader",rightToLeft:rightToLeft,isPhone:!0})),"article2"!=
global.templeteName||global.phoneArticleReader||(global.phoneArticleReader=new PhoneArticleReader2({parent:tmpContainer,formType:"reader",rightToLeft:rightToLeft,isPhone:!0})),global.phoneArticlePages||(global.phoneArticlePages=new PhoneArticlePages({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft,isPhone:!0})),global.phoneArticleList||(global.phoneArticleList=new PhoneArticleList({parent:tmpContainer,formType:"articlelist",rightToLeft:rightToLeft,isPhone:!0})));bookConfig.isChatBotButtonVisible&&
!global.chatbotPanel&&(global.chatbotPanel=new PhoneChatbot({parent:tmpContainer,formType:"chatbot",rightToLeft:rightToLeft,isPhone:!0}),a=getHashParams("chatbotVisible"),b=GetQueryString("chatbot"),(a&&"true"==a||b&&"1"==b)&&global.chatbotPanel.show())}else{bookConfig.BackgroundSoundButtonVisible&&("brief"!=global.templeteName||global.settingBody?bookConfig.BackgroundSoundURL&&!global.settingBody&&(global.settingBody=new PcSoundSettingForm({parent:tmpContainer,formType:"settingpc",rightToLeft:rightToLeft})):
global.settingBody=new PcSoundSettingForm({parent:tmpContainer,formType:"setting",rightToLeft:rightToLeft}));if(bookConfig.ThumbnailsButtonVisible&&!global.thumbnail||"popular"==global.templeteName&&!global.thumbnail)"catalog"==bookConfig.FlipStyle.toLowerCase()&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&(global.thumbnail=new CatalogThumbnailBar(tmpContainer)),isSlideBook()&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&(global.thumbnail=new SlideThumbnailBar(tmpContainer)),global.thumbnail=
new ThumbnailForm({parent:tmpContainer,formType:"thumbnail",rightToLeft:rightToLeft}),"thumbnails"==bookConfig.leftRightPnlShowOption&&(global.thumbnail.show(),global.thumbnail.stage&&global.thumbnail.stage.show());bookConfig.SearchButtonVisible&&!global.frmSearch&&(global.frmSearch=new PcSearchForm({parent:tmpContainer,formType:"search",rightToLeft:rightToLeft}));window.assistantConfig&&!global.assistant&&(global.assistant=new Assistant);if(0<=global.templeteName.indexOf("article")){if("article4"==
global.templeteName){global.articleReader||(global.articleReader=new PcArticleReader4({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft}));return}global.articleReader||(global.articleReader=new PcArticleReader({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft}));global.pcArticlePages||(global.pcArticlePages=new PcArticlePages({parent:tmpContainer,formType:"article",rightToLeft:rightToLeft,isPhone:!0}))}if(bookConfig.isChatBotButtonVisible&&!global.chatbotPanel){global.chatbotPanel=
new ChatbotPanel(tmpContainer);a=getHashParams("chatbotVisible");var b=GetQueryString("chatbot");(a&&"true"==a||b&&"1"==b)&&global.chatbotPanel.show()}bookConfig.isAccessibilityButtonVisible&&!global.accessiblePanel&&(global.accessiblePanel=new PcAccessibility($("body")),0<=window.location.hash.indexOf("accessibility")&&global.accessiblePanel.show())}bookConfig.QRCode&&!global.qrButton&&(global.qrButton=new QRButton(tmpContainer));bookConfig.appLargeLogoIcon&&!global.largeAppLogo&&(global.largeAppLogo=
new AppLargeLogo(bookContainer));global.backgroundObj||(global.backgroundObj=new initBackground(tmpContainer));global.auto_player||(global.auto_player=new AutoFlip);global.bgSound||(global.bgSound=new BackgroundSound);global.volumeControlBar||(global.volumeControlBar=new VolumeControlBar(tmpContainer));!isPad()&&!isPhone()&&"brief"!=global.templeteName||global.phoneWeChatShareHelp||(global.phoneWeChatShareHelp=new PhoneWeChatShareHelp($(document.body)));global.flipPageAudio||(global.flipPageAudio=
new FlipByAudio(tmpContainer,global.flipByAudio));isPad()||isPhone()?bookConfig.EnableReportButton&&!global.reportPanel&&(global.reportPanel=new PhoneReportPanel(tmpContainer)):bookConfig.EnableReportButton&&!global.reportPanel&&(global.reportPanel=new ReportPanel(tmpContainer));bookConfig.isAccessibilityButtonVisible&&!global.accessiblePanel&&(global.accessiblePanel=new PhoneAccessibility(tmpContainer));"1"==GetQueryString("showedit")&&!global.editItNowButton&&global.EditItNowButton&&(global.editItNowButton=
new EditItNowButton(tmpContainer));var c;!isPhone()&&!isPad()&&"Chinese"!==UserGroups&&(null==(c=global.staticAd)?0:c.haveAd)&&global.staticAd.adPosition&&!global.staticSliderAd&&(global.staticSliderAd=new StaticAd)}
function setAccessibility(){$(tmpContainer).attr("aria-hidden","true");tmpContainer[0].querySelectorAll('input, button, a, textarea, [tabindex="0"]').forEach(function(b){b.setAttribute("tabindex","-1")});var a=tmpContainer[0].querySelector('input[aria-labelledby="currentPageIndex"]');a&&a.removeAttribute("aria-labelledby")}function initColorPanel(){global.colorPanel||(global.colorPanel=new JSColorPanel(tmpContainer))}
function winodwDynamicResize(){if(isTouch)$(window).on("orientationchange",function(){$("body").find(":focus").blur();onStageResize();BookEvent.trigger("orientationchange",[BookInfo.getCurrentPages().join("-"),windowWidth,windowHeight])});$(window).resize(onStageResize);window.setInterval(function(){if(!(0<$("body").find(":focus").length)){var a=window.getWidth()-windowMargin.right,b=window.getHeight(),c=parseInt($("body")[0].style.width),d=parseInt($("body")[0].style.height),e=getTransformRotate($("body")[0]);
if(!bookConfig.upsideOnMobile()||d!=a||c!=b||90!=e)if(bookConfig.upsideOnMobile()||d!=b||c!=a||0!=e){bookConfig.upsideOnMobile()?(windowHeight=a,windowWidth=b):(windowHeight=b,windowWidth=a);try{$("body").css({width:windowWidth+"px",height:windowHeight+"px","transform-origin":"0 0"}),bookConfig.upsideOnMobile()?$("body").css({transform:"translate("+windowHeight+"px, 0px) rotate(90deg)"}):$("body").css({transform:"translate(0px, 0px) rotate(0deg)"})}catch(f){}onStageResize()}}},100)}
var windowMargin={left:0,top:0,right:0,bottom:0};function setWindowMargin(a,b){try{a&&!isNaN(b)&&(windowMargin[a]=parseInt(b),onStageResize())}catch(c){}}
function scrapURL(){var a=window.location.hash;""!=a&&3<a.length&&"#p="==a.substr(0,3)?("undefined"!=typeof window.hashGotoPageTimer&&clearTimeout(window.hashGotoPageTimer),window.hashGotoPageTimer=window.setTimeout(function(){var b=parseInt(getRealPageNumber(decodeURIComponent(a.substr(3,a.length-3))));GetQueryString("search")||gotoPageFun(b,!1,"visit");TurnonAutoFlip();BookEvent.trigger("visit",[b,_agent_.browser.device,_agent_.system.name,window.screen.width,window.screen.height,global.templeteName]);
window.hashGotoPageTimer&&clearTimeout(window.hashGotoPageTimer)},1E3)):(gotoPageFun(bookConfig.OriginPageIndex,!1,"visit"),BookEvent.trigger("visit",[bookConfig.OriginPageIndex,_agent_.browser.device,_agent_.system.name,window.screen.width,window.screen.height,global.templeteName]),TurnonAutoFlip());0<=window.location.search.indexOf("fullscreen=true")&&function(){toolBar&&toolBar.btnFullscreen&&toolBar.btnFullscreen.trigger(_event._end);$(document).trigger(fullScreenApi.fullScreenEventName)}.delay(this,
50)}
function onStageResize(a){if(!window.disableResize){global.resizeBookAfterFlip=!1;if(global.brandBar)global.brandBar.onResize(windowWidth,windowHeight);if(bookType==BookType.normal_book&&flipBook&&flipBook.flipping||bookType==BookType.single_book&&singlePageBook.flipping||bookType==BookType.catalog_book&&catalogBook&&catalogBook.flipping)resizeBookAfterFlip=!0;else{$("html").css({height:windowHeight+"px",width:windowWidth+"px"});$("body").css({height:windowHeight+"px",width:windowWidth+"px"});tmpContainer.css({height:windowHeight+
"px",width:windowWidth+"px"});resizeToolBar();changeShowBookByWindow();resizePlugin();resizeAttachments();window.resizeComponents&&window.resizeComponents();if(global.handSwipeHelp)global.handSwipeHelp.onResize();if(bookConfig.InstructionsButtonVisible&&global.bookInstructions)global.bookInstructions.onResize();if(global.popZoomBox)global.popZoomBox.onResize();if(global.phoneVideoBox)global.phoneVideoBox.onResize();if(global.sharePoster)global.sharePoster.onResize();window.vuePopDom&&window.vuePopDom.resize(windowWidth,
windowHeight);if(global.reportPanel)global.reportPanel.onResize(windowWidth,windowHeight);if(global.chatbotPanel)global.chatbotPanel.onResize(windowWidth,windowHeight);if(global.accessiblePanel)global.accessiblePanel.onResize(windowWidth,windowHeight);if(global.staticSliderAd)global.staticSliderAd.onResize()}}}
function resizeAttachments(){if(global.frmSearch)frmSearch.onResize();if(global.phoneShare)global.phoneShare.onResize();if(global.phoneTableOfContent)global.phoneTableOfContent.onResize();if(global.phonePrintBody)global.phonePrintBody.onResize();if(bookConfig.WeChatShareButtonVisible&&global.phoneWeChatShareHelp)global.phoneWeChatShareHelp.onResize();if(global.settingBody)global.settingBody.onResize();if(global.thumbnail)thumbnail.onResize();if(global.qrCode)qrCode.onResize();if(global.doubleSinglePageForm)global.doubleSinglePageForm.onResize();
if(global.flipShotButton)flipShotButton.onResize();$(".appear_win10").css({"line-height":windowHeight+"px"});$(".appear_win10 .main_dom").css({left:0,top:0});if(global.articleReader)global.articleReader.onResize();if(global.pcArticlePages)global.pcArticlePages.onResize();if(global.pcArticlePeriodical)global.pcArticlePeriodical.onResize();if(global.phoneArticleReader)global.phoneArticleReader.onResize();if(global.phoneArticlePages)global.phoneArticlePages.onResize();if(global.phoneArticlePeriodical)global.phoneArticlePeriodical.onResize();
if(global.phoneArticleList)global.phoneArticleList.onResize()}
function resizeToolBar(){if(global.toolBar&&toolBar.onResize)toolBar.onResize();if(bookConfig.ToolBarVisible&&global.phoneGotoPagePanel)global.phoneGotoPagePanel.onResize();if(bookConfig.isNeat)NeatStyle.isNeat()?(global.toolBar&&global.toolBar.hide(!1),global.qrButton&&global.qrButton.hide(),bookType==BookType.catalog_book&&global.catalogBook.guidBar&&global.catalogBook.guidBar.hide(),global.flipShotButton&&flipShotButton.hide(),"active"!=global.templeteName&&"popular"!=global.templeteName||!window.thumbnail||
isPhone()||isPad()||thumbnail.hide(),"popular"==global.templeteName&&window.thumbnail&&thumbnail.lineStage&&thumbnail.lineStage.hide(),"shrink"!=global.templeteName||!global.toolBar||isPad()||isPhone()||global.toolBar.hideShrink(),"pure"!=global.templeteName||!global.thumbnail||isPhone()||isPad()||thumbnail.stage.hide(),NeatStyle.show(),NeatStyle.onResize(windowWidth,windowHeight)):(NeatStyle.hide(),global.qrButton&&global.qrButton.show(),("lite"!=bookConfig.ToolbarViewMode||bookType!=BookType.slide_book&&
bookType!=BookType.singleSlide_book&&bookType!=BookType.catalog_book)&&toolBar&&toolBar.show(!1),"active"==global.templeteName&&window.thumbnail&&bookConfig.ThumbnailsButtonVisible&&!isPhone()&&!isPad()&&thumbnail.show(),"pure"!=global.templeteName||!global.thumbnail||isPhone()||isPad()||thumbnail.stage.show(),bookType==BookType.catalog_book&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&catalogBook.guidBar&&catalogBook.guidBar.show(),global.flipShotButton&&flipShotButton.show());else{var a=MiniStyle.isMini();
isPhone()||isPad()||(a?(global.toolBar&&global.toolBar.hide(!1),global.QRbutton&&global.QRbutton.hide(),bookType==BookType.catalog_book&&global.catalogBook.guidBar&&global.catalogBook.guidBar.hide(),global.flipShotButton&&flipShotButton.hide(),"popular"==global.templeteName&&bookConfig.ToolBarVisible&&(global.thumbnail&&global.thumbnail.lineStage&&global.thumbnail.lineStage.hide(),global.toolBar&&global.toolBar.showOrHideLogoBar&&global.toolBar.showOrHideLogoBar(!1)),MiniStyle.show()):(global.QRbutton&&
global.QRbutton.show(),("lite"!=bookConfig.ToolbarViewMode||bookType!=BookType.slide_book&&bookType!=BookType.singleSlide_book&&bookType!=BookType.catalog_book)&&toolBar&&toolBar.show(!1),bookType==BookType.catalog_book&&"lite"==bookConfig.ToolbarViewMode.toLowerCase()&&catalogBook.guidBar&&catalogBook.guidBar.show(),global.flipShotButton&&flipShotButton.show(),"popular"==global.templeteName&&bookConfig.ToolBarVisible&&(global.thumbnail&&global.thumbnail.lineStage&&global.thumbnail.lineStage.show(),
global.toolBar&&global.toolBar.showOrHideLogoBar&&global.toolBar.showOrHideLogoBar(!0)),MiniStyle.hide()))}}
function initEvents(){$(bookContainer).bind("click touchstart",function(c){c.target==c.currentTarget&&onWindowClick(c)});document.addEventListener("touchstart",function(c){1<c.touches.length&&c.preventDefault()});var a=0;document.addEventListener("touchend",function(c){var d=(new Date).getTime();300>=d-a&&c.preventDefault();a=d},!1);document.addEventListener("gesturestart",function(c){c.preventDefault()});$(window).bind("keydown",function(c){onWindowKeyDown(c)});initSoundEvents();bookContainer.bind("mousedown",
function(c){3==c.which&&bookConfig.isStopMouseMenu&&!isPhone()&&(global.customMunuBox||(global.customMunuBox=new CustomMunu(tmpContainer)),global.customMunuBox.show(c))}.bind(this));document.oncontextmenu=function(c){if(bookConfig.isStopMouseMenu&&!isPhone())return!1};window.onkeydown=window.onkeyup=window.onkeypress=function(){if(123==window.event.keyCode&&bookConfig.isStopMouseMenu&&!isPhone())return window.event.returnValue=!1};if(bookConfig.disablePrintShortcut){window.addEventListener("beforeprint",
function(c){c.preventDefault()});var b=$('<style type="text/css">');b.append("\n      @media print {\n        body {\n          display: none;\n        }\n      }\n    ");$("head").append(b)}}
function initSoundEvents(){global.flipAudio&&global.flipAudio.bind("play",function(){global.flipAudio[0].hasPlayed=!0});var a=_event._down;isTouchDevice()&&(a=_event._down+" "+_event._move+" "+_event._end);$(document).bind(a,function(b){BookEvent.trigger("windowClick",[b.offsetX/windowWidth,b.offsetY/windowHeight,BookInfo.getCurrentPages().join("-")])});$("body").bind(a,function(){$("#currentPageIndexTextField")[0]&&$("#currentPageIndexTextField")[0].blur();SoundEvents()})}
function unbindSoundEvent(){var a=_event._down;if(isPhone()||isPad())a=_event._down+" "+_event._move+" "+_event._end;$("body").unbind(a,SoundEvents)}
function SoundEvents(){global.flipAudio&&global.flipAudio[0].paused&&!global.flipAudio[0].hasPlayed&&bookConfig.FlipSound&&(global.flipAudio[0].play(),global.flipAudio[0].pause());global.bgSound&&(global.bgSound.prepareAudios(),isPlaying&&window.playBackgroundSound?global.bgSound.playCurrentAudio():global.bgSound.pauseCurrentAudio());!window.playBackgroundSound&&window.currentMedia&&window.currentMedia.playMedia();global.flipPageAudio&&global.flipPageAudio.playByTouch&&global.flipPageAudio.playByTouch()}
function onWindowClick(a){if(a&&2!=a.button){var b=BookInfo.getBook();if(!((null==b?0:b.status_zoom)||(null==b?0:b.isZomming)||(null==b?0:b.status_resize))){a=a.originalEvent&&a.originalEvent.changedTouches?a.originalEvent.changedTouches:a.changedTouches?a.changedTouches:[a];var c,d=null==b?void 0:null==(c=b.getBook())?void 0:c.offset(),e;b=null==b?void 0:null==(e=b.getBook())?void 0:e.outerWidth();a[0].pageX>d.left+b?rightToLeft?previousPageFun("window click"):nextPageFun("window click"):a[0].pageX<
d.left&&(rightToLeft?nextPageFun("window click"):previousPageFun("window click"))}}}
function onWindowKeyDown(a){if(a){var b=a.keyCode;if(b===KEY_CODE_LEFT||b===KEY_CODE_RIGHT){var c=a.target,d,e=null==(d=c.tagName)?void 0:d.toLowerCase();if(c.isContentEditable||"input"===e||"textarea"===e||"div"===e&&"true"===c.getAttribute("contenteditable"))return}if(!fullScreenApi.isFullScreen()||fullScreenApi.srcElement==$("body")[0])if(Log.info("key down[%d]",b),b===KEY_CODE_ESC){var f;null==(f=FormManager)||f.closeTop()}else{if(b==KEY_CODE_LEFT||b==KEY_CODE_PAGEUP)rightToLeft?nextPageFun("key down"):
previousPageFun("key down");if(b==KEY_CODE_RIGHT||b==KEY_CODE_PAGEDOWN)rightToLeft?previousPageFun("key down"):nextPageFun("key down");b==KEY_CODE_HOME&&(rightToLeft?lastPageFun("key down"):firstPageFun("key down"));b==KEY_CODE_END&&(rightToLeft?firstPageFun("key down"):lastPageFun("key down"));a.ctrlKey&&a.altKey&&(b==KEY_CODE_HOME||b==KEY_CODE_UP)&&eval(DeString("b29ec71982dc6d9062a0b77ce9ccc59581fd3c4a4fa9bd325e6f5ae7fbf39a0907064bb455b1bade956bc0f3e7c55d348fbaa363c39f7bef7a0648674fd1f688786b79bd6ad03215d634a4736f3f971501f664a09b820932d9bc83a9c2159964e5c571b3ebe4ceb214fd31bb1287fe5449f303a6d5531165e1386ba5aa8d0a3788d4a351d120a43a59c002d761ef"));
a.ctrlKey&&a.altKey&&b==KEY_CODE_A+1&&(a=synthesizingBrowserInformation(),console.log(Instance.JSON(a)))}}}
function synthesizingBrowserInformation(){var a="",b="";_agent_.browser.mozilla&&(a="mozilla");_agent_.browser.firefox&&(a="firefox");_agent_.browser.msie&&(a="msie");_agent_.browser.edge&&(a="edge");_agent_.browser.opera&&(a="opera");_agent_.browser.chrome&&(a="chrome");_agent_.browser.uc&&(a="uc");_agent_.browser.safari&&(a="safari");_agent_.browser.wechat&&(a="wechat");switch(_agent_.browser.device){case 0:b="DEVICE_PC";break;case 1:b="DEVICE_PAD";break;case 2:b="DEVICE_PHONE"}return{system_name:_agent_.system.name,
system_version:_agent_.system.version,browser_name:a,browser_version:_agent_.browser.version,device:b,isApp:_agent_.browser.app,build:BUILD_DATE}}
$(document).on("visibilitychange",function(){document.hidden?(global.bgSound&&isPlaying&&window.playBackgroundSound&&global.bgSound.pauseCurrentAudio(),!window.playBackgroundSound&&window.currentMedia&&window.currentMedia.pauseMedia()):(global.bgSound&&isPlaying&&window.playBackgroundSound&&global.bgSound.playCurrentAudio(),!window.playBackgroundSound&&window.currentMedia&&window.currentMedia.playMedia())});
function showArticleById(a){0>global.templeteName.indexOf("article")||(window.articleReader&&(articleReader.show(),articleReader.showArticleById(a)),window.phoneArticleReader&&phoneArticleReader.showArticleById(a))}
function getArticleById(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){return b.return(new Promise(function(c,d){$.ajax({url:articleUrl,type:"post",dataType:"json",data:{articleId:a,bookId:window.bookId,token:BookRestrict.getRestrictToken()},success:function(e){"OK"==e.code&&c(e.data)},error:function(e){c("")}})}))})}
function getArticleImage(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){a=changeBookResourceBaseURL(a);return bookConfig.isEncryptionBook?b.return(new Promise(function(c,d){var e=[];e.push(toAbsURL(a));d=BookRestrict.getRestrictToken();$.ajax({type:"get",url:restrictUrl,dataType:"json",data:{urls:JSON.stringify(e),token:d},success:function(f){"OK"==f.code?c(f.data[e[0]]):c("")},error:function(){c("")}})})):b.return(a)})}
function set_weixin_share(a,b,c,d){if("micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)){var e=a,f=b,g="https:"+d.replace(/^https?:/,"").replace(/\?[0-9]*/,"");e=""==e?c:e;f=""==f?e:f;f=f.replace(/<br>/g,"\n");wx.ready(function(){wx.onMenuShareWeibo({title:e,desc:""==f?e:f,link:c,imgUrl:g,success:function(){},cancel:function(){}});wx.onMenuShareTimeline({title:e,link:c,imgUrl:g,success:function(){},cancel:function(){}});wx.onMenuShareAppMessage({title:e,desc:f,link:c,
imgUrl:g,success:function(){},cancel:function(){}});wx.onMenuShareQQ({title:e,desc:f,link:c,imgUrl:g,success:function(){},cancel:function(){}});wx.onMenuShareWeibo({title:e,desc:f,link:c,imgUrl:g,success:function(){},cancel:function(){}});try{wx.onMenuShareWechat({title:e,desc:f,link:c,imgUrl:g,success:function(){},cancel:function(){}})}catch(h){}wx.invoke("shareAppMessage",{title:e,desc:f,link:c,imgUrl:g},function(h){});wx.invoke("shareWechatMessage",{title:e,desc:f,link:c,imgUrl:g},function(h){});
wx.invoke("shareToExternalContact",{title:e,desc:f,link:c,imgUrl:g},function(h){});wx.invoke("shareToExternalChat",{title:e,desc:f,link:c,imgUrl:g},function(h){})});wx.error(function(h){})}}function loadGlobalArticleConfig(a){loadArticleConfig(a)}
function loadArticleConfig(a){bookConfig.articleConfigPath?$.ajax({url:bookConfig.articleConfigPath,type:"GET",dataType:"json",success:function(b){a&&a(bookConfig.articleConfigPath,b)},error:function(b){loadBookArticleConfig(a)}}):loadBookArticleConfig(a)}
function loadBookArticleConfig(a){bookConfig.bookArticleConfigPath?$.ajax({url:bookConfig.bookArticleConfigPath,type:"GET",dataType:"json",success:function(b){a&&a(bookConfig.bookArticleConfigPath,b)},error:function(b){loadPeriodsConfig(a)}}):loadPeriodsConfig(a)}
function loadPeriodsConfig(a){if(bookConfig.periodsConfigPath&&window.book_visit&&window.book_visit.periodicalId){var b=bookConfig.periodsConfigPath;b=b.replace("%periodicalId%",window.book_visit.periodicalId);$.ajax({url:b,type:"GET",dataType:"json",success:function(c){a&&a(b,c)},error:function(c){loadUserConfig(a)}})}else loadUserConfig(a)}
function loadUserConfig(a){bookConfig.userArticleConfigPath?$.ajax({url:bookConfig.userArticleConfigPath,type:"GET",dataType:"json",success:function(b){a&&a(bookConfig.userArticleConfigPath,b)},error:function(b){a&&a()}}):a&&a()};
